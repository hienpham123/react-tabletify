"use strict";var e=require("react/jsx-runtime");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var n=t(require("react")),r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function o(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function l(e,t){void 0===t&&(t=10);var l=n.useState(""),a=l[0],i=l[1],s=n.useState(null),c=s[0],u=s[1],d=n.useState("asc"),h=d[0],f=d[1],g=n.useState(1),p=g[0],m=g[1],v=n.useState({}),x=v[0],y=v[1],b=n.useMemo(function(){var t=e;if(Object.entries(x).forEach(function(e){var n=e[0],r=e[1];r.length>0&&(t=t.filter(function(e){return r.includes(String(e[n]))}))}),a.trim()){var n=a.toLowerCase();t=t.filter(function(e){return Object.values(e).some(function(e){return String(e).toLowerCase().includes(n)})})}return t},[e,a,x]),k=n.useMemo(function(){return c?o([],b,!0).sort(function(e,t){var n=e[c],r=t[c];if(null==n)return 1;if(null==r)return-1;if(n===r)return 0;var o=String(n).localeCompare(String(r),void 0,{numeric:!0,sensitivity:"base"});return"asc"===h?o:-o}):b},[b,c,h]),C=Math.ceil(k.length/t),w=n.useMemo(function(){var e=(p-1)*t;return k.slice(e,e+t)},[k,p,t]);return n.useEffect(function(){m(1)},[a,c,h,x]),{filtered:b,paged:w,currentPage:p,setCurrentPage:m,totalPages:C,itemsPerPage:t,search:a,setSearch:i,sortKey:c,sortDir:h,handleSort:function(e,t){t?(u(e),f(t)):c===e?f(function(e){return"asc"===e?"desc":"asc"}):(u(e),f("asc"))},filters:x,setFilter:function(e,t){y(function(n){var o=r({},n);return 0===t.length?delete o[e]:o[e]=t,o})}}}"function"==typeof SuppressedError&&SuppressedError;var a=function(t){var n=t.totalItems,o=t.itemsPerPage,l=t.currentPage,a=t.onPageChange,i=t.maxVisible,s=void 0===i?5:i,c=Math.ceil(n/o);if(c<=1)return null;var u=Math.floor(s/2),d=Math.max(1,l-u),h=Math.min(c,d+s-1);h-d<s-1&&(d=Math.max(1,h-s+1));var f=Array.from({length:h-d+1},function(e,t){return d+t}),g=function(e){e<1||e>c||e===l||a(e)};return e.jsxs("div",r({className:"th-pagination"},{children:[e.jsx("button",r({onClick:function(){return g(l-1)},disabled:1===l,className:"th-pagination-btn"},{children:"Prev"})),d>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",r({className:"th-pagination-btn",onClick:function(){return g(1)}},{children:"1"})),d>2&&e.jsx("span",r({className:"th-pagination-ellipsis"},{children:"..."}))]}),f.map(function(t){return e.jsx("button",r({onClick:function(){return g(t)},className:"th-pagination-btn ".concat(t===l?"th-page-active":"")},{children:t}),t)}),h<c&&e.jsxs(e.Fragment,{children:[h<c-1&&e.jsx("span",r({className:"th-pagination-ellipsis"},{children:"..."})),e.jsx("button",r({className:"th-pagination-btn",onClick:function(){return g(c)}},{children:c}))]}),e.jsx("button",r({onClick:function(){return g(l+1)},disabled:l===c,className:"th-pagination-btn"},{children:"Next"}))]}))};function i(t){var o=t.anchorRef,l=t.onSortAsc,a=t.onSortDesc,i=t.onFilter,s=t.onClearFilter,c=t.onPinLeft,u=t.onPinRight,d=t.onUnpin,h=t.onToggleVisibility;t.onDismiss;var f=t.onMouseEnter,g=t.onMouseLeave,p=t.sortable,m=void 0===p||p,v=t.filterable,x=void 0===v||v,y=t.hasFilter,b=void 0!==y&&y,k=t.pinned,C=void 0===k?null:k,w=t.visible,S=void 0===w||w,j=t.enableColumnVisibility,N=void 0!==j&&j;t.enableColumnReorder;var P=n.useRef(null);if(!o.current)return null;var R=o.current.getBoundingClientRect();return e.jsxs("div",r({ref:P,className:"th-callout",style:{top:R.bottom+6,left:R.left,position:"fixed"},onMouseEnter:f,onMouseLeave:g},{children:[m&&e.jsxs(e.Fragment,{children:[e.jsxs("button",r({onClick:l,className:"th-callout-item"},{children:[e.jsx("span",r({className:"th-callout-icon"},{children:"â†‘"})),e.jsx("span",r({className:"th-callout-text"},{children:"A to Z"}))]})),e.jsxs("button",r({onClick:a,className:"th-callout-item"},{children:[e.jsx("span",r({className:"th-callout-icon"},{children:"â†“"})),e.jsx("span",r({className:"th-callout-text"},{children:"Z to A"}))]}))]}),m&&x&&e.jsx("hr",{className:"th-callout-divider"}),x&&b&&s&&e.jsx("button",r({onClick:s,className:"th-callout-item"},{children:e.jsx("span",r({className:"th-callout-text"},{children:"Clear filter"}))})),x&&b&&s&&e.jsx("hr",{className:"th-callout-divider"}),x&&e.jsx("button",r({onClick:i,className:"th-callout-item"},{children:e.jsx("span",r({className:"th-callout-text"},{children:"Filter by"}))})),(c||u||d)&&e.jsx("hr",{className:"th-callout-divider"}),null===C&&c&&e.jsx("button",r({onClick:c,className:"th-callout-item"},{children:e.jsx("span",r({className:"th-callout-text"},{children:"Pin left"}))})),null===C&&u&&e.jsx("button",r({onClick:u,className:"th-callout-item"},{children:e.jsx("span",r({className:"th-callout-text"},{children:"Pin right"}))})),null!==C&&d&&e.jsx("button",r({onClick:d,className:"th-callout-item"},{children:e.jsx("span",r({className:"th-callout-text"},{children:"Unpin"}))})),N&&h&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"th-callout-divider"}),e.jsx("button",r({onClick:h,className:"th-callout-item"},{children:e.jsx("span",r({className:"th-callout-text"},{children:S?"Hide column":"Show column"}))}))]})]}))}function s(t){var l=t.field,a=t.values,i=t.selected,s=t.onApply,c=t.onDismiss,u=n.useState(i),d=u[0],h=u[1],f=n.useState(""),g=f[0],p=f[1];n.useEffect(function(){h(i),p("")},[l]);var m=n.useMemo(function(){if(!g.trim())return a;var e=g.toLowerCase();return a.filter(function(t){return t.toLowerCase().includes(e)})},[a,g]);return e.jsxs("div",r({className:"th-filter-panel open"},{children:[e.jsxs("div",r({className:"th-filter-header"},{children:[e.jsxs("strong",{children:["Filter by '",l,"'"]}),e.jsx("button",r({className:"th-filter-close",onClick:c,"aria-label":"Close"},{children:e.jsx("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8 7.29289L3.85355 3.14645C3.65829 2.95118 3.34171 2.95118 3.14645 3.14645C2.95118 3.34171 2.95118 3.65829 3.14645 3.85355L7.29289 8L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L8 8.70711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.70711 8L12.8536 3.85355Z",fill:"currentColor"})}))}))]})),e.jsxs("div",r({className:"th-filter-content"},{children:[e.jsx("div",r({className:"th-filter-search"},{children:e.jsx("input",{type:"text",className:"th-filter-search-input",placeholder:"Select ".concat(l," to display..."),value:g,onChange:function(e){return p(e.target.value)}})})),e.jsx("div",r({className:"th-filter-options-list"},{children:m.length>0?m.map(function(t){return e.jsxs("div",r({className:"th-filter-option"},{children:[e.jsx("input",{type:"checkbox",id:"filter-".concat(l,"-").concat(t),checked:d.includes(t),onChange:function(){return function(e){h(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):o(o([],t,!0),[e],!1)})}(t)}}),e.jsx("label",r({htmlFor:"filter-".concat(l,"-").concat(t)},{children:t}))]}),t)}):e.jsx("div",r({className:"th-filter-no-results"},{children:"No results found"}))}))]})),e.jsxs("div",r({className:"th-filter-footer"},{children:[e.jsx("button",r({className:"th-btn",onClick:function(){h([])}},{children:"Clear all"})),e.jsx("button",r({className:"th-btn primary",onClick:function(){return s(d)}},{children:"Apply"}))]}))]}))}function c(t){var n=t.columns,o=t.itemsPerPage,l=t.selectionMode,a=t.onRenderLoading;return a?e.jsx(e.Fragment,{children:a()}):e.jsxs("div",r({className:"th-loading-skeleton"},{children:[e.jsxs("div",r({className:"th-skeleton-header"},{children:["none"!==l&&e.jsx("div",{className:"th-skeleton-cell",style:{width:"48px"}}),n.map(function(t,n){return e.jsx("div",{className:"th-skeleton-cell",style:{width:t.width||"150px"}},n)})]})),Array.from({length:o}).map(function(t,o){return e.jsxs("div",r({className:"th-skeleton-row"},{children:["none"!==l&&e.jsx("div",{className:"th-skeleton-cell",style:{width:"48px"}}),n.map(function(t,n){return e.jsx("div",{className:"th-skeleton-cell",style:{width:t.width||"150px"}},n)})]}),o)})]}))}function u(t){var n=t.emptyMessage,o=t.onRenderEmpty;return o?e.jsx(e.Fragment,{children:o()}):e.jsxs("div",r({className:"th-empty-state"},{children:[e.jsx("div",r({className:"th-empty-icon"},{children:"ðŸ“‹"})),e.jsx("div",r({className:"th-empty-message"},{children:n||"No data available"}))]}))}var d={mode:"light",colors:{background:"#ffffff",surface:"#ffffff",headerBackground:"#faf9f8",rowBackground:"#ffffff",rowBackgroundAlternate:"#f9f9f9",selectedRowBackground:"#edebe9",hoverRowBackground:"#f3f2f1",groupHeaderBackground:"#f3f2f1",text:"#323130",textSecondary:"#605e5c",headerText:"#323130",rowText:"#323130",selectedRowText:"#323130",border:"#edebe9",borderLight:"#f1f1f1",rowBorder:"#f1f1f1",focus:"#107c10",focusBorder:"#107c10",hover:"#f3f2f1",active:"#edebe9",disabled:"#a19f9d",primary:"#107c10",success:"#107c10",warning:"#ffaa44",error:"#d13438"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.08)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.132), 0 0.6px 1.8px rgba(0, 0, 0, 0.108)",panel:"-2px 0 8px rgba(0, 0, 0, 0.15), -1px 0 2px rgba(0, 0, 0, 0.1)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}},h={mode:"dark",colors:{background:"#1a1a1a",surface:"#252526",headerBackground:"#2d2d30",rowBackground:"#252526",rowBackgroundAlternate:"#2d2d30",selectedRowBackground:"#3e3e42",hoverRowBackground:"#2d2d30",groupHeaderBackground:"#2d2d30",text:"#cccccc",textSecondary:"#858585",headerText:"#cccccc",rowText:"#cccccc",selectedRowText:"#ffffff",border:"#3e3e42",borderLight:"#2d2d30",rowBorder:"#3e3e42",focus:"#4ec9b0",focusBorder:"#4ec9b0",hover:"#2d2d30",active:"#3e3e42",disabled:"#858585",primary:"#4ec9b0",success:"#4ec9b0",warning:"#dcdcaa",error:"#f48771"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.3)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.4), 0 0.6px 1.8px rgba(0, 0, 0, 0.3)",panel:"-2px 0 8px rgba(0, 0, 0, 0.4), -1px 0 2px rgba(0, 0, 0, 0.3)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}};function f(e){if(!e)return d;if("string"==typeof e)return"dark"===e?h:d;var t="dark"===e.mode?h:d;return r(r(r({},t),e),{colors:r(r({},t.colors),e.colors),spacing:e.spacing?r(r({},t.spacing),e.spacing):t.spacing,typography:e.typography?r(r({},t.typography),e.typography):t.typography,borderRadius:e.borderRadius?r(r({},t.borderRadius),e.borderRadius):t.borderRadius,shadows:e.shadows?r(r({},t.shadows),e.shadows):t.shadows,transitions:e.transitions?r(r({},t.transitions),e.transitions):t.transitions})}function g(e){var t=e.colors,n=e.spacing,r=e.typography,o=e.borderRadius,l=e.shadows,a=e.transitions;return{"--th-color-background":t.background,"--th-color-surface":t.surface,"--th-color-header-background":t.headerBackground,"--th-color-row-background":t.rowBackground,"--th-color-row-background-alternate":t.rowBackgroundAlternate,"--th-color-selected-row-background":t.selectedRowBackground,"--th-color-hover-row-background":t.hoverRowBackground,"--th-color-group-header-background":t.groupHeaderBackground,"--th-color-text":t.text,"--th-color-text-secondary":t.textSecondary,"--th-color-header-text":t.headerText,"--th-color-row-text":t.rowText,"--th-color-selected-row-text":t.selectedRowText,"--th-color-border":t.border,"--th-color-border-light":t.borderLight,"--th-color-row-border":t.rowBorder,"--th-color-focus":t.focus,"--th-color-focus-border":t.focusBorder,"--th-color-hover":t.hover,"--th-color-active":t.active,"--th-color-disabled":t.disabled,"--th-color-primary":t.primary,"--th-color-success":t.success,"--th-color-warning":t.warning,"--th-color-error":t.error,"--th-spacing-cell-padding":null==n?void 0:n.cellPadding,"--th-spacing-header-padding":null==n?void 0:n.headerPadding,"--th-spacing-row-height":null==n?void 0:n.rowHeight,"--th-spacing-row-height-compact":null==n?void 0:n.rowHeightCompact,"--th-spacing-row-height-spacious":null==n?void 0:n.rowHeightSpacious,"--th-spacing-gap":null==n?void 0:n.gap,"--th-typography-font-family":null==r?void 0:r.fontFamily,"--th-typography-font-size":null==r?void 0:r.fontSize,"--th-typography-font-size-small":null==r?void 0:r.fontSizeSmall,"--th-typography-font-size-large":null==r?void 0:r.fontSizeLarge,"--th-typography-font-weight":null==r?void 0:r.fontWeight,"--th-typography-font-weight-bold":null==r?void 0:r.fontWeightBold,"--th-typography-line-height":null==r?void 0:r.lineHeight,"--th-border-radius-table":null==o?void 0:o.table,"--th-border-radius-cell":null==o?void 0:o.cell,"--th-border-radius-button":null==o?void 0:o.button,"--th-shadow-table":null==l?void 0:l.table,"--th-shadow-header":null==l?void 0:l.header,"--th-shadow-callout":null==l?void 0:l.callout,"--th-shadow-panel":null==l?void 0:l.panel,"--th-transition-duration":null==a?void 0:a.duration,"--th-transition-easing":null==a?void 0:a.easing}}exports.ReactTabletify=function(t){var d=t.columns,h=t.data,p=t.itemsPerPage,m=void 0===p?10:p,v=t.groupBy,x=t.onRenderCell,y=t.onRenderRow,b=t.onRenderHeader;t.onItemInvoked;var k=t.onColumnHeaderClick,C=t.getKey,w=t.onActiveItemChanged,S=t.onItemContextMenu,j=t.className,N=t.styles,P=t.selectionMode,R=void 0===P?"none":P,M=t.onSelectionChanged,I=t.showPagination,E=void 0===I||I,L=t.theme,B=t.maxHeight,z=t.onCellEdit,H=t.pinnedColumns,D=t.onColumnPin,F=t.showTooltip,O=void 0===F||F,A=t.loading,T=void 0!==A&&A,K=t.onRenderLoading,W=t.emptyMessage,V=t.onRenderEmpty,U=t.stickyHeader,q=void 0!==U&&U,X=t.enableColumnVisibility,Z=t.onColumnVisibilityChange,G=t.enableColumnReorder,J=t.onColumnReorder,Q=t.enableKeyboardNavigation,Y=void 0===Q||Q;!function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}}(t,["columns","data","itemsPerPage","groupBy","onRenderCell","onRenderRow","onRenderHeader","onItemInvoked","onColumnHeaderClick","getKey","onActiveItemChanged","onItemContextMenu","className","styles","selectionMode","onSelectionChanged","showPagination","theme","maxHeight","onCellEdit","pinnedColumns","onColumnPin","showTooltip","loading","onRenderLoading","emptyMessage","onRenderEmpty","stickyHeader","enableColumnVisibility","onColumnVisibilityChange","enableColumnReorder","onColumnReorder","enableKeyboardNavigation"]);var $=l(h,m),_=n.useRef({}),ee=n.useRef(null),te=n.useState(null),ne=te[0],re=te[1],oe=n.useState(new Set),le=oe[0],ae=oe[1],ie=function(e,t,l,a,i,s,c){var u=n.useState(t||{}),d=u[0],h=u[1],f=n.useState(new Set(e.map(function(e){return e.key}))),g=f[0],p=f[1],m=n.useState(e.map(function(e){return e.key})),v=m[0],x=m[1],y=n.useState(null),b=y[0],k=y[1],C=n.useState(null),w=C[0],S=C[1];n.useEffect(function(){l&&a&&a(Array.from(g))},[g,l,a]),n.useEffect(function(){i&&s&&s(v)},[v,i,s]);var j=n.useCallback(function(e){p(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),N=n.useCallback(function(e,t){h(function(n){var o=r({},n);return null===t?delete o[String(e)]:o[String(e)]=t,o}),null==c||c(e,t)},[c]),P=n.useCallback(function(e){i&&k(e)},[i]),R=n.useCallback(function(e,t){i&&b&&b!==t&&(e.preventDefault(),S(t))},[i,b]),M=n.useCallback(function(e){i&&b&&b!==e&&(x(function(t){var n=o([],t,!0),r=n.indexOf(b),l=n.indexOf(e);return n.splice(r,1),n.splice(l,0,b),n}),k(null),S(null))},[i,b]),I=n.useMemo(function(){return l?e.filter(function(e){return g.has(e.key)}):e},[e,g,l]),E=n.useMemo(function(){if(!i)return I;var e=new Map(v.map(function(e,t){return[e,t]}));return o([],I,!0).sort(function(t,n){var r,o;return(null!==(r=e.get(t.key))&&void 0!==r?r:1/0)-(null!==(o=e.get(n.key))&&void 0!==o?o:1/0)})},[I,v,i]),L=n.useMemo(function(){var e=[],t=[],n=[];return E.forEach(function(r){var o=d[String(r.key)]||r.pinned||null;"left"===o?e.push(r):"right"===o?n.push(r):t.push(r)}),o(o(o([],e,!0),t,!0),n,!0)},[E,d]);return{internalPinnedColumns:d,visibleColumns:g,columnOrder:v,draggedColumn:b,dragOverColumn:w,sortedColumns:L,handleToggleColumnVisibility:j,handleColumnPin:N,handleColumnDragStart:P,handleColumnDragOver:R,handleColumnDrop:M}}(d,H,X,Z,G,J,D),se=ie.internalPinnedColumns,ce=ie.visibleColumns,ue=ie.dragOverColumn,de=ie.sortedColumns,he=ie.handleToggleColumnVisibility,fe=ie.handleColumnPin,ge=ie.handleColumnDragStart,pe=ie.handleColumnDragOver,me=ie.handleColumnDrop,ve=function(e,t,r,l,a){var i=n.useState(new Set),s=i[0],c=i[1],u=n.useState(void 0),d=u[0],h=u[1],f=n.useCallback(function(e,t){return a?a(e,t):void 0!==e.id?e.id:t},[a]),g=n.useCallback(function(n,o,a){var i=f(n,o);c(function(n){var o=new Set(n);if("single"===t?(o.clear(),a&&o.add(i)):"multiple"===t&&(a?o.add(i):o.delete(i)),r){var l=e.filter(function(e,t){return o.has(f(e,t))});r(l)}return o}),h(o),l&&l(n,o)},[t,f,r,l,e]),p=n.useCallback(function(n,o,a){if(!a.target.closest(".th-selection-checkbox")){if("none"!==t){var i=f(n,o);c(function(n){var o=new Set(n);if("single"===t?(o.clear(),o.add(i)):"multiple"===t&&(a.ctrlKey||a.metaKey?o.has(i)?o.delete(i):o.add(i):(o.clear(),o.add(i))),r){var l=e.filter(function(e,t){return o.has(f(e,t))});r(l)}return o})}h(o),l&&l(n,o)}},[t,f,r,l,e]),m=n.useCallback(function(n){"multiple"===t&&c(function(t){var l=n?new Set(e.map(function(e,t){return f(e,t)})):new Set;if(r){var a=n?o([],e,!0):[];r(a)}return l})},[t,e,f,r]),v=n.useMemo(function(){return"multiple"===t&&0!==e.length&&e.every(function(e,t){return s.has(f(e,t))})},[t,e,s,f]),x=n.useMemo(function(){if("multiple"!==t||0===e.length)return!1;var n=e.filter(function(e,t){return s.has(f(e,t))}).length;return n>0&&n<e.length},[t,e,s,f]),y=n.useCallback(function(e,t){return s.has(f(e,t))},[s,f]);return{selectedItems:s,activeItemIndex:d,isAllSelected:v,isIndeterminate:x,getItemKey:f,handleCheckboxChange:g,handleItemClick:p,handleSelectAll:m,isItemSelected:y,setSelectedItems:c}}(h,R,M,w,C),xe=ve.selectedItems,ye=ve.activeItemIndex,be=ve.isAllSelected,ke=ve.isIndeterminate,Ce=ve.getItemKey,we=ve.handleCheckboxChange,Se=ve.handleItemClick,je=ve.handleSelectAll,Ne=ve.setSelectedItems,Pe=function(e,t){var o=n.useState({}),l=o[0],a=o[1],i=n.useState(null),s=i[0],c=i[1],u=n.useState(0);u[0];var d=u[1],h=n.useState(0);h[0];var f=h[1],g=n.useCallback(function(t,n){var o,l;n.preventDefault(),n.stopPropagation();var i=String(t),s=null===(l=null===(o=e.current)||void 0===o?void 0:o[i])||void 0===l?void 0:l.parentElement;if(s){var u=s.offsetWidth,h=n.clientX;c(i),document.body.style.cursor="col-resize",document.body.style.userSelect="none",d(h),f(u);var g=function(e){var t=e.clientX-h,n=Math.max(50,u+t);a(function(e){var t;return r(r({},e),((t={})[i]=n,t))})},p=function(){document.body.style.cursor="",document.body.style.userSelect="",c(null),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)}},[e,t]);return{columnWidths:l,resizingColumn:s,handleResizeStart:g}}(_),Re=Pe.columnWidths,Me=Pe.resizingColumn,Ie=Pe.handleResizeStart,Ee=function(e){var t=n.useState(null),r=t[0],o=t[1],l=n.useRef(null),a=n.useCallback(function(t){e||(l.current&&clearTimeout(l.current),l.current=setTimeout(function(){o(t)},150))},[e]),i=n.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){o(null)},200)},[]),s=n.useCallback(function(){l.current&&clearTimeout(l.current),o(null)},[]);return n.useEffect(function(){return function(){l.current&&clearTimeout(l.current)}},[]),{calloutKey:r,setCalloutKey:o,handleHeaderMouseEnter:a,handleHeaderMouseLeave:i,dismissCallout:s}}(Me),Le=function(e){var t=n.useState(null),r=t[0],o=t[1],l=n.useState(""),a=l[0],i=l[1],s=n.useRef(null),c=n.useCallback(function(e,t,n){var r;!0===t.editable&&(o({rowIndex:n,columnKey:t.key}),i(String(null!==(r=e[t.key])&&void 0!==r?r:"")))},[]),u=n.useCallback(function(t,n,r){e&&e(t,n,a,r),o(null),i("")},[e,a]),d=n.useCallback(function(){o(null),i("")},[]);return n.useEffect(function(){r&&s.current&&(s.current.focus(),s.current.select())},[r]),{editingCell:r,editValue:a,editInputRef:s,setEditValue:i,handleCellEditStart:c,handleCellEditSave:u,handleCellEditCancel:d}}(z),Be=Le.editingCell,ze=Le.editValue,He=Le.editInputRef,De=Le.setEditValue,Fe=Le.handleCellEditStart,Oe=Le.handleCellEditSave,Ae=Le.handleCellEditCancel,Te=n.useMemo(function(){return ne?Array.from(new Set(h.map(function(e){return String(e[ne])}))):[]},[ne,h]);n.useEffect(function(){v&&$.setCurrentPage(1)},[v]);var Ke=n.useMemo(function(){if(!v)return null;var e={};return($.sortKey?o([],$.filtered,!0).sort(function(e,t){var n=e[$.sortKey],r=t[$.sortKey];if(null==n)return 1;if(null==r)return-1;if(n===r)return 0;var o=String(n).localeCompare(String(r),void 0,{numeric:!0,sensitivity:"base"});return"asc"===$.sortDir?o:-o}):$.filtered).forEach(function(t){var n=String(t[v]);e[n]||(e[n]=[]),e[n].push(t)}),e},[$.filtered,$.sortKey,$.sortDir,v]);n.useEffect(function(){if(v&&Ke){var e=Object.keys(Ke).length,t=Math.ceil(e/$.itemsPerPage);$.currentPage>t&&t>0&&$.setCurrentPage(1)}},[Ke,v,$.itemsPerPage,$.currentPage,$.setCurrentPage]);var We=n.useMemo(function(){if(!v||!Ke)return null;var e=Object.entries(Ke);e.sort(function(e,t){var n=e[0],r=t[0];return n.localeCompare(r)});var t=($.currentPage-1)*$.itemsPerPage,n=t+$.itemsPerPage;return e.slice(t,n)},[Ke,$.currentPage,$.itemsPerPage,v]),Ve=n.useCallback(function(e,t){var n,r,o;if(t.onRenderCell){var l=t.onRenderCell(e,t.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(n=e[t.key])&&void 0!==n?n:"")}if(x){l=x(e,t.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(r=e[t.key])&&void 0!==r?r:"")}return String(null!==(o=e[t.key])&&void 0!==o?o:"")},[x]),Ue=n.useCallback(function(t,n,r){var o;return(null==Be?void 0:Be.rowIndex)===r&&(null==Be?void 0:Be.columnKey)===n.key&&n.editable&&z?e.jsx("input",{ref:He,type:"text",className:"th-cell-edit-input",value:ze,onChange:function(e){return De(e.target.value)},onBlur:function(){return Oe(t,n.key,r)},onKeyDown:function(e){"Enter"===e.key?Oe(t,n.key,r):"Escape"===e.key&&Ae()},onClick:function(e){return e.stopPropagation()}}):n.onRenderCell?n.onRenderCell(t,n.key,r):x?x(t,n.key,r):String(null!==(o=t[n.key])&&void 0!==o?o:"")},[x,Be,ze,Oe,Ae]),qe=n.useMemo(function(){return f(L)},[L]),Xe=n.useMemo(function(){return g(qe)},[qe]),Ze=n.useMemo(function(){return v&&We?We.flatMap(function(e){return e[0],e[1]}):$.paged},[v,We,$.paged]),Ge=function(e,t,r,o,l,a,i){var s=n.useState(null),c=s[0],u=s[1];return n.useEffect(function(){if(t&&e.current&&!r){var n=function(e){if(!r&&0!==o.length){var t=null!=c?c:0;switch(e.key){case"ArrowDown":e.preventDefault(),t=Math.min(t+1,o.length-1),u(t);break;case"ArrowUp":e.preventDefault(),t=Math.max(t-1,0),u(t);break;case"Enter":case" ":if(e.preventDefault(),null!==c&&"none"!==l){var n=o[c],s=a(n,c);null==i||i(new Set([s]))}break;case"Escape":e.preventDefault(),u(null),null==i||i(new Set)}}};return e.current.addEventListener("keydown",n),function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("keydown",n)}}},[t,r,c,l,o,a,i,e]),{focusedRowIndex:c,setFocusedRowIndex:u}}(ee,Y,T,Ze,R,Ce,function(e){return Ne(e)}).focusedRowIndex,Je=h.length>0,Qe=!T&&!Je,Ye=!T&&Je,$e=n.useCallback(function(e,t){var n=String(e.key);if("left"!==(se[n]||e.pinned||null))return 0;var r=0;"none"!==R&&(r+=48);for(var o=0;o<t;o++){var l=de[o];if("left"===(se[String(l.key)]||l.pinned||null))r+=Re[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return r},[de,se,Re,R]),_e=n.useCallback(function(e,t){var n=String(e.key);if("right"!==(se[n]||e.pinned||null))return 0;for(var r=0,o=t+1;o<de.length;o++){var l=de[o];if("right"===(se[String(l.key)]||l.pinned||null))r+=Re[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return r},[de,se,Re]);return e.jsxs("div",r({ref:ee,className:"th-table ".concat(j||""," th-theme-").concat(qe.mode||"light"," ").concat(Me?"resizing":""," ").concat(q?"th-sticky-header":""),style:r(r(r(r({},Xe),N),B?{maxHeight:"number"==typeof B?"".concat(B,"px"):B,overflow:"auto"}:{}),Me?{cursor:"col-resize"}:{}),tabIndex:Y?0:void 0},{children:[T&&e.jsx(c,{columns:de,itemsPerPage:m,selectionMode:R,onRenderLoading:K}),Qe&&e.jsx(u,{emptyMessage:W,onRenderEmpty:V}),Ye&&e.jsx("div",r({style:{overflowX:"auto",width:"100%"}},{children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:["none"!==R&&e.jsx("th",r({className:"th-selection-column"},{children:"multiple"===R?e.jsx("div",r({className:"th-selection-checkbox-wrapper"},{children:e.jsx("input",{type:"checkbox",className:"th-selection-checkbox",checked:be,ref:function(e){e&&(e.indeterminate=ke)},onChange:function(e){return je(e.target.checked)},onClick:function(e){return e.stopPropagation()}})})):e.jsx("div",{className:"th-selection-checkbox-wrapper"})})),de.map(function(t,n){var o=String(t.key),l=Re[o],a=se[String(t.key)]||t.pinned||null,s="left"===a?$e(t,n):0,c="right"===a?_e(t,n):0,u=r(r(r(r({},t.style),{width:l?"".concat(l,"px"):t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,textAlign:t.align,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(s,"px"),zIndex:5}:{}),"right"===a?{right:"".concat(c,"px"),zIndex:5}:{}),d=t.className?"th-header-cell ".concat(a?"th-header-pinned":""," ").concat(t.className):a?"th-header-cell th-header-pinned":"th-header-cell";return e.jsxs("th",r({style:u,draggable:G,onDragStart:function(){return ge(t.key)},onDragOver:function(e){return pe(e,t.key)},onDrop:function(){return me(t.key)},onDragLeave:function(){},className:ue===t.key?"th-drag-over":""},{children:[b?b(t,n):e.jsxs("div",r({className:d,ref:function(e){e&&(_.current[String(t.key)]=e)},onMouseEnter:function(){return Ee.handleHeaderMouseEnter(String(t.key))},onMouseLeave:Ee.handleHeaderMouseLeave,onClick:function(e){return null==k?void 0:k(t,e)}},{children:[e.jsxs("span",r({className:"th-header-label"},{children:[t.label,e.jsx("span",r({className:"th-header-chevron-icon",role:"presentation","aria-hidden":"true"},{children:e.jsx("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"})}))}))]})),e.jsxs("div",r({className:"th-header-icons"},{children:[a&&e.jsx("span",r({className:"th-header-pin-icon",title:"Pinned ".concat(a)},{children:e.jsx("svg",r({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M1990 748q-33 33-64 60t-66 47-73 29-89 11q-34 0-65-6l-379 379q13 38 19 78t6 80q0 65-13 118t-37 100-60 89-79 87l-386-386-568 569-136 45 45-136 569-568-386-386q44-44 86-79t89-59 100-38 119-13q40 0 80 6t78 19l379-379q-6-31-6-65 0-49 10-88t30-74 46-65 61-65l690 690z"})}))})),$.filters[String(t.key)]&&$.filters[String(t.key)].length>0&&e.jsx("span",r({className:"th-header-filter-icon",title:"Filtered",role:"presentation","aria-hidden":"true"},{children:e.jsx("svg",r({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M2048 128v219l-768 768v805H768v-805L0 347V128h2048z"})}))})),$.sortKey===t.key&&e.jsx("span",r({className:"th-header-sort-icon"},{children:"asc"===$.sortDir?e.jsx("span",r({className:"th-sort-arrow"},{children:"â†‘"})):e.jsx("span",r({className:"th-sort-arrow"},{children:"â†“"}))}))]})),e.jsx("span",r({className:"th-header-action"},{children:"â‹®"}))]})),!1!==t.resizable&&e.jsx("div",{className:"th-resize-handle",onMouseDown:function(e){return Ie(String(t.key),e)},style:{cursor:"col-resize",position:"absolute",right:0,top:0,bottom:0,width:"4px",zIndex:10,userSelect:"none"}}),Ee.calloutKey===t.key&&!Me&&e.jsx(i,{anchorRef:{current:_.current[String(t.key)]},onSortAsc:function(){!1!==t.sortable&&($.handleSort(t.key,"asc"),Ee.dismissCallout())},onSortDesc:function(){!1!==t.sortable&&($.handleSort(t.key,"desc"),Ee.dismissCallout())},onFilter:function(){var e;!1!==t.filterable&&(e=t.key,re(String(e)),Ee.dismissCallout())},onClearFilter:function(){!1!==t.filterable&&($.setFilter(String(t.key),[]),Ee.dismissCallout())},onPinLeft:function(){fe(t.key,"left"),Ee.dismissCallout()},onPinRight:function(){fe(t.key,"right"),Ee.dismissCallout()},onUnpin:function(){fe(t.key,null),Ee.dismissCallout()},onToggleVisibility:function(){X&&(he(t.key),Ee.dismissCallout())},onDismiss:function(){return Ee.dismissCallout()},onMouseEnter:function(){return Ee.handleHeaderMouseEnter(String(t.key))},onMouseLeave:Ee.handleHeaderMouseLeave,sortable:!1!==t.sortable,filterable:!1!==t.filterable,hasFilter:$.filters[String(t.key)]&&$.filters[String(t.key)].length>0,pinned:se[String(t.key)]||t.pinned||null,visible:ce.has(t.key),enableColumnVisibility:X,enableColumnReorder:G})]}),o)})]})}),e.jsx("tbody",{children:v&&We?We.map(function(t){var o=t[0],l=t[1],a=le.has(o);return e.jsxs(n.Fragment,{children:[e.jsx("tr",r({className:"th-group-header"},{children:e.jsx("td",r({colSpan:de.length+("none"!==R?1:0),className:"th-group-header-cell"},{children:e.jsxs("button",r({className:"th-group-toggle",onClick:function(){return function(e){ae(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})}(o)},"aria-expanded":a},{children:[e.jsx("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a?"expanded":""},{children:e.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})),e.jsxs("span",r({className:"th-group-label"},{children:[String(v),": ",o]})),e.jsxs("span",r({className:"th-group-count"},{children:["(",l.length,")"]}))]}))}))})),a&&l.map(function(t,o){var l=h.findIndex(function(e){return e===t}),a=l>=0?l:$.filtered.findIndex(function(e){return e===t}),i=l>=0?l:a>=0?a:o,s=Ce(t,i),c=xe.has(s),u=l>=0&&ye===l;return y?e.jsx(n.Fragment,{children:y(t,i,d)},s):e.jsxs("tr",r({className:"th-group-row ".concat(c?"th-row-selected":""," ").concat(u?"th-row-active":""),onClick:function(e){return Se(t,i,e)},onContextMenu:function(e){return null==S?void 0:S(t,i,e)}},{children:["none"!==R&&e.jsx("td",r({className:"th-selection-column"},{children:e.jsx("div",r({className:"th-selection-checkbox-wrapper"},{children:e.jsx("input",{type:"single"===R?"radio":"checkbox",className:"th-selection-checkbox",checked:c,onChange:function(e){return we(t,i,e.target.checked)},onClick:function(e){return e.stopPropagation()}})}))})),de.map(function(n){var o=String(n.key),l=Re[o],a=se[String(n.key)]||n.pinned||null,s=de.findIndex(function(e){return String(e.key)===o}),c="left"===a?$e(n,s):0,u="right"===a?_e(n,s):0,d=r(r(r(r({},n.cellStyle),{textAlign:n.align,width:l?"".concat(l,"px"):n.width,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(c,"px"),zIndex:3}:{}),"right"===a?{right:"".concat(u,"px"),zIndex:3}:{}),h=n.cellClassName?"".concat(n.cellClassName," ").concat(n.editable?"th-cell-editable":""," ").concat(a?"th-cell-pinned":""):"".concat(n.editable?"th-cell-editable":""," ").concat(a?"th-cell-pinned":"").trim(),f=O?Ve(t,n):void 0;return e.jsx("td",r({style:d,className:h,onDoubleClick:function(){return Fe(t,n,i)},title:f||void 0},{children:Ue(t,n,i)}),o)})]}),s)})]},o)}):$.paged.map(function(t,o){var l=Ce(t,o),a=xe.has(l),i=ye===o;return y?e.jsx(n.Fragment,{children:y(t,o,d)},l):e.jsxs("tr",r({className:"".concat(a?"th-row-selected":""," ").concat(i?"th-row-active":""," ").concat(Ge===o?"th-row-focused":""),onClick:function(e){return Se(t,o,e)},onContextMenu:function(e){return null==S?void 0:S(t,o,e)}},{children:["none"!==R&&e.jsx("td",r({className:"th-selection-column"},{children:e.jsx("div",r({className:"th-selection-checkbox-wrapper"},{children:e.jsx("input",{type:"single"===R?"radio":"checkbox",className:"th-selection-checkbox",checked:a,onChange:function(e){return we(t,o,e.target.checked)},onClick:function(e){return e.stopPropagation()}})}))})),de.map(function(n){var l=String(n.key),a=Re[l],i=se[String(n.key)]||n.pinned||null,s=de.findIndex(function(e){return String(e.key)===l}),c="left"===i?$e(n,s):0,u="right"===i?_e(n,s):0,d=r(r(r(r({},n.cellStyle),{textAlign:n.align,width:a?"".concat(a,"px"):n.width,position:i?"sticky":"relative"}),"left"===i?{left:"".concat(c,"px"),zIndex:3}:{}),"right"===i?{right:"".concat(u,"px"),zIndex:3}:{}),h=n.cellClassName?"".concat(n.cellClassName," ").concat(n.editable?"th-cell-editable":""," ").concat(i?"th-cell-pinned":""):"".concat(n.editable?"th-cell-editable":""," ").concat(i?"th-cell-pinned":"").trim(),f=O?Ve(t,n):void 0;return e.jsx("td",r({style:d,className:h,onDoubleClick:function(){return Fe(t,n,o)},title:f||void 0},{children:Ue(t,n,o)}),l)})]}),l)})})]})})),Ye&&E&&e.jsx(a,{totalItems:v&&Ke?Object.keys(Ke).length:$.filtered.length,itemsPerPage:$.itemsPerPage,currentPage:$.currentPage,onPageChange:$.setCurrentPage}),ne&&e.jsx(s,{field:ne,values:Te,selected:$.filters[ne]||[],onApply:function(e){$.setFilter(ne,e),re(null)},onDismiss:function(){return re(null)}})]}))},exports.applyTheme=g,exports.defaultDarkTheme=h,exports.defaultLightTheme=d,exports.getTheme=f,exports.useTable=l;
//# sourceMappingURL=index.js.map
