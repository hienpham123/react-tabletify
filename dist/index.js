"use strict";var e=require("react/jsx-runtime");function n(e){var n=Object.create(null);return e&&Object.keys(e).forEach(function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}}),n.default=e,Object.freeze(n)}var t=n(require("react")),o=function(){return o=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},o.apply(this,arguments)};function r(e,n,t,o){return new(t||(t=Promise))(function(r,l){function i(e){try{s(o.next(e))}catch(e){l(e)}}function a(e){try{s(o.throw(e))}catch(e){l(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,a)}s((o=o.apply(e,n||[])).next())})}function l(e,n){var t,o,r,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(l=0)),l;)try{if(t=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){l.label=a[1];break}if(6===a[0]&&l.label<r[1]){l.label=r[1],r=a;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(a);break}r[2]&&l.ops.pop(),l.trys.pop();continue}a=n.call(e,l)}catch(e){a=[6,e],o=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function i(e,n,t){if(t||2===arguments.length)for(var o,r=0,l=n.length;r<l;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function a(e,n){void 0===n&&(n=10);var r=t.useState(""),l=r[0],a=r[1],s=t.useState(null),c=s[0],u=s[1],d=t.useState("asc"),f=d[0],h=d[1],g=t.useState(1),m=g[0],p=g[1],v=t.useState({}),x=v[0],C=v[1],b=function(e,n){C(function(t){var r=o({},t);return 0===n.length?delete r[e]:r[e]=n,r})},y=t.useMemo(function(){var n=e;if(Object.entries(x).forEach(function(e){var t=e[0],o=e[1];o.length>0&&(n=n.filter(function(e){return o.includes(String(e[t]))}))}),l.trim()){var t=l.toLowerCase();n=n.filter(function(e){return Object.values(e).some(function(e){return String(e).toLowerCase().includes(t)})})}return n},[e,l,x]),w=t.useMemo(function(){return c?i([],y,!0).sort(function(e,n){var t=e[c],o=n[c];if(null==t)return 1;if(null==o)return-1;if(t===o)return 0;var r=String(t).localeCompare(String(o),void 0,{numeric:!0,sensitivity:"base"});return"asc"===f?r:-r}):y},[y,c,f]),k=Math.ceil(w.length/n),S=t.useMemo(function(){var e=(m-1)*n;return w.slice(e,e+n)},[w,m,n]);t.useEffect(function(){p(1)},[l,c,f,x]);var R=t.useCallback(function(){a("")},[]),j=t.useCallback(function(){C({})},[]),I=t.useCallback(function(e){b(e,[])},[b]),M=t.useCallback(function(){u(null),h("asc")},[]),E=t.useCallback(function(){a(""),C({}),u(null),h("asc"),p(1)},[]),D=t.useCallback(function(){p(1)},[]),N=t.useCallback(function(){p(k)},[k]),P=t.useCallback(function(){p(function(e){return Math.min(e+1,k)})},[k]),L=t.useCallback(function(){p(function(e){return Math.max(e-1,1)})},[]);return{filtered:y,paged:S,currentPage:m,setCurrentPage:p,totalPages:k,itemsPerPage:n,goToFirstPage:D,goToLastPage:N,goToNextPage:P,goToPrevPage:L,search:l,setSearch:a,clearSearch:R,sortKey:c,sortDir:f,handleSort:function(e,n){n?(u(e),h(n)):c===e?h(function(e){return"asc"===e?"desc":"asc"}):(u(e),h("asc"))},resetSort:M,filters:x,setFilter:b,clearFilter:I,clearFilters:j,resetAll:E}}"function"==typeof SuppressedError&&SuppressedError;var s=function(n){var t=n.totalItems,r=n.itemsPerPage,l=n.currentPage,i=n.onPageChange,a=n.maxVisible,s=void 0===a?5:a,c=n.itemsPerPageOptions,u=n.onItemsPerPageChange,d=Math.ceil(t/r),f=Math.floor(s/2),h=Math.max(1,l-f),g=Math.min(d,h+s-1);g-h<s-1&&(h=Math.max(1,g-s+1));var m=Array.from({length:g-h+1},function(e,n){return h+n}),p=function(e){e<1||e>d||e===l||i(e)};return!(d<=0)||c&&u?e.jsxs("div",o({className:"th-pagination"},{children:[e.jsx("button",o({onClick:function(){return p(l-1)},disabled:1===l,className:"th-pagination-btn th-pagination-arrow","aria-label":"Previous page"},{children:"<"})),h>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",o({className:"th-pagination-btn",onClick:function(){return p(1)}},{children:"1"})),h>2&&e.jsx("span",o({className:"th-pagination-ellipsis"},{children:"..."}))]}),m.map(function(n){return e.jsx("button",o({onClick:function(){return p(n)},className:"th-pagination-btn ".concat(n===l?"th-page-active":"")},{children:n}),n)}),g<d&&e.jsxs(e.Fragment,{children:[g<d-1&&e.jsx("span",o({className:"th-pagination-ellipsis"},{children:"..."})),e.jsx("button",o({className:"th-pagination-btn",onClick:function(){return p(d)}},{children:d}))]}),e.jsx("button",o({onClick:function(){return p(l+1)},disabled:l===d,className:"th-pagination-btn th-pagination-arrow","aria-label":"Next page"},{children:">"})),c&&u&&e.jsxs("div",o({className:"th-pagination-items-per-page"},{children:[e.jsx("label",o({htmlFor:"th-items-per-page-select",style:{marginRight:"8px"}},{children:"Rows per page:"})),e.jsx("select",o({id:"th-items-per-page-select",value:r,onChange:function(e){var n=Number(e.target.value);u(n),i(1)},className:"th-pagination-select"},{children:c.map(function(n){return e.jsx("option",o({value:n},{children:n}),n)})}))]}))]})):null};function c(n){var r=n.field,l=n.values,a=n.selected,s=n.onApply,c=n.onDismiss,u=t.useState(a),d=u[0],f=u[1],h=t.useState(""),g=h[0],m=h[1];t.useEffect(function(){f(a),m("")},[r]);var p=t.useMemo(function(){if(!g.trim())return l;var e=g.toLowerCase();return l.filter(function(n){return n.toLowerCase().includes(e)})},[l,g]);return e.jsxs("div",o({className:"th-filter-panel open"},{children:[e.jsxs("div",o({className:"th-filter-header"},{children:[e.jsxs("strong",{children:["Filter by '",r,"'"]}),e.jsx("button",o({className:"th-filter-close",onClick:c,"aria-label":"Close"},{children:e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8 7.29289L3.85355 3.14645C3.65829 2.95118 3.34171 2.95118 3.14645 3.14645C2.95118 3.34171 2.95118 3.65829 3.14645 3.85355L7.29289 8L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L8 8.70711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.70711 8L12.8536 3.85355Z",fill:"currentColor"})}))}))]})),e.jsxs("div",o({className:"th-filter-content"},{children:[e.jsx("div",o({className:"th-filter-search"},{children:e.jsx("input",{type:"text",className:"th-filter-search-input",placeholder:"Select ".concat(r," to display..."),value:g,onChange:function(e){return m(e.target.value)}})})),e.jsx("div",o({className:"th-filter-options-list"},{children:p.length>0?p.map(function(n){return e.jsxs("div",o({className:"th-filter-option"},{children:[e.jsx("input",{type:"checkbox",id:"filter-".concat(r,"-").concat(n),checked:d.includes(n),onChange:function(){return function(e){f(function(n){return n.includes(e)?n.filter(function(n){return n!==e}):i(i([],n,!0),[e],!1)})}(n)}}),e.jsx("label",o({htmlFor:"filter-".concat(r,"-").concat(n)},{children:n}))]}),n)}):e.jsx("div",o({className:"th-filter-no-results"},{children:"No results found"}))}))]})),e.jsxs("div",o({className:"th-filter-footer"},{children:[e.jsx("button",o({className:"th-btn",onClick:function(){f([])}},{children:"Clear all"})),e.jsx("button",o({className:"th-btn primary",onClick:function(){return s(d)}},{children:"Apply"}))]}))]}))}function u(n){var t=n.columns,r=n.itemsPerPage,l=n.selectionMode,i=n.onRenderLoading;return i?e.jsx(e.Fragment,{children:i()}):e.jsxs("div",o({className:"th-loading-skeleton"},{children:[e.jsxs("div",o({className:"th-skeleton-header"},{children:["none"!==l&&e.jsx("div",{className:"th-skeleton-cell",style:{width:"48px"}}),t.map(function(n,t){return e.jsx("div",{className:"th-skeleton-cell",style:{width:n.width||"150px"}},t)})]})),Array.from({length:r}).map(function(n,r){return e.jsxs("div",o({className:"th-skeleton-row"},{children:["none"!==l&&e.jsx("div",{className:"th-skeleton-cell",style:{width:"48px"}}),t.map(function(n,t){return e.jsx("div",{className:"th-skeleton-cell",style:{width:n.width||"150px"}},t)})]}),r)})]}))}function d(n){var t=n.emptyMessage,r=n.onRenderEmpty;return r?e.jsx(e.Fragment,{children:r()}):e.jsxs("div",o({className:"th-empty-state"},{children:[e.jsx("div",o({className:"th-empty-icon"},{children:"ðŸ“‹"})),e.jsx("div",o({className:"th-empty-message"},{children:t||"No data available"}))]}))}function f(n){var t=n.selectionMode,r=n.checked,l=n.indeterminate,i=n.onChange,a=n.onSelectAll;if("none"===t)return null;var s=void 0!==a;return e.jsx("td",o({className:"th-selection-column"},{children:e.jsx("div",o({className:"th-selection-checkbox-wrapper"},{children:"multiple"===t?e.jsx("input",{type:"checkbox",className:"th-selection-checkbox",checked:r,ref:function(e){e&&void 0!==l&&(e.indeterminate=l)},onChange:function(e){s&&a?a(e.target.checked):i(e.target.checked)},onClick:function(e){return e.stopPropagation()}}):s?e.jsx("div",{className:"th-selection-checkbox-wrapper"}):e.jsx("input",{type:"radio",className:"th-selection-checkbox",checked:r,onChange:function(e){return i(e.target.checked)},onClick:function(e){return e.stopPropagation()}})}))}))}function h(n){var r=n.anchorRef,l=n.onSortAsc,i=n.onSortDesc,a=n.onFilter,s=n.onClearFilter,c=n.onPinLeft,u=n.onPinRight,d=n.onUnpin,f=n.onToggleVisibility,h=n.onGroupBy,g=n.isGrouped,m=void 0!==g&&g,p=n.onColumnSettings,v=n.onTotalsChange,x=n.totalsValue,C=void 0===x?"none":x,b=n.columnLabel,y=void 0===b?"Column":b;n.onDismiss;var w=n.onMouseEnter,k=n.onMouseLeave,S=n.sortable,R=void 0===S||S,j=n.filterable,I=void 0===j||j,M=n.hasFilter,E=void 0!==M&&M,D=n.pinned,N=void 0===D?null:D,P=n.visible,L=void 0===P||P,K=n.enableColumnVisibility,T=void 0!==K&&K;n.enableColumnReorder;var O=n.enableGroupBy,B=void 0!==O&&O,H=n.enableTotals,F=void 0!==H&&H,z=t.useRef(null),A=t.useState(null),V=A[0],W=A[1],G=t.useRef(null);if(t.useEffect(function(){return function(){G.current&&clearTimeout(G.current)}},[]),!r.current)return null;var U=r.current.getBoundingClientRect(),q=function(e){G.current&&clearTimeout(G.current),W(e)},X=function(){G.current=setTimeout(function(){W(null)},150)};return e.jsx(e.Fragment,{children:e.jsxs("div",o({ref:z,className:"th-callout",style:{top:U.bottom+6,left:U.left,position:"fixed"},onMouseEnter:w,onMouseLeave:k},{children:[R&&e.jsxs(e.Fragment,{children:[e.jsx("button",o({onClick:l,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Ascending"}))})),e.jsx("button",o({onClick:i,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Descending"}))}))]}),R&&I&&e.jsx("hr",{className:"th-callout-divider"}),I&&E&&s&&e.jsx("button",o({onClick:s,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Clear filter"}))})),I&&E&&s&&e.jsx("hr",{className:"th-callout-divider"}),I&&e.jsx("button",o({onClick:a,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Filter by"}))})),B&&h&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"th-callout-divider"}),e.jsxs("button",o({onClick:h,className:"th-callout-item ".concat(m?"th-callout-item-selected":"")},{children:[e.jsxs("span",o({className:"th-callout-text"},{children:["Group by ",y]})),m&&e.jsx("span",o({className:"th-callout-checkmark"},{children:"âœ“"}))]}))]}),(c||u||d||p||F)&&e.jsx("hr",{className:"th-callout-divider"}),p?e.jsxs("div",o({className:"th-callout-item th-callout-item-with-submenu",onMouseEnter:function(){return q("column-settings")},onMouseLeave:X},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"Column settings"})),e.jsx("span",o({className:"th-callout-arrow"},{children:"â€º"})),"column-settings"===V&&e.jsxs("div",o({className:"th-callout-submenu",onMouseEnter:function(){return q("column-settings")},onMouseLeave:X},{children:[null===N&&c&&e.jsx("button",o({onClick:c,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin left"}))})),null===N&&u&&e.jsx("button",o({onClick:u,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin right"}))})),null!==N&&d&&e.jsx("button",o({onClick:d,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Unpin"}))})),T&&f&&e.jsxs(e.Fragment,{children:[(c||u||d)&&e.jsx("hr",{className:"th-callout-divider"}),e.jsx("button",o({onClick:f,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:L?"Hide column":"Show column"}))}))]})]}))]})):e.jsxs(e.Fragment,{children:[null===N&&c&&e.jsx("button",o({onClick:c,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin left"}))})),null===N&&u&&e.jsx("button",o({onClick:u,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin right"}))})),null!==N&&d&&e.jsx("button",o({onClick:d,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Unpin"}))}))]}),F&&v&&e.jsxs("div",o({className:"th-callout-item th-callout-item-with-submenu",onMouseEnter:function(){return q("totals")},onMouseLeave:X},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"Totals"})),e.jsx("span",o({className:"th-callout-arrow"},{children:"â€º"})),"totals"===V&&e.jsxs("div",o({className:"th-callout-submenu",onMouseEnter:function(){return q("totals")},onMouseLeave:X},{children:[e.jsxs("button",o({onClick:function(){return v("none")},className:"th-callout-submenu-item ".concat("none"===C?"th-callout-item-selected":"")},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"None"})),"none"===C&&e.jsx("span",o({className:"th-callout-checkmark"},{children:"âœ“"}))]})),e.jsxs("button",o({onClick:function(){return v("count")},className:"th-callout-submenu-item ".concat("count"===C?"th-callout-item-selected":"")},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"Count"})),"count"===C&&e.jsx("span",o({className:"th-callout-checkmark"},{children:"âœ“"}))]}))]}))]})),!p&&T&&f&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"th-callout-divider"}),e.jsx("button",o({onClick:f,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:L?"Hide column":"Show column"}))}))]})]}))})}function g(n){var t=n.column,r=n.columnIndex,l=n.resizedWidth,i=n.pinPosition,a=n.leftOffset,s=n.rightOffset,c=n.lastLeftPinnedColumnKey,u=n.firstRightPinnedColumnKey,d=n.stickyHeader,f=n.enableColumnReorder,g=n.isDragOver,m=n.sortKey,p=n.sortDir,v=n.hasFilter,x=n.anchorRef,C=n.anchorRefForCallout,b=n.calloutKey,y=n.resizingColumn,w=n.onRenderHeader,k=n.onColumnHeaderClick,S=n.onHeaderMouseEnter,R=n.onHeaderMouseLeave,j=n.onCalloutMouseEnter,I=n.onCalloutMouseLeave,M=n.onColumnDragStart,E=n.onColumnDragOver,D=n.onColumnDrop,N=n.onResizeStart,P=n.onSortAsc,L=n.onSortDesc,K=n.onFilter,T=n.onClearFilter,O=n.onPinLeft,B=n.onPinRight,H=n.onUnpin,F=n.onToggleVisibility,z=n.onGroupBy,A=n.isGrouped,V=n.enableColumnVisibility,W=n.enableGroupBy,G=n.enableTotals,U=n.onTotalsChange,q=n.totalsValue,X=n.onDismiss,_=n.enableCellSelection,Y=void 0!==_&&_,Z=n.isInRangeColumn,J=void 0!==Z&&Z,Q=n.isLeftColInRange,$=void 0!==Q&&Q,ee=n.isRightColInRange,ne=void 0!==ee&&ee,te=n.isCopied,oe=void 0!==te&&te,re=String(t.key),le=o(o(o(o({},t.style),{width:l?"".concat(l,"px"):t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,textAlign:t.align,position:i?"sticky":"relative"}),"left"===i?{left:"".concat(a,"px"),zIndex:d?15:5}:{}),"right"===i?{right:"".concat(s,"px"),zIndex:d?15:5}:{}),ie=t.className?"th-header-cell ".concat(i?"th-header-pinned th-pinned-".concat(i):""," ").concat(t.className):i?"th-header-cell th-header-pinned th-pinned-".concat(i):"th-header-cell",ae=[g?"th-drag-over":"",i?"th-pinned-".concat(i):"","left"===i&&t.key===c?"th-pinned-last-left":"","right"===i&&t.key===u?"th-pinned-first-right":"",Y&&oe?"th-cell-copied":""].filter(Boolean).join(" ");return e.jsxs("th",o({style:le,draggable:f,onDragStart:function(){return M(t.key)},onDragOver:function(e){return E(e,t.key)},onDrop:function(){return D(t.key)},onDragLeave:function(){},className:ae,"data-in-range-column":Y&&J?"true":void 0,"data-left-col-in-range":Y&&$?"true":void 0,"data-right-col-in-range":Y&&ne?"true":void 0},{children:[w?w(t,r):e.jsxs("div",o({className:ie,ref:function(e){x(e)},onMouseEnter:function(){return S(re)},onMouseLeave:R,onClick:function(e){return null==k?void 0:k(t,e)}},{children:[e.jsxs("span",o({className:"th-header-label"},{children:[t.label,e.jsx("span",o({className:"th-header-chevron-icon",role:"presentation","aria-hidden":"true"},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"})}))}))]})),e.jsxs("div",o({className:"th-header-icons"},{children:[i&&e.jsx("span",o({className:"th-header-pin-icon",title:"Pinned ".concat(i)},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M1990 748q-33 33-64 60t-66 47-73 29-89 11q-34 0-65-6l-379 379q13 38 19 78t6 80q0 65-13 118t-37 100-60 89-79 87l-386-386-568 569-136 45 45-136 569-568-386-386q44-44 86-79t89-59 100-38 119-13q40 0 80 6t78 19l379-379q-6-31-6-65 0-49 10-88t30-74 46-65 61-65l690 690z"})}))})),v&&e.jsx("span",o({className:"th-header-filter-icon",title:"Filtered",role:"presentation","aria-hidden":"true"},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M2048 128v219l-768 768v805H768v-805L0 347V128h2048z"})}))})),m===t.key&&e.jsx("span",o({className:"th-header-sort-icon"},{children:"asc"===p?e.jsx("span",o({className:"th-sort-arrow"},{children:"â†‘"})):e.jsx("span",o({className:"th-sort-arrow"},{children:"â†“"}))}))]})),e.jsx("span",o({className:"th-header-action"},{children:"â‹®"}))]})),!1!==t.resizable&&e.jsx("div",{className:"th-resize-handle",onMouseDown:function(e){return N(re,e)},style:{cursor:"col-resize",position:"absolute",right:0,top:0,bottom:0,width:"4px",zIndex:10,userSelect:"none"}}),b===re&&!y&&e.jsx(h,{anchorRef:C,onSortAsc:P,onSortDesc:L,onFilter:K,onClearFilter:T,onPinLeft:O,onPinRight:B,onUnpin:H,onToggleVisibility:F,onGroupBy:z,isGrouped:A,onColumnSettings:!(!H&&!V)||void 0,onTotalsChange:U,totalsValue:q,columnLabel:t.label,onDismiss:X,onMouseEnter:j,onMouseLeave:I,sortable:!1!==t.sortable,filterable:!1!==t.filterable,hasFilter:v,pinned:i,visible:!0,enableColumnVisibility:V,enableGroupBy:W,enableTotals:G})]}),re)}function m(n){var t=n.columns,r=n.selectionMode,l=n.isAllSelected,i=n.isIndeterminate,a=n.onSelectAll,s=n.columnWidths,c=n.pinnedColumns,u=n.lastLeftPinnedColumnKey,d=n.firstRightPinnedColumnKey,h=n.stickyHeader,m=n.enableColumnReorder,p=n.dragOverColumn,v=n.sortKey,x=n.sortDir,C=n.filters,b=n.anchorRefs,y=n.calloutKey,w=n.resizingColumn,k=n.onRenderHeader,S=n.onColumnHeaderClick,R=n.onHeaderMouseEnter,j=n.onHeaderMouseLeave,I=n.onCalloutMouseEnter,M=n.onCalloutMouseLeave,E=n.onColumnDragStart,D=n.onColumnDragOver,N=n.onColumnDrop,P=n.onResizeStart,L=n.onSortAsc,K=n.onSortDesc,T=n.onFilter,O=n.onClearFilter,B=n.onPinLeft,H=n.onPinRight,F=n.onUnpin,z=n.onToggleVisibility,A=n.onGroupBy,V=n.currentGroupBy,W=n.enableColumnVisibility,G=n.enableGroupBy,U=n.enableTotals,q=n.onTotalsChange,X=n.columnTotals,_=n.getLeftOffset,Y=n.getRightOffset,Z=n.dismissCallout,J=n.enableRowActions,Q=void 0!==J&&J,$=n.enableCellSelection,ee=void 0!==$&&$,ne=n.isRangeFromFirstRow,te=void 0!==ne&&ne;n.isColumnInRange;var oe=n.getColumnRangeInfo,re=n.isCopied,le=void 0!==re&&re;return e.jsx("thead",{children:e.jsxs("tr",{children:["none"!==r&&e.jsx(f,{selectionMode:r,checked:l,indeterminate:i,onChange:function(){},onSelectAll:a}),Q&&e.jsx("th",o({className:"th-row-actions-column"},{children:e.jsx("div",o({className:"th-header-cell"},{children:e.jsx("span",{className:"th-header-label"})}))})),t.map(function(n,t){var o=String(n.key),r=s[o],l=c[o]||n.pinned||null,i="left"===l?_(n,t):0,a="right"===l?Y(n,t):0,f=ee&&te&&oe?oe(o):{isInRange:!1,isLeftCol:!1,isRightCol:!1},J=ee&&te&&le&&f.isInRange,Q={get current(){return b.current[o]||null},set current(e){}};return e.jsx(g,{column:n,columnIndex:t,resizedWidth:r,pinPosition:l,leftOffset:i,rightOffset:a,lastLeftPinnedColumnKey:null!=u?u:void 0,firstRightPinnedColumnKey:null!=d?d:void 0,stickyHeader:h,enableColumnReorder:m,isDragOver:p===n.key,sortKey:v,sortDir:x,hasFilter:!!(C[o]&&C[o].length>0),anchorRef:function(e){e&&(b.current[o]=e)},anchorRefForCallout:Q,calloutKey:y===n.key?o:null,resizingColumn:w,onRenderHeader:k,onColumnHeaderClick:S,onHeaderMouseEnter:R,onHeaderMouseLeave:j,onCalloutMouseEnter:I,onCalloutMouseLeave:M,onColumnDragStart:E,onColumnDragOver:D,onColumnDrop:N,onResizeStart:P,enableCellSelection:ee,isInRangeColumn:f.isInRange,isLeftColInRange:f.isLeftCol,isRightColInRange:f.isRightCol,isCopied:J,onSortAsc:function(){!1!==n.sortable&&(L(n),Z())},onSortDesc:function(){!1!==n.sortable&&(K(n),Z())},onFilter:function(){!1!==n.filterable&&T(n)},onClearFilter:function(){!1!==n.filterable&&(O(n),Z())},onPinLeft:function(){B(n),Z()},onPinRight:function(){H(n),Z()},onUnpin:function(){F(n),Z()},onToggleVisibility:function(){W&&(z(n),Z())},onGroupBy:function(){A(n),Z()},isGrouped:V===n.key,enableColumnVisibility:W,enableGroupBy:G,enableTotals:U,onTotalsChange:function(e){q(n,e),Z()},totalsValue:X[o]||"none",onDismiss:Z},o)})]})})}function p(n){var t=n.groupKey,r=n.groupLabel,l=n.rowCount,i=n.isExpanded,a=n.onToggle,s=n.colSpan;return e.jsx("tr",o({className:"th-group-header"},{children:e.jsx("td",o({colSpan:s,className:"th-group-header-cell"},{children:e.jsxs("button",o({className:"th-group-toggle",onClick:a,"aria-expanded":i},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i?"expanded":""},{children:e.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})),e.jsxs("span",o({className:"th-group-label"},{children:[r,": ",t]})),e.jsxs("span",o({className:"th-group-count"},{children:["(",l,")"]}))]}))}))}))}function v(n){var t=n.column,r=n.item,l=n.index,i=n.resizedWidth,a=n.pinPosition,s=n.leftOffset,c=n.rightOffset,u=n.lastLeftPinnedColumnKey,d=n.firstRightPinnedColumnKey,f=n.showTooltip,h=n.onDoubleClick,g=n.renderCell,m=n.getCellText,p=n.isSelected,v=void 0!==p&&p,x=n.isRangeStart,C=void 0!==x&&x,b=n.isRangeEnd,y=void 0!==b&&b,w=n.isInRange,k=void 0!==w&&w,S=n.isTopRow,R=void 0!==S&&S,j=n.isBottomRow,I=void 0!==j&&j,M=n.isLeftCol,E=void 0!==M&&M,D=n.isRightCol,N=void 0!==D&&D,P=n.isInRangeColumn,L=void 0!==P&&P,K=n.isLeftColInRange,T=void 0!==K&&K,O=n.isRightColInRange,B=void 0!==O&&O,H=n.isCopied,F=void 0!==H&&H,z=n.onMouseDown,A=n.onMouseEnter,V=n.onMouseUp,W=n.enableCellSelection,G=void 0!==W&&W,U=String(t.key),q=o(o(o(o({},t.cellStyle),{textAlign:t.align,width:i?"".concat(i,"px"):t.width,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(s,"px"),zIndex:3}:{}),"right"===a?{right:"".concat(c,"px"),zIndex:3}:{}),X=[t.cellClassName,t.editable?"th-cell-editable":"",a?"th-cell-pinned th-pinned-".concat(a):"","left"===a&&t.key===u?"th-pinned-last-left":"","right"===a&&t.key===d?"th-pinned-first-right":"",G&&v?"th-cell-selected":"",G&&C?"th-cell-range-start":"",G&&y?"th-cell-range-end":"",G&&k?"th-cell-in-range":"",G&&R?"th-cell-range-top":"",G&&I?"th-cell-range-bottom":"",G&&E?"th-cell-range-left":"",G&&N?"th-cell-range-right":"",G&&F?"th-cell-copied":""].filter(Boolean).join(" "),_=f&&m?m(r,t):void 0;return e.jsx("td",o({style:q,className:X,onDoubleClick:h,title:_||void 0,onMouseDown:G?z:void 0,onMouseEnter:G?A:void 0,onMouseUp:G?V:void 0,"data-in-range-column":G&&L?"true":void 0,"data-left-col-in-range":G&&T?"true":void 0,"data-right-col-in-range":G&&B?"true":void 0},{children:g(r,t,l)}),U)}function x(n){var t=n.item,r=n.index,l=n.actions,i=n.onMenuToggle,a=n.isMenuOpen,s=n.buttonRef;return l&&0!==l.length?e.jsx("td",o({className:"th-row-actions-column"},{children:e.jsx("button",o({ref:s,type:"button",className:"th-row-actions-button ".concat(a?"th-row-actions-button-active":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),i(t,r)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},"aria-label":"Row actions","aria-haspopup":"true","aria-expanded":a},{children:e.jsxs("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"}},{children:[e.jsx("circle",{cx:"4",cy:"8",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"12",cy:"8",r:"1.5",fill:"currentColor"})]}))}))})):e.jsx("td",{className:"th-row-actions-column"})}function C(n){var r=n.anchorRef,l=n.actions,i=n.item,a=n.index,s=n.onDismiss,c=n.onMouseEnter,u=n.onMouseLeave,d=t.useRef(null);if(t.useEffect(function(){var e=function(e){d.current&&!d.current.contains(e.target)&&r.current&&!r.current.contains(e.target)&&s()},n=function(e){"Escape"===e.key&&s()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",n),function(){document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n)}},[s,r]),!r.current||0===l.length)return null;var f=r.current.getBoundingClientRect(),h=32*l.length+8,g=window.innerHeight-f.bottom,m=f.top,p=g<h&&m>g?f.top-h-4:f.bottom+4;return e.jsx("div",o({ref:d,className:"th-row-actions-menu",style:{position:"fixed",top:"".concat(p,"px"),left:"".concat(f.left,"px"),zIndex:1e3},onMouseEnter:c,onMouseLeave:u},{children:l.map(function(n){return e.jsxs("button",o({className:"th-row-actions-menu-item ".concat(n.disabled?"th-row-actions-menu-item-disabled":""),onClick:function(){return function(e){e.disabled||(e.onClick(i,a),s())}(n)},disabled:n.disabled},{children:[n.icon&&e.jsx("span",o({className:"th-row-actions-menu-icon"},{children:n.icon})),e.jsx("span",o({className:"th-row-actions-menu-text"},{children:n.label}))]}),n.key)})}))}function b(n){var r=n.item,l=n.index,i=n.itemKey,a=n.columns,s=n.selectionMode,c=n.isSelected,u=n.isActive,d=n.isFocused,h=void 0!==d&&d,g=n.isDragging,m=void 0!==g&&g,p=n.isDragOver,b=void 0!==p&&p,y=n.canDrag,w=n.columnWidths,k=n.pinnedColumns,S=n.lastLeftPinnedColumnKey,R=n.firstRightPinnedColumnKey,j=n.showTooltip,I=n.onItemClick,M=n.onItemContextMenu,E=n.onCheckboxChange,D=n.onCellEditStart,N=n.onDragStart,P=n.onDragOver,L=n.onDragLeave,K=n.onDrop,T=n.onDragEnd,O=n.renderCell,B=n.getCellText,H=n.getLeftOffset,F=n.getRightOffset,z=n.isDraggingState,A=n.rowActions,V=n.openMenuKey,W=n.onMenuToggle,G=n.onMenuDismiss,U=n.enableCellSelection,q=void 0!==U&&U,X=n.isCellSelected,_=n.getCellRangeInfo,Y=n.isRowAboveRange,Z=void 0!==Y&&Y;n.isColumnInRange;var J=n.getColumnRangeInfo,Q=n.onCellMouseDown,$=n.onCellMouseEnter,ee=n.onCellMouseUp,ne=[c?"th-row-selected":"",!q&&u?"th-row-active":"",!q&&h?"th-row-focused":"",y?"th-row-draggable":"",m?"th-row-dragging":"",b?"th-row-drag-over":"",q&&Z?"th-row-above-range":""].filter(Boolean).join(" "),te=A?A(r,l):[],oe=V===t.useMemo(function(){return"".concat(String(i),"-").concat(l)},[i,l]),re=t.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs("tr",o({className:ne,draggable:y,onDragStart:function(e){return N(e,l)},onDragOver:function(e){return P(e,l)},onDragLeave:L,onDrop:function(e){return K(e,l)},onDragEnd:T,onClick:function(e){z||q||I(r,l,e)},onContextMenu:function(e){return null==M?void 0:M(r,l,e)}},{children:["none"!==s&&e.jsx(f,{selectionMode:s,checked:c,onChange:function(e){return E(r,l,e)}}),te.length>0&&e.jsx(x,{item:r,index:l,actions:te,onMenuToggle:W,isMenuOpen:oe,buttonRef:re}),a.map(function(n,t){var o,i=String(n.key),s=w[i],c=k[i]||n.pinned||null,u=a.findIndex(function(e){return String(e.key)===i}),d="left"===c?H(n,u):0,f="right"===c?F(n,u):0,h=!(!q||!X)&&X(l,i),g=q&&_?_(l,i):{isStart:!1,isEnd:!1,isInRange:!1,isTopRow:!1,isBottomRow:!1,isLeftCol:!1,isRightCol:!1,isCopied:!1},m=null!==(o=g.isCopied)&&void 0!==o&&o,p=q&&Z&&J?J(i):{isInRange:!1,isLeftCol:!1,isRightCol:!1},x=p.isInRange;return e.jsx(v,{column:n,item:r,index:l,resizedWidth:s,pinPosition:c,leftOffset:d,rightOffset:f,lastLeftPinnedColumnKey:S,firstRightPinnedColumnKey:R,showTooltip:j,onDoubleClick:function(){return D(r,n,l)},renderCell:O,getCellText:B,enableCellSelection:q,isSelected:h,isRangeStart:g.isStart,isRangeEnd:g.isEnd,isInRange:g.isInRange,isTopRow:g.isTopRow,isBottomRow:g.isBottomRow,isLeftCol:g.isLeftCol,isRightCol:g.isRightCol,isInRangeColumn:x,isLeftColInRange:p.isLeftCol,isRightColInRange:p.isRightCol,isCopied:m,onMouseDown:q&&Q?function(e){return Q(l,i,e)}:void 0,onMouseEnter:q&&$?function(e){return $(l,i,e)}:void 0,onMouseUp:q&&ee?function(e){return ee(l,i,e)}:void 0},i)})]}),i),oe&&te.length>0&&e.jsx(C,{anchorRef:re,actions:te,item:r,index:l,onDismiss:G})]})}function y(n){var o=n.data,r=n.columns,l=n.paginatedGroups,i=n.currentGroupBy,a=n.expandedGroups,s=n.selectionMode,c=n.selectedItems,u=n.activeItemIndex,d=n.focusedRowIndex,f=n.enableRowReorder,h=n.draggedRowIndex,g=n.dragOverRowIndex,m=n.isDragging,v=n.columnWidths,x=n.pinnedColumns,C=n.lastLeftPinnedColumnKey,y=n.firstRightPinnedColumnKey,w=n.showTooltip,k=n.onRenderRow,S=n.getItemKey,R=n.onItemClick,j=n.onItemContextMenu,I=n.onCheckboxChange,M=n.onCellEditStart,E=n.onRowDragStart,D=n.onRowDragOver,N=n.onRowDragLeave,P=n.onRowDrop,L=n.onRowDragEnd,K=n.renderCell,T=n.getCellText,O=n.getLeftOffset,B=n.getRightOffset,H=n.toggleGroup,F=n.filteredData,z=n.pagedData,A=n.rowActions,V=n.openMenuKey,W=n.onMenuToggle,G=n.onMenuDismiss,U=n.enableCellSelection,q=void 0!==U&&U,X=n.isCellSelected,_=n.getCellRangeInfo,Y=n.isRowAboveRange,Z=n.isColumnInRange,J=n.getColumnRangeInfo,Q=n.onCellMouseDown,$=n.onCellMouseEnter,ee=n.onCellMouseUp,ne=i?r.find(function(e){return e.key===i}):null,te=(null==ne?void 0:ne.label)||(i?String(i):"");return e.jsx("tbody",{children:i&&l?l.map(function(n){var l=n[0],d=n[1],z=a.has(l);return e.jsxs(t.Fragment,{children:[e.jsx(p,{groupKey:l,groupLabel:te,rowCount:d.length,isExpanded:z,onToggle:function(){return H(l)},colSpan:r.length+("none"!==s?1:0)+(A?1:0)}),z&&d.map(function(n,l){var a=o.findIndex(function(e){return e===n}),d=a>=0?a:F.findIndex(function(e){return e===n}),p=a>=0?a:d>=0?d:l,H=S(n,p),z=c.has(H),U=a>=0&&u===a,ne=F.findIndex(function(e){return e===n}),te=ne>=0?ne:p,oe=f&&!i;return k?e.jsx(t.Fragment,{children:k(n,p,r)},H):e.jsx(b,{item:n,index:p,itemKey:H,columns:r,selectionMode:s,isSelected:z,isActive:U,isFocused:!1,isDragging:h===te,isDragOver:g===te,canDrag:oe,columnWidths:v,pinnedColumns:x,lastLeftPinnedColumnKey:C,firstRightPinnedColumnKey:y,showTooltip:w,onItemClick:R,onItemContextMenu:j,onCheckboxChange:I,onCellEditStart:M,onDragStart:E,onDragOver:D,onDragLeave:N,onDrop:P,onDragEnd:L,renderCell:K,getCellText:T,getLeftOffset:O,getRightOffset:B,isDraggingState:m,rowActions:A,openMenuKey:V,onMenuToggle:W,onMenuDismiss:G,enableCellSelection:q,isCellSelected:X,getCellRangeInfo:_,isRowAboveRange:!!Y&&Y(p),isColumnInRange:Z,getColumnRangeInfo:J,onCellMouseDown:Q,onCellMouseEnter:$,onCellMouseUp:ee},H)})]},l)}):z.map(function(n,o){var l=S(n,o),a=c.has(l),p=u===o,H=F.findIndex(function(e){return e===n}),z=H>=0?H:o,U=f&&!i;return k?e.jsx(t.Fragment,{children:k(n,o,r)},l):e.jsx(b,{item:n,index:o,itemKey:l,columns:r,selectionMode:s,isSelected:a,isActive:p,isFocused:d===o,isDragging:h===z,isDragOver:g===z,canDrag:U,columnWidths:v,pinnedColumns:x,lastLeftPinnedColumnKey:C,firstRightPinnedColumnKey:y,showTooltip:w,onItemClick:R,onItemContextMenu:j,onCheckboxChange:I,onCellEditStart:M,onDragStart:E,onDragOver:D,onDragLeave:N,onDrop:P,onDragEnd:L,renderCell:K,getCellText:T,getLeftOffset:O,getRightOffset:B,isDraggingState:m,rowActions:A,openMenuKey:V,onMenuToggle:W,onMenuDismiss:G,enableCellSelection:q,isCellSelected:X,getCellRangeInfo:_,isRowAboveRange:!!Y&&Y(o),isColumnInRange:Z,getColumnRangeInfo:J,onCellMouseDown:Q,onCellMouseEnter:$,onCellMouseUp:ee},l)})})}function w(n){var t=n.columns,r=n.selectionMode,l=n.columnTotals,i=n.pinnedColumns,a=n.columnWidths,s=n.lastLeftPinnedColumnKey,c=n.firstRightPinnedColumnKey,u=n.totalCount,d=n.getLeftOffset,f=n.getRightOffset;return Object.values(l).some(function(e){return"count"===e})?e.jsx("tfoot",o({className:"th-totals-sticky"},{children:e.jsxs("tr",o({className:"th-totals-row"},{children:["none"!==r&&e.jsx("td",{className:"th-selection-column"}),t.map(function(n){var r=String(n.key),h=l[r]||"none",g=i[r]||n.pinned||null,m=t.findIndex(function(e){return String(e.key)===r}),p="left"===g?d(n,m):0,v="right"===g?f(n,m):0,x=a[r],C=o(o({textAlign:n.align,width:x?"".concat(x,"px"):n.width,position:g?"sticky":"relative"},"left"===g?{left:"".concat(p,"px"),zIndex:11}:{}),"right"===g?{right:"".concat(v,"px"),zIndex:11}:{}),b=[g?"th-cell-pinned th-pinned-".concat(g):"","left"===g&&n.key===s?"th-pinned-last-left":"","right"===g&&n.key===c?"th-pinned-first-right":""].filter(Boolean).join(" "),y="";return"count"===h&&(y="Count: ".concat(u.toLocaleString())),e.jsx("td",o({style:C,className:b},{children:y}),r)})]}))})):null}function k(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function S(e,n,t,o){void 0===o&&(o="export"),"csv"===e?function(e,n,t){void 0===t&&(t="export");var o=i([n.map(function(e){return e.label}).join(",")],e.map(function(e){return n.map(function(n){var t=e[n.key];if(null==t)return"";var o=String(t);return o.includes(",")||o.includes('"')||o.includes("\n")?'"'.concat(o.replace(/"/g,'""'),'"'):o}).join(",")}),!0).join("\n"),r=new Blob(["\ufeff"+o],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),a=URL.createObjectURL(r);l.setAttribute("href",a),l.setAttribute("download","".concat(t,".csv")),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}(n,t,o):function(e,n,t){void 0===t&&(t="export");var o=n.map(function(e){return e.label}),r=e.map(function(e){return n.map(function(n){var t=e[n.key];return null==t?"":t})}),l='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">\n';l+="<head>\n",l+='<meta charset="utf-8">\n',l+="\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Sheet1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e\n",l+="</head>\n",l+="<body>\n",l+="<table>\n",l+="<tr>\n",o.forEach(function(e){l+="<th>".concat(k(String(e)),"</th>\n")}),l+="</tr>\n",r.forEach(function(e){l+="<tr>\n",e.forEach(function(e){var n=null==e?"":String(e);l+="number"==typeof e?'<td style="mso-number-format:General">'.concat(n,"</td>\n"):"<td>".concat(k(n),"</td>\n")}),l+="</tr>\n"}),l+="</table>\n",l+="</body>\n",l+="</html>";var i=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a"),s=URL.createObjectURL(i);a.setAttribute("href",s),a.setAttribute("download","".concat(t,".xlsx")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}(n,t,o)}function R(n){var r=n.data,l=n.columns,i=n.format,a=n.filename,s=n.onBeforeExport,c=n.onAfterExport,u=t.useState(!1),d=u[0],f=u[1],h=t.useCallback(function(e){f(!0);try{var n=l.filter(function(e){return e.key&&e.label}).map(function(e){return{key:e.key,label:e.label}}),t=r;if(s){var o=s(r,l);if(o)S(e,t=o.data,o.columns.filter(function(e){return e.key&&e.label}).map(function(e){return{key:e.key,label:e.label}}),a);else S(e,t,n,a)}else S(e,t,n,a);null==c||c(e,a)}catch(e){console.error("Export failed:",e)}finally{f(!1)}},[r,l,a,s,c]);return"both"===i?e.jsxs("div",o({className:"th-export-buttons"},{children:[e.jsxs("button",o({className:"th-export-button",onClick:function(){return h("csv")},disabled:d,title:"Export to CSV"},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),e.jsx("span",{children:"CSV"})]})),e.jsxs("button",o({className:"th-export-button",onClick:function(){return h("excel")},disabled:d,title:"Export to Excel"},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),e.jsx("span",{children:"Excel"})]}))]})):e.jsxs("button",o({className:"th-export-button",onClick:function(){return h(i)},disabled:d,title:"Export to ".concat("csv"===i?"CSV":"Excel")},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),e.jsx("span",{children:"csv"===i?"CSV":"Excel"})]}))}var j={mode:"light",colors:{background:"#ffffff",surface:"#ffffff",headerBackground:"#faf9f8",rowBackground:"#ffffff",rowBackgroundAlternate:"#f9f9f9",selectedRowBackground:"#edebe9",hoverRowBackground:"#f3f2f1",groupHeaderBackground:"#f3f2f1",text:"#323130",textSecondary:"#605e5c",headerText:"#323130",rowText:"#323130",selectedRowText:"#323130",border:"#edebe9",borderLight:"#f1f1f1",rowBorder:"#f1f1f1",focus:"#107c10",focusBorder:"#107c10",hover:"#f3f2f1",active:"#edebe9",disabled:"#a19f9d",primary:"#107c10",success:"#107c10",warning:"#ffaa44",error:"#d13438"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.08)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.132), 0 0.6px 1.8px rgba(0, 0, 0, 0.108)",panel:"-2px 0 8px rgba(0, 0, 0, 0.15), -1px 0 2px rgba(0, 0, 0, 0.1)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}},I={mode:"dark",colors:{background:"#1a1a1a",surface:"#252526",headerBackground:"#2d2d30",rowBackground:"#252526",rowBackgroundAlternate:"#2d2d30",selectedRowBackground:"#3e3e42",hoverRowBackground:"#2d2d30",groupHeaderBackground:"#2d2d30",text:"#cccccc",textSecondary:"#858585",headerText:"#cccccc",rowText:"#cccccc",selectedRowText:"#ffffff",border:"#3e3e42",borderLight:"#2d2d30",rowBorder:"#3e3e42",focus:"#4ec9b0",focusBorder:"#4ec9b0",hover:"#2d2d30",active:"#3e3e42",disabled:"#858585",primary:"#4ec9b0",success:"#4ec9b0",warning:"#dcdcaa",error:"#f48771"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.3)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.4), 0 0.6px 1.8px rgba(0, 0, 0, 0.3)",panel:"-2px 0 8px rgba(0, 0, 0, 0.4), -1px 0 2px rgba(0, 0, 0, 0.3)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}};function M(e){if(!e)return j;if("string"==typeof e)return"dark"===e?I:j;var n="dark"===e.mode?I:j;return o(o(o({},n),e),{colors:o(o({},n.colors),e.colors),spacing:e.spacing?o(o({},n.spacing),e.spacing):n.spacing,typography:e.typography?o(o({},n.typography),e.typography):n.typography,borderRadius:e.borderRadius?o(o({},n.borderRadius),e.borderRadius):n.borderRadius,shadows:e.shadows?o(o({},n.shadows),e.shadows):n.shadows,transitions:e.transitions?o(o({},n.transitions),e.transitions):n.transitions})}function E(e){var n=e.colors,t=e.spacing,o=e.typography,r=e.borderRadius,l=e.shadows,i=e.transitions;return{"--th-color-background":n.background,"--th-color-surface":n.surface,"--th-color-header-background":n.headerBackground,"--th-color-row-background":n.rowBackground,"--th-color-row-background-alternate":n.rowBackgroundAlternate,"--th-color-selected-row-background":n.selectedRowBackground,"--th-color-hover-row-background":n.hoverRowBackground,"--th-color-group-header-background":n.groupHeaderBackground,"--th-color-text":n.text,"--th-color-text-secondary":n.textSecondary,"--th-color-header-text":n.headerText,"--th-color-row-text":n.rowText,"--th-color-selected-row-text":n.selectedRowText,"--th-color-border":n.border,"--th-color-border-light":n.borderLight,"--th-color-row-border":n.rowBorder,"--th-color-focus":n.focus,"--th-color-focus-border":n.focusBorder,"--th-color-hover":n.hover,"--th-color-active":n.active,"--th-color-disabled":n.disabled,"--th-color-primary":n.primary,"--th-color-success":n.success,"--th-color-warning":n.warning,"--th-color-error":n.error,"--th-spacing-cell-padding":null==t?void 0:t.cellPadding,"--th-spacing-header-padding":null==t?void 0:t.headerPadding,"--th-spacing-row-height":null==t?void 0:t.rowHeight,"--th-spacing-row-height-compact":null==t?void 0:t.rowHeightCompact,"--th-spacing-row-height-spacious":null==t?void 0:t.rowHeightSpacious,"--th-spacing-gap":null==t?void 0:t.gap,"--th-typography-font-family":null==o?void 0:o.fontFamily,"--th-typography-font-size":null==o?void 0:o.fontSize,"--th-typography-font-size-small":null==o?void 0:o.fontSizeSmall,"--th-typography-font-size-large":null==o?void 0:o.fontSizeLarge,"--th-typography-font-weight":null==o?void 0:o.fontWeight,"--th-typography-font-weight-bold":null==o?void 0:o.fontWeightBold,"--th-typography-line-height":null==o?void 0:o.lineHeight,"--th-border-radius-table":null==r?void 0:r.table,"--th-border-radius-cell":null==r?void 0:r.cell,"--th-border-radius-button":null==r?void 0:r.button,"--th-shadow-table":null==l?void 0:l.table,"--th-shadow-header":null==l?void 0:l.header,"--th-shadow-callout":null==l?void 0:l.callout,"--th-shadow-panel":null==l?void 0:l.panel,"--th-transition-duration":null==i?void 0:i.duration,"--th-transition-easing":null==i?void 0:i.easing}}exports.ReactTabletify=function(n){var f=n.columns,h=n.data,g=n.itemsPerPage,p=void 0===g?10:g,v=n.groupBy,x=n.onRenderCell,C=n.onRenderRow,b=n.onRenderHeader;n.onItemInvoked;var k=n.onColumnHeaderClick,S=n.getKey,j=n.onActiveItemChanged,I=n.onItemContextMenu,D=n.className,N=n.styles,P=n.selectionMode,L=void 0===P?"none":P,K=n.onSelectionChanged,T=n.showPagination,O=void 0===T||T,B=n.itemsPerPageOptions,H=n.onItemsPerPageChange,F=n.theme,z=n.maxHeight,A=n.onCellEdit,V=n.pinnedColumns,W=n.onColumnPin,G=n.showTooltip,U=void 0===G||G,q=n.loading,X=void 0!==q&&q,_=n.onRenderLoading,Y=n.emptyMessage,Z=n.onRenderEmpty,J=n.stickyHeader,Q=void 0!==J&&J,$=n.enableColumnVisibility,ee=n.onColumnVisibilityChange,ne=n.enableColumnReorder,te=n.onColumnReorder,oe=n.enableKeyboardNavigation,re=void 0===oe||oe,le=n.enableRowReorder,ie=void 0!==le&&le,ae=n.onRowReorder,se=n.enableExport,ce=void 0!==se&&se,ue=n.exportFormat,de=void 0===ue?"both":ue,fe=n.exportFileName,he=void 0===fe?"export":fe,ge=n.onBeforeExport,me=n.onAfterExport,pe=n.rowActions,ve=n.enableCellSelection,xe=void 0!==ve&&ve;!function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}}(n,["columns","data","itemsPerPage","groupBy","onRenderCell","onRenderRow","onRenderHeader","onItemInvoked","onColumnHeaderClick","getKey","onActiveItemChanged","onItemContextMenu","className","styles","selectionMode","onSelectionChanged","showPagination","itemsPerPageOptions","onItemsPerPageChange","theme","maxHeight","onCellEdit","pinnedColumns","onColumnPin","showTooltip","loading","onRenderLoading","emptyMessage","onRenderEmpty","stickyHeader","enableColumnVisibility","onColumnVisibilityChange","enableColumnReorder","onColumnReorder","enableKeyboardNavigation","enableRowReorder","onRowReorder","enableExport","exportFormat","exportFileName","onBeforeExport","onAfterExport","rowActions","enableCellSelection"]);var Ce=t.useState(p),be=Ce[0],ye=Ce[1];t.useEffect(function(){ye(p)},[p]);var we=O?B||[10,25,50,100]:B,ke=t.useCallback(function(e){ye(e),null==H||H(e)},[H]),Se=O?be:Number.MAX_SAFE_INTEGER,Re=a(h,Se),je=t.useRef({}),Ie=t.useRef(null),Me=t.useState({}),Ee=Me[0],De=Me[1],Ne=t.useState(null),Pe=Ne[0],Le=Ne[1],Ke=t.useState(null),Te=Ke[0],Oe=Ke[1],Be=t.useState(v),He=Be[0],Fe=Be[1];t.useEffect(function(){void 0!==v&&Fe(v)},[v]);var ze=void 0!==v?v:He,Ae=t.useState(new Set),Ve=Ae[0],We=Ae[1],Ge=function(e,n,r,l,a,s,c){var u=t.useState(n||{}),d=u[0],f=u[1],h=t.useState(new Set(e.map(function(e){return e.key}))),g=h[0],m=h[1],p=t.useState(e.map(function(e){return e.key})),v=p[0],x=p[1],C=t.useState(null),b=C[0],y=C[1],w=t.useState(null),k=w[0],S=w[1];t.useEffect(function(){r&&l&&l(Array.from(g))},[g,r,l]),t.useEffect(function(){a&&s&&s(v)},[v,a,s]);var R=t.useCallback(function(e){m(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})},[]),j=t.useCallback(function(e,n){f(function(t){var r=o({},t);return null===n?delete r[String(e)]:r[String(e)]=n,r}),null==c||c(e,n)},[c]),I=t.useCallback(function(e){a&&y(e)},[a]),M=t.useCallback(function(e,n){a&&b&&b!==n&&(e.preventDefault(),S(n))},[a,b]),E=t.useCallback(function(e){a&&b&&b!==e&&(x(function(n){var t=i([],n,!0),o=t.indexOf(b),r=t.indexOf(e);return t.splice(o,1),t.splice(r,0,b),t}),y(null),S(null))},[a,b]),D=t.useMemo(function(){return r?e.filter(function(e){return g.has(e.key)}):e},[e,g,r]),N=t.useMemo(function(){if(!a)return D;var e=new Map(v.map(function(e,n){return[e,n]}));return i([],D,!0).sort(function(n,t){var o,r;return(null!==(o=e.get(n.key))&&void 0!==o?o:1/0)-(null!==(r=e.get(t.key))&&void 0!==r?r:1/0)})},[D,v,a]),P=t.useMemo(function(){var e=[],n=[],t=[];return N.forEach(function(o){var r=d[String(o.key)]||o.pinned||null;"left"===r?e.push(o):"right"===r?t.push(o):n.push(o)}),i(i(i([],e,!0),n,!0),t,!0)},[N,d]);return{internalPinnedColumns:d,visibleColumns:g,columnOrder:v,draggedColumn:b,dragOverColumn:k,sortedColumns:P,handleToggleColumnVisibility:R,handleColumnPin:j,handleColumnDragStart:I,handleColumnDragOver:M,handleColumnDrop:E}}(f,V,$,ee,ne,te,W),Ue=Ge.internalPinnedColumns,qe=Ge.dragOverColumn,Xe=Ge.sortedColumns,_e=Ge.handleToggleColumnVisibility,Ye=Ge.handleColumnPin,Ze=Ge.handleColumnDragStart,Je=Ge.handleColumnDragOver,Qe=Ge.handleColumnDrop,$e=function(e,n,o,r,l){var a=t.useState(new Set),s=a[0],c=a[1],u=t.useState(void 0),d=u[0],f=u[1],h=t.useCallback(function(e,n){return l?l(e,n):void 0!==e.id?e.id:n},[l]),g=t.useCallback(function(t,l,i){var a=h(t,l);c(function(t){var r=new Set(t);if("single"===n?(r.clear(),i&&r.add(a)):"multiple"===n&&(i?r.add(a):r.delete(a)),o){var l=e.filter(function(e,n){return r.has(h(e,n))});o(l)}return r}),f(l),r&&r(t,l)},[n,h,o,r,e]),m=t.useCallback(function(t,l,i){if(!i.target.closest(".th-selection-checkbox")){if("none"!==n){var a=h(t,l);c(function(t){var r=new Set(t);if("single"===n?(r.clear(),r.add(a)):"multiple"===n&&(i.ctrlKey||i.metaKey?r.has(a)?r.delete(a):r.add(a):(r.clear(),r.add(a))),o){var l=e.filter(function(e,n){return r.has(h(e,n))});o(l)}return r})}f(l),r&&r(t,l)}},[n,h,o,r,e]),p=t.useCallback(function(t){"multiple"===n&&c(function(n){var r=t?new Set(e.map(function(e,n){return h(e,n)})):new Set;if(o){var l=t?i([],e,!0):[];o(l)}return r})},[n,e,h,o]),v=t.useMemo(function(){return"multiple"===n&&0!==e.length&&e.every(function(e,n){return s.has(h(e,n))})},[n,e,s,h]),x=t.useMemo(function(){if("multiple"!==n||0===e.length)return!1;var t=e.filter(function(e,n){return s.has(h(e,n))}).length;return t>0&&t<e.length},[n,e,s,h]),C=t.useCallback(function(e,n){return s.has(h(e,n))},[s,h]);return{selectedItems:s,activeItemIndex:d,isAllSelected:v,isIndeterminate:x,getItemKey:h,handleCheckboxChange:g,handleItemClick:m,handleSelectAll:p,isItemSelected:C,setSelectedItems:c}}(h,L,K,j,S),en=$e.selectedItems,nn=$e.activeItemIndex,tn=$e.isAllSelected,on=$e.isIndeterminate,rn=$e.getItemKey,ln=$e.handleCheckboxChange,an=$e.handleItemClick,sn=$e.handleSelectAll,cn=$e.setSelectedItems,un=t.useCallback(function(e,n){var t=rn(e,n),o="".concat(String(t),"-").concat(n);Oe(function(e){return e===o?null:o})},[rn]),dn=t.useCallback(function(){Oe(null)},[]),fn=function(e,n){var r=t.useState({}),l=r[0],i=r[1],a=t.useState(null),s=a[0],c=a[1],u=t.useState(0);u[0];var d=u[1],f=t.useState(0);f[0];var h=f[1],g=t.useCallback(function(n,t){var r,l;t.preventDefault(),t.stopPropagation();var a=String(n),s=null===(l=null===(r=e.current)||void 0===r?void 0:r[a])||void 0===l?void 0:l.parentElement;if(s){var u=s.offsetWidth,f=t.clientX;c(a),document.body.style.cursor="col-resize",document.body.style.userSelect="none",d(f),h(u);var g=function(e){var n=e.clientX-f,t=Math.max(50,u+n);i(function(e){var n;return o(o({},e),((n={})[a]=t,n))})},m=function(){document.body.style.cursor="",document.body.style.userSelect="",c(null),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",m)}},[e,n]);return{columnWidths:l,resizingColumn:s,handleResizeStart:g}}(je),hn=fn.columnWidths,gn=fn.resizingColumn,mn=fn.handleResizeStart,pn=function(e){var n=t.useState(null),o=n[0],r=n[1],l=t.useRef(null),i=t.useCallback(function(n){e||(l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(n)},150))},[e]),a=t.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(null)},200)},[]),s=t.useCallback(function(){l.current&&clearTimeout(l.current)},[]),c=t.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(null)},200)},[]),u=t.useCallback(function(){l.current&&clearTimeout(l.current),r(null)},[]);return t.useEffect(function(){return function(){l.current&&clearTimeout(l.current)}},[]),{calloutKey:o,setCalloutKey:r,handleHeaderMouseEnter:i,handleHeaderMouseLeave:a,handleCalloutMouseEnter:s,handleCalloutMouseLeave:c,dismissCallout:u}}(gn),vn=function(e){var n=t.useState(null),o=n[0],r=n[1],l=t.useState(""),i=l[0],a=l[1],s=t.useRef(null),c=t.useCallback(function(e,n,t){var o;!0===n.editable&&(r({rowIndex:t,columnKey:n.key}),a(String(null!==(o=e[n.key])&&void 0!==o?o:"")))},[]),u=t.useCallback(function(n,t,o){e&&e(n,t,i,o),r(null),a("")},[e,i]),d=t.useCallback(function(){r(null),a("")},[]);return t.useEffect(function(){o&&s.current&&(s.current.focus(),s.current.select())},[o]),{editingCell:o,editValue:i,editInputRef:s,setEditValue:a,handleCellEditStart:c,handleCellEditSave:u,handleCellEditCancel:d}}(A),xn=vn.editingCell,Cn=vn.editValue,bn=vn.editInputRef,yn=vn.setEditValue,wn=vn.handleCellEditStart,kn=vn.handleCellEditSave,Sn=vn.handleCellEditCancel,Rn=function(e,n,o,r,l){var a=t.useState(null),s=a[0],c=a[1],u=t.useState(null),d=u[0],f=u[1],h=t.useState(!1),g=h[0],m=h[1],p=t.useState(null),v=p[0],x=p[1],C=v||n;t.useEffect(function(){x(null)},[n]);var b=t.useCallback(function(n,t){e?(n.stopPropagation(),m(!0),c(t),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/plain",String(t)),n.currentTarget&&(n.currentTarget.style.opacity="0.5")):n.preventDefault()},[e]),y=t.useCallback(function(n,t){e&&null!==s&&(n.preventDefault(),n.dataTransfer.dropEffect="move",d!==t&&f(t))},[e,s,d]),w=t.useCallback(function(n){e&&(n.currentTarget===n.target||n.currentTarget.contains(n.relatedTarget)||f(null))},[e]),k=t.useCallback(function(n,t){if(!e||null===s||s===t)return c(null),void f(null);if(n.preventDefault(),n.stopPropagation(),r)return c(null),void f(null);var a=i([],C,!0),u=o[s],d=o[t],h=a.findIndex(function(e){return e===u}),g=a.findIndex(function(e){return e===d});if(-1===h||-1===g||h===g)return c(null),void f(null);var m=i([],a,!0),p=m[h];m.splice(h,1);var v=h<g?g-1:g;m.splice(v,0,p),x(m),l&&l(m,p,h,v),c(null),f(null)},[e,s,r,o,C,l]),S=t.useCallback(function(n){e&&(n.currentTarget&&(n.currentTarget.style.opacity="1"),m(!1),c(null),f(null),setTimeout(function(){m(!1)},100))},[e]);return{draggedRowIndex:s,dragOverRowIndex:d,isDragging:g,reorderedData:v,effectiveData:C,handleRowDragStart:b,handleRowDragOver:y,handleRowDragLeave:w,handleRowDrop:k,handleRowDragEnd:S}}(ie,h,Re.filtered,ze,ae),jn=Rn.draggedRowIndex,In=Rn.dragOverRowIndex,Mn=Rn.isDragging,En=Rn.handleRowDragStart,Dn=Rn.handleRowDragOver,Nn=Rn.handleRowDragLeave,Pn=Rn.handleRowDrop,Ln=Rn.handleRowDragEnd,Kn=function(e,n,o){void 0===o&&(o=!0);var r=t.useState(new Set),l=r[0],i=r[1],a=t.useState(null),s=a[0],c=a[1],u=t.useState(!1),d=u[0],f=u[1],h=t.useState(null),g=h[0],m=h[1],p=t.useState(!1),v=p[0],x=p[1],C=t.useCallback(function(e,n){return"".concat(e,"-").concat(n)},[]),b=t.useCallback(function(e,t){var o,r,l=Math.min(e.rowIndex,t.rowIndex),i=Math.max(e.rowIndex,t.rowIndex),a=n.findIndex(function(n){return String(n.key)===e.colKey}),s=n.findIndex(function(e){return String(e.key)===t.colKey}),c=a>=0?a:0,u=s>=0?s:n.length-1,d=Math.min(c,u),f=Math.max(c,u);return{start:{rowIndex:l,colKey:String((null===(o=n[Math.max(0,d)])||void 0===o?void 0:o.key)||e.colKey)},end:{rowIndex:i,colKey:String((null===(r=n[Math.min(n.length-1,f)])||void 0===r?void 0:r.key)||t.colKey)}}},[n]),y=t.useCallback(function(e){for(var t=[],o=Math.min(e.start.rowIndex,e.end.rowIndex),r=Math.max(e.start.rowIndex,e.end.rowIndex),l=n.findIndex(function(n){return String(n.key)===e.start.colKey}),i=n.findIndex(function(n){return String(n.key)===e.end.colKey}),a=l>=0?l:0,s=i>=0?i:n.length-1,c=Math.min(a,s),u=Math.max(a,s),d=o;d<=r;d++)for(var f=c;f<=u;f++)n[f]&&t.push({rowIndex:d,colKey:String(n[f].key)});return t},[n]),w=t.useCallback(function(e,n,t){if(o){var r={rowIndex:e,colKey:n};if(m(r),f(!0),t&&s){var l=b(s.start,r);c(l);var a=y(l);i(new Set(a.map(function(e){return C(e.rowIndex,e.colKey)})))}else c({start:r,end:r}),i(new Set([C(e,n)]))}},[o,s,b,y,C]),k=t.useCallback(function(e,n){if(o&&d&&g){var t=b(g,{rowIndex:e,colKey:n});c(t);var r=y(t);i(new Set(r.map(function(e){return C(e.rowIndex,e.colKey)})))}},[o,d,g,b,y,C]),S=t.useCallback(function(){f(!1),m(null)},[]),R=t.useCallback(function(){i(new Set),c(null),f(!1),m(null),x(!1)},[]),j=t.useCallback(function(e){x(e)},[]),I=t.useCallback(function(e,n){return l.has(C(e,n))},[l,C]),M=t.useCallback(function(){return s?y(s):Array.from(l).map(function(e){var n=e.split("-"),t=n[0],o=n[1];return{rowIndex:parseInt(t,10),colKey:o}})},[s,l,y]),E=t.useCallback(function(){return s},[s]);return{selectedCells:l,selectedRange:s,isSelecting:d,isCopied:v,startSelection:w,updateSelection:k,endSelection:S,clearSelection:R,setCopied:j,isCellSelected:I,getSelectedCells:M,getSelectedRange:E}}(Re.paged,Xe,xe),Tn=function(){var e=this,n=t.useState(null),o=n[0],a=n[1],s=t.useState(!1),c=s[0],u=s[1],d=t.useState([]),f=d[0],h=d[1],g=t.useCallback(function(e,n,t){if(0!==e.length){var o=i([],e,!0).sort(function(e,n){return e.rowIndex!==n.rowIndex?e.rowIndex-n.rowIndex:t.findIndex(function(n){return String(n.key)===e.colKey})-t.findIndex(function(e){return String(e.key)===n.colKey})}),r=new Map;o.forEach(function(e){r.has(e.rowIndex)||r.set(e.rowIndex,[]),r.get(e.rowIndex).push(e)});var l=[];r.forEach(function(e,o){var r=[];e.sort(function(e,n){return t.findIndex(function(n){return String(n.key)===e.colKey})-t.findIndex(function(e){return String(e.key)===n.colKey})}),e.forEach(function(e){var t=n[o];if(t){var l=t[e.colKey];r.push(null!=l?String(l):"")}else r.push("")}),l.push(r)}),a(l),u(!1),h([]);var s=l.map(function(e){return e.join("\t")}).join("\n");navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(s).catch(function(){var e=document.createElement("textarea");e.value=s,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})}},[]),m=t.useCallback(function(e,n,t){g(e,n,t),u(!0),h(e)},[g]),p=t.useCallback(function(e,n,t,r){if(o&&0!==o.length&&0!==e.length){if(1===o.length&&1===o[0].length){var l=o[0][0];e.forEach(function(e){var t=n[e.rowIndex];t&&r(t,e.colKey,l,e.rowIndex)})}else{var i=e[0];o.forEach(function(e,o){var l=i.rowIndex+o;if(!(l>=n.length)){var a=n[l];if(a){var s=t.findIndex(function(e){return String(e.key)===i.colKey});-1!==s&&e.forEach(function(e,n){var o=s+n;if(!(o>=t.length)){var i=t[o];r(a,i.key,e,l)}})}}})}c&&f.length>0&&(f.forEach(function(e){var t=n[e.rowIndex];t&&r(t,e.colKey,"",e.rowIndex)}),u(!1),h([]))}},[o,c,f]),v=t.useCallback(function(n,t,o,i){return r(e,void 0,void 0,function(){var e,r,a,s,c,u,d;return l(this,function(l){switch(l.label){case 0:if(0===n.length)return[2,!1];l.label=1;case 1:return l.trys.push([1,5,,6]),e="",navigator.clipboard&&navigator.clipboard.readText?[4,navigator.clipboard.readText()]:[3,3];case 2:return e=l.sent(),[3,4];case 3:return[2,!1];case 4:return e&&0!==e.trim().length?0===(r=e.split(/\r?\n/).filter(function(e){return e.trim().length>0})).length||0===(a=r.map(function(e){for(var n=[],t="",o=!1,r=0;r<e.length;r++){var l=e[r];'"'===l?o&&'"'===e[r+1]?(t+='"',r++):o=!o:"\t"!==l||o?t+=l:(n.push(t),t="")}return n.push(t),n})).length||0===a[0].length?[2,!1]:(s=n[0],1===a.length&&1===a[0].length?(c=a[0][0],n.forEach(function(e){var n=t[e.rowIndex];n&&i(n,e.colKey,c,e.rowIndex)}),[2,!0]):(u=!1,a.forEach(function(e,n){var r=s.rowIndex+n;if(!(r>=t.length)){var l=t[r];if(l){var a=o.findIndex(function(e){return String(e.key)===s.colKey});-1!==a&&e.forEach(function(e,n){var t=a+n;if(!(t>=o.length)){var s=o[t];i(l,s.key,e,r),u=!0}})}}}),[2,u])):[2,!1];case 5:return d=l.sent(),console.warn("Failed to read from clipboard:",d),[2,!1];case 6:return[2]}})})},[]),x=t.useCallback(function(){return null!==o&&o.length>0},[o]),C=t.useCallback(function(){return o},[o]),b=t.useCallback(function(){a(null),u(!1),h([])},[]);return{copyCells:g,cutCells:m,pasteCells:p,pasteFromSystemClipboard:v,canPaste:x,getClipboardData:C,clearClipboard:b}}(),On=t.useCallback(function(e,n,t){if(xe){t.stopPropagation();var o=t.shiftKey;Kn.startSelection(e,n,o),Kn.setCopied(!1)}},[xe,Kn]),Bn=t.useCallback(function(e,n,t){xe&&Kn.isSelecting&&Kn.updateSelection(e,n)},[xe,Kn]),Hn=t.useCallback(function(e,n,t){xe&&Kn.endSelection()},[xe,Kn]),Fn=t.useCallback(function(e,n){if(!xe||!Kn.selectedRange)return{isStart:!1,isEnd:!1,isInRange:!1,isTopRow:!1,isBottomRow:!1,isLeftCol:!1,isRightCol:!1,isCopied:!1};var t=Kn.selectedRange,o=Math.min(t.start.rowIndex,t.end.rowIndex),r=Math.max(t.start.rowIndex,t.end.rowIndex),l=Xe.findIndex(function(e){return String(e.key)===t.start.colKey}),i=Xe.findIndex(function(e){return String(e.key)===t.end.colKey}),a=Math.min(l>=0?l:0,i>=0?i:Xe.length-1),s=Math.max(l>=0?l:0,i>=0?i:Xe.length-1),c=Xe.findIndex(function(e){return String(e.key)===n});return{isStart:t.start.rowIndex===e&&t.start.colKey===n,isEnd:t.end.rowIndex===e&&t.end.colKey===n,isInRange:Kn.isCellSelected(e,n),isTopRow:e===o,isBottomRow:e===r,isLeftCol:c===a,isRightCol:c===s,isCopied:Kn.isCopied}},[xe,Kn,Xe]),zn=t.useCallback(function(e){if(!xe||!Kn.selectedRange)return!1;var n=Kn.selectedRange,t=Math.min(n.start.rowIndex,n.end.rowIndex);return t>0&&e===t-1},[xe,Kn]),An=t.useCallback(function(){if(!xe||!Kn.selectedRange)return!1;var e=Kn.selectedRange;return 0===Math.min(e.start.rowIndex,e.end.rowIndex)},[xe,Kn]),Vn=t.useCallback(function(e){if(!xe||!Kn.selectedRange)return!1;var n=Kn.selectedRange,t=Xe.findIndex(function(e){return String(e.key)===n.start.colKey}),o=Xe.findIndex(function(e){return String(e.key)===n.end.colKey}),r=Math.min(t>=0?t:0,o>=0?o:Xe.length-1),l=Math.max(t>=0?t:0,o>=0?o:Xe.length-1),i=Xe.findIndex(function(n){return String(n.key)===e});return i>=r&&i<=l},[xe,Kn,Xe]),Wn=t.useCallback(function(e){if(!xe||!Kn.selectedRange)return{isInRange:!1,isLeftCol:!1,isRightCol:!1};var n=Kn.selectedRange,t=Xe.findIndex(function(e){return String(e.key)===n.start.colKey}),o=Xe.findIndex(function(e){return String(e.key)===n.end.colKey}),r=Math.min(t>=0?t:0,o>=0?o:Xe.length-1),l=Math.max(t>=0?t:0,o>=0?o:Xe.length-1),i=Xe.findIndex(function(n){return String(n.key)===e});return{isInRange:i>=r&&i<=l,isLeftCol:i===r,isRightCol:i===l}},[xe,Kn,Xe]);t.useEffect(function(){if(xe){var e=function(e){if(Ie.current){var n=e.target;n&&!Ie.current.contains(n)&&Kn.clearSelection()}};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}},[xe,Kn]),t.useEffect(function(){if(xe){var e=function(e){var n=document.activeElement;if(Ie.current&&n&&Ie.current.contains(n))if((e.ctrlKey||e.metaKey)&&"c"===e.key)(r=Kn.getSelectedCells()).length>0&&(e.preventDefault(),Tn.copyCells(r,Re.paged,Xe.map(function(e){return{key:e.key,label:e.label}})),Kn.setCopied(!0));else if((e.ctrlKey||e.metaKey)&&"x"===e.key){(r=Kn.getSelectedCells()).length>0&&(e.preventDefault(),Tn.cutCells(r,Re.paged,Xe.map(function(e){return{key:e.key,label:e.label}})))}else if((e.ctrlKey||e.metaKey)&&"v"===e.key){var t=Kn.getSelectedCells();if(t.length>0&&A){e.preventDefault();var o=ze?Re.filtered:h;Tn.pasteFromSystemClipboard(t,o,Xe.map(function(e){return{key:e.key,label:e.label}}),A).then(function(e){!e&&Tn.canPaste()&&Tn.pasteCells(t,o,Xe.map(function(e){return{key:e.key,label:e.label}}),A)}).catch(function(){Tn.canPaste()&&Tn.pasteCells(t,o,Xe.map(function(e){return{key:e.key,label:e.label}}),A)})}}else if("Delete"===e.key||"Backspace"===e.key){var r;if((r=Kn.getSelectedCells()).length>0&&A){e.preventDefault();var l=ze?Re.filtered:h;r.forEach(function(e){var n=l[e.rowIndex];if(n){var t=h.findIndex(function(e){return e===n});A(n,e.colKey,"",t>=0?t:e.rowIndex)}})}}else"Escape"===e.key&&(Kn.clearSelection(),Kn.setCopied(!1))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[xe,Kn,Tn,Re.paged,Xe,A,ze,h]);var Gn=t.useMemo(function(){return Pe?Array.from(new Set(h.map(function(e){return String(e[Pe])}))):[]},[Pe,h]);t.useEffect(function(){ze&&Re.setCurrentPage(1)},[ze]);var Un=t.useMemo(function(){if(!ze)return null;var e={};return(Re.sortKey?i([],Re.filtered,!0).sort(function(e,n){var t=e[Re.sortKey],o=n[Re.sortKey];if(null==t)return 1;if(null==o)return-1;if(t===o)return 0;var r=String(t).localeCompare(String(o),void 0,{numeric:!0,sensitivity:"base"});return"asc"===Re.sortDir?r:-r}):Re.filtered).forEach(function(n){var t=String(n[ze]);e[t]||(e[t]=[]),e[t].push(n)}),e},[Re.filtered,Re.sortKey,Re.sortDir,ze]);t.useEffect(function(){if(ze&&Un){var e=Object.keys(Un).length,n=Math.ceil(e/Re.itemsPerPage);Re.currentPage>n&&n>0&&Re.setCurrentPage(1)}},[Un,ze,Re.itemsPerPage,Re.currentPage,Re.setCurrentPage]);var qn=t.useMemo(function(){if(!ze||!Un)return null;var e=Object.entries(Un);e.sort(function(e,n){var t=e[0],o=n[0];return t.localeCompare(o)});var n=(Re.currentPage-1)*Re.itemsPerPage,t=n+Re.itemsPerPage;return e.slice(n,t)},[Un,Re.currentPage,Re.itemsPerPage,ze]);t.useEffect(function(){ze&&Un?We(new Set(Object.keys(Un))):ze||We(new Set)},[ze,Un]);var Xn=t.useCallback(function(e,n){var t,o,r;if(n.onRenderCell){var l=n.onRenderCell(e,n.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(t=e[n.key])&&void 0!==t?t:"")}if(x){l=x(e,n.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(o=e[n.key])&&void 0!==o?o:"")}return String(null!==(r=e[n.key])&&void 0!==r?r:"")},[x]),_n=t.useCallback(function(n,t,o){var r;return(null==xn?void 0:xn.rowIndex)===o&&(null==xn?void 0:xn.columnKey)===t.key&&t.editable&&A?e.jsx("input",{ref:bn,type:"text",className:"th-cell-edit-input",value:Cn,onChange:function(e){return yn(e.target.value)},onBlur:function(){return kn(n,t.key,o)},onKeyDown:function(e){"Enter"===e.key?kn(n,t.key,o):"Escape"===e.key&&Sn()},onClick:function(e){return e.stopPropagation()}}):t.onRenderCell?t.onRenderCell(n,t.key,o):x?x(n,t.key,o):String(null!==(r=n[t.key])&&void 0!==r?r:"")},[x,xn,Cn,kn,Sn]),Yn=t.useMemo(function(){return M(F)},[F]),Zn=t.useMemo(function(){return E(Yn)},[Yn]),Jn=t.useMemo(function(){return ze&&qn?qn.flatMap(function(e){return e[0],e[1]}):Re.paged},[ze,qn,Re.paged]),Qn=function(e,n,o,r,l,i,a){var s=t.useState(null),c=s[0],u=s[1];return t.useEffect(function(){if(n&&e.current&&!o){var t=function(e){if(!o&&0!==r.length){var n=null!=c?c:0;switch(e.key){case"ArrowDown":e.preventDefault(),n=Math.min(n+1,r.length-1),u(n);break;case"ArrowUp":e.preventDefault(),n=Math.max(n-1,0),u(n);break;case"Enter":case" ":if(e.preventDefault(),null!==c&&"none"!==l){var t=r[c],s=i(t,c);null==a||a(new Set([s]))}break;case"Escape":e.preventDefault(),u(null),null==a||a(new Set)}}};return e.current.addEventListener("keydown",t),function(){var n;null===(n=e.current)||void 0===n||n.removeEventListener("keydown",t)}}},[n,o,c,l,r,i,a,e]),{focusedRowIndex:c,setFocusedRowIndex:u}}(Ie,re,X,Jn,L,rn,function(e){return cn(e)}).focusedRowIndex,$n=h.length>0,et=!X&&!$n,nt=!X&&$n,tt=t.useCallback(function(e,n){var t=String(e.key);if("left"!==(Ue[t]||e.pinned||null))return 0;var o=0;"none"!==L&&(o+=48);for(var r=0;r<n;r++){var l=Xe[r];if("left"===(Ue[String(l.key)]||l.pinned||null))o+=hn[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return o},[Xe,Ue,hn,L]),ot=t.useCallback(function(e,n){var t=String(e.key);if("right"!==(Ue[t]||e.pinned||null))return 0;for(var o=0,r=n+1;r<Xe.length;r++){var l=Xe[r];if("right"===(Ue[String(l.key)]||l.pinned||null))o+=hn[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return o},[Xe,Ue,hn]),rt=t.useMemo(function(){for(var e=null,n=0;n<Xe.length;n++){var t=Xe[n];if("left"===(Ue[String(t.key)]||t.pinned||null))e=t.key;else if(null!==e)break}return e},[Xe,Ue]),lt=t.useMemo(function(){for(var e=0;e<Xe.length;e++){var n=Xe[e];if("right"===(Ue[String(n.key)]||n.pinned||null))return n.key}return null},[Xe,Ue]);return e.jsxs("div",o({ref:Ie,className:"th-table ".concat(D||""," th-theme-").concat(Yn.mode||"light"," ").concat(gn?"resizing":""," ").concat(Q?"th-sticky-header":""," ").concat(xe?"enable-cell-selection":""),style:o(o(o(o({},Zn),N),z?{maxHeight:"number"==typeof z?"".concat(z,"px"):z,overflow:"auto"}:{}),gn?{cursor:"col-resize"}:{}),tabIndex:xe||re?0:void 0},{children:[ce&&e.jsx("div",o({className:"th-export-toolbar"},{children:e.jsx(R,{data:Re.filtered,columns:Xe,format:de,filename:he,onBeforeExport:ge,onAfterExport:me})})),X&&e.jsx(u,{columns:Xe,itemsPerPage:p,selectionMode:L,onRenderLoading:_}),et&&e.jsx(d,{emptyMessage:Y,onRenderEmpty:Z}),nt&&e.jsx("div",o({style:o({overflowX:"auto",overflowY:Q&&!z?"auto":"visible",width:"100%"},Q&&!z?{maxHeight:"calc(100vh - 200px)"}:{})},{children:e.jsxs("table",{children:[e.jsx(m,{columns:Xe,selectionMode:L,isAllSelected:tn,isIndeterminate:on,onSelectAll:sn,columnWidths:hn,pinnedColumns:Ue,lastLeftPinnedColumnKey:rt,firstRightPinnedColumnKey:lt,stickyHeader:Q,enableColumnReorder:ne||!1,dragOverColumn:qe,sortKey:Re.sortKey,sortDir:Re.sortDir,filters:Re.filters,anchorRefs:je,calloutKey:pn.calloutKey,resizingColumn:gn,onRenderHeader:b,onColumnHeaderClick:k,onHeaderMouseEnter:pn.handleHeaderMouseEnter,onHeaderMouseLeave:pn.handleHeaderMouseLeave,onCalloutMouseEnter:pn.handleCalloutMouseEnter,onCalloutMouseLeave:pn.handleCalloutMouseLeave,onColumnDragStart:Ze,onColumnDragOver:Je,onColumnDrop:Qe,onResizeStart:mn,onSortAsc:function(e){!1!==e.sortable&&Re.handleSort(e.key,"asc")},onSortDesc:function(e){!1!==e.sortable&&Re.handleSort(e.key,"desc")},onFilter:function(e){var n;!1!==e.filterable&&(n=e.key,Le(String(n)),pn.dismissCallout())},onClearFilter:function(e){!1!==e.filterable&&Re.setFilter(String(e.key),[])},onPinLeft:function(e){return Ye(e.key,"left")},onPinRight:function(e){return Ye(e.key,"right")},onUnpin:function(e){return Ye(e.key,null)},onToggleVisibility:function(e){$&&_e(e.key)},onGroupBy:function(e){ze===e.key?Fe(void 0):Fe(e.key)},currentGroupBy:ze,enableColumnVisibility:$||!1,enableGroupBy:!0,enableTotals:!0,onTotalsChange:function(e,n){De(function(t){var r;return o(o({},t),((r={})[String(e.key)]=n,r))})},columnTotals:Ee,getLeftOffset:tt,getRightOffset:ot,dismissCallout:pn.dismissCallout,enableRowActions:!!pe,enableCellSelection:xe,isRangeFromFirstRow:An(),isColumnInRange:Vn,getColumnRangeInfo:Wn,isCopied:Kn.isCopied}),e.jsx(y,{data:h,columns:Xe,paginatedGroups:qn||void 0,currentGroupBy:ze,expandedGroups:Ve,selectionMode:L,selectedItems:en,activeItemIndex:nn,focusedRowIndex:null!=Qn?Qn:void 0,enableRowReorder:ie,draggedRowIndex:jn,dragOverRowIndex:In,isDragging:Mn,columnWidths:hn,pinnedColumns:Ue,lastLeftPinnedColumnKey:rt||void 0,firstRightPinnedColumnKey:lt||void 0,showTooltip:U,onRenderRow:C,getItemKey:rn,onItemClick:an,onItemContextMenu:I,onCheckboxChange:ln,onCellEditStart:wn,onRowDragStart:En,onRowDragOver:Dn,onRowDragLeave:Nn,onRowDrop:Pn,onRowDragEnd:Ln,renderCell:_n,getCellText:Xn,getLeftOffset:tt,getRightOffset:ot,toggleGroup:function(e){We(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})},filteredData:Re.filtered,pagedData:Re.paged,rowActions:pe,openMenuKey:Te,onMenuToggle:un,onMenuDismiss:dn,enableCellSelection:xe,isCellSelected:Kn.isCellSelected,getCellRangeInfo:Fn,isRowAboveRange:zn,isColumnInRange:Vn,getColumnRangeInfo:Wn,onCellMouseDown:On,onCellMouseEnter:Bn,onCellMouseUp:Hn}),e.jsx(w,{columns:Xe,selectionMode:L,columnTotals:Ee,pinnedColumns:Ue,columnWidths:hn,lastLeftPinnedColumnKey:rt||void 0,firstRightPinnedColumnKey:lt||void 0,totalCount:Re.filtered.length,getLeftOffset:tt,getRightOffset:ot})]})})),nt&&O&&e.jsx(s,{totalItems:ze&&Un?Object.keys(Un).length:Re.filtered.length,itemsPerPage:Re.itemsPerPage,currentPage:Re.currentPage,onPageChange:Re.setCurrentPage,itemsPerPageOptions:we,onItemsPerPageChange:function(e){ke(e),Re.setCurrentPage(1)}}),Pe&&e.jsx(c,{field:Pe,values:Gn,selected:Re.filters[Pe]||[],onApply:function(e){Re.setFilter(Pe,e),Le(null)},onDismiss:function(){return Le(null)}})]}))},exports.applyTheme=E,exports.defaultDarkTheme=I,exports.defaultLightTheme=j,exports.getTheme=M,exports.useTable=a;
