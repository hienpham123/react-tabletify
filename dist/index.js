"use strict";var e=require("react/jsx-runtime");function n(e){var n=Object.create(null);return e&&Object.keys(e).forEach(function(t){if("default"!==t){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o.get?o:{enumerable:!0,get:function(){return e[t]}})}}),n.default=e,Object.freeze(n)}var t=n(require("react")),o=function(){return o=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},o.apply(this,arguments)};function r(e,n,t,o){return new(t||(t=Promise))(function(r,l){function i(e){try{s(o.next(e))}catch(e){l(e)}}function a(e){try{s(o.throw(e))}catch(e){l(e)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,a)}s((o=o.apply(e,n||[])).next())})}function l(e,n){var t,o,r,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(s){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(l=0)),l;)try{if(t=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){l.label=a[1];break}if(6===a[0]&&l.label<r[1]){l.label=r[1],r=a;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(a);break}r[2]&&l.ops.pop(),l.trys.pop();continue}a=n.call(e,l)}catch(e){a=[6,e],o=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function i(e,n,t){if(t||2===arguments.length)for(var o,r=0,l=n.length;r<l;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function a(e,n){void 0===n&&(n=10);var r=t.useState(""),l=r[0],a=r[1],s=t.useState(null),c=s[0],u=s[1],d=t.useState("asc"),f=d[0],h=d[1],g=t.useState(1),m=g[0],p=g[1],v=t.useState({}),x=v[0],y=v[1],C=function(e,n){y(function(t){var r=o({},t);return 0===n.length?delete r[e]:r[e]=n,r})},b=t.useMemo(function(){var n=e;if(Object.entries(x).forEach(function(e){var t=e[0],o=e[1];o.length>0&&(n=n.filter(function(e){return o.includes(String(e[t]))}))}),l.trim()){var t=l.toLowerCase();n=n.filter(function(e){return Object.values(e).some(function(e){return String(e).toLowerCase().includes(t)})})}return n},[e,l,x]),w=t.useMemo(function(){return c?i([],b,!0).sort(function(e,n){var t=e[c],o=n[c];if(null==t)return 1;if(null==o)return-1;if(t===o)return 0;var r=String(t).localeCompare(String(o),void 0,{numeric:!0,sensitivity:"base"});return"asc"===f?r:-r}):b},[b,c,f]),k=Math.ceil(w.length/n),S=t.useMemo(function(){var e=(m-1)*n;return w.slice(e,e+n)},[w,m,n]);t.useEffect(function(){p(1)},[l,c,f,x]);var R=t.useCallback(function(){a("")},[]),I=t.useCallback(function(){y({})},[]),j=t.useCallback(function(e){C(e,[])},[C]),M=t.useCallback(function(){u(null),h("asc")},[]),P=t.useCallback(function(){a(""),y({}),u(null),h("asc"),p(1)},[]),N=t.useCallback(function(){p(1)},[]),E=t.useCallback(function(){p(k)},[k]),D=t.useCallback(function(){p(function(e){return Math.min(e+1,k)})},[k]),K=t.useCallback(function(){p(function(e){return Math.max(e-1,1)})},[]);return{filtered:b,sorted:w,paged:S,currentPage:m,setCurrentPage:p,totalPages:k,itemsPerPage:n,goToFirstPage:N,goToLastPage:E,goToNextPage:D,goToPrevPage:K,search:l,setSearch:a,clearSearch:R,sortKey:c,sortDir:f,handleSort:function(e,n){n?(u(e),h(n)):c===e?h(function(e){return"asc"===e?"desc":"asc"}):(u(e),h("asc"))},resetSort:M,filters:x,setFilter:C,clearFilter:j,clearFilters:I,resetAll:P}}"function"==typeof SuppressedError&&SuppressedError;var s=function(n){var t=n.totalItems,r=n.itemsPerPage,l=n.currentPage,i=n.onPageChange,a=n.maxVisible,s=void 0===a?5:a,c=n.itemsPerPageOptions,u=n.onItemsPerPageChange,d=Math.ceil(t/r),f=Math.floor(s/2),h=Math.max(1,l-f),g=Math.min(d,h+s-1);g-h<s-1&&(h=Math.max(1,g-s+1));var m=Array.from({length:g-h+1},function(e,n){return h+n}),p=function(e){e<1||e>d||e===l||i(e)};return!(d<=0)||c&&u?e.jsxs("div",o({className:"th-pagination"},{children:[e.jsx("button",o({onClick:function(){return p(l-1)},disabled:1===l,className:"th-pagination-btn th-pagination-arrow","aria-label":"Previous page"},{children:"<"})),h>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",o({className:"th-pagination-btn",onClick:function(){return p(1)}},{children:"1"})),h>2&&e.jsx("span",o({className:"th-pagination-ellipsis"},{children:"..."}))]}),m.map(function(n){return e.jsx("button",o({onClick:function(){return p(n)},className:"th-pagination-btn ".concat(n===l?"th-page-active":"")},{children:n}),n)}),g<d&&e.jsxs(e.Fragment,{children:[g<d-1&&e.jsx("span",o({className:"th-pagination-ellipsis"},{children:"..."})),e.jsx("button",o({className:"th-pagination-btn",onClick:function(){return p(d)}},{children:d}))]}),e.jsx("button",o({onClick:function(){return p(l+1)},disabled:l===d,className:"th-pagination-btn th-pagination-arrow","aria-label":"Next page"},{children:">"})),c&&u&&e.jsxs("div",o({className:"th-pagination-items-per-page"},{children:[e.jsx("label",o({htmlFor:"th-items-per-page-select",style:{marginRight:"8px"}},{children:"Rows per page:"})),e.jsx("select",o({id:"th-items-per-page-select",value:r,onChange:function(e){var n=Number(e.target.value);u(n),i(1)},className:"th-pagination-select"},{children:c.map(function(n){return e.jsx("option",o({value:n},{children:n}),n)})}))]}))]})):null};function c(n){var r=n.field,l=n.values,a=n.selected,s=n.onApply,c=n.onDismiss,u=t.useState(a),d=u[0],f=u[1],h=t.useState(""),g=h[0],m=h[1];t.useEffect(function(){f(a),m("")},[r]);var p=t.useMemo(function(){if(!g.trim())return l;var e=g.toLowerCase();return l.filter(function(n){return n.toLowerCase().includes(e)})},[l,g]);return e.jsxs("div",o({className:"th-filter-panel open"},{children:[e.jsxs("div",o({className:"th-filter-header"},{children:[e.jsxs("strong",{children:["Filter by '",r,"'"]}),e.jsx("button",o({className:"th-filter-close",onClick:c,"aria-label":"Close"},{children:e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8 7.29289L3.85355 3.14645C3.65829 2.95118 3.34171 2.95118 3.14645 3.14645C2.95118 3.34171 2.95118 3.65829 3.14645 3.85355L7.29289 8L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L8 8.70711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.70711 8L12.8536 3.85355Z",fill:"currentColor"})}))}))]})),e.jsxs("div",o({className:"th-filter-content"},{children:[e.jsx("div",o({className:"th-filter-search"},{children:e.jsx("input",{type:"text",className:"th-filter-search-input",placeholder:"Select ".concat(r," to display..."),value:g,onChange:function(e){return m(e.target.value)}})})),e.jsx("div",o({className:"th-filter-options-list"},{children:p.length>0?p.map(function(n){return e.jsxs("div",o({className:"th-filter-option"},{children:[e.jsx("input",{type:"checkbox",id:"filter-".concat(r,"-").concat(n),checked:d.includes(n),onChange:function(){return function(e){f(function(n){return n.includes(e)?n.filter(function(n){return n!==e}):i(i([],n,!0),[e],!1)})}(n)}}),e.jsx("label",o({htmlFor:"filter-".concat(r,"-").concat(n)},{children:n}))]}),n)}):e.jsx("div",o({className:"th-filter-no-results"},{children:"No results found"}))}))]})),e.jsxs("div",o({className:"th-filter-footer"},{children:[e.jsx("button",o({className:"th-btn",onClick:function(){f([])}},{children:"Clear all"})),e.jsx("button",o({className:"th-btn primary",onClick:function(){return s(d)}},{children:"Apply"}))]}))]}))}function u(n){var t=n.columns,r=n.itemsPerPage,l=n.selectionMode,i=n.onRenderLoading;return i?e.jsx(e.Fragment,{children:i()}):e.jsxs("div",o({className:"th-loading-skeleton"},{children:[e.jsxs("div",o({className:"th-skeleton-header"},{children:["none"!==l&&e.jsx("div",{className:"th-skeleton-cell",style:{width:"48px"}}),t.map(function(n,t){return e.jsx("div",{className:"th-skeleton-cell",style:{width:n.width||"150px"}},t)})]})),Array.from({length:r}).map(function(n,r){return e.jsxs("div",o({className:"th-skeleton-row"},{children:["none"!==l&&e.jsx("div",{className:"th-skeleton-cell",style:{width:"48px"}}),t.map(function(n,t){return e.jsx("div",{className:"th-skeleton-cell",style:{width:n.width||"150px"}},t)})]}),r)})]}))}function d(n){var t=n.emptyMessage,r=n.onRenderEmpty;return r?e.jsx(e.Fragment,{children:r()}):e.jsxs("div",o({className:"th-empty-state"},{children:[e.jsx("div",o({className:"th-empty-icon"},{children:"ðŸ“‹"})),e.jsx("div",o({className:"th-empty-message"},{children:t||"No data available"}))]}))}function f(n){var t=n.selectionMode,r=n.checked,l=n.indeterminate,i=n.onChange,a=n.onSelectAll;if("none"===t)return null;var s=void 0!==a;return e.jsx("td",o({className:"th-selection-column"},{children:e.jsx("div",o({className:"th-selection-checkbox-wrapper"},{children:"multiple"===t?e.jsx("input",{type:"checkbox",className:"th-selection-checkbox",checked:r,ref:function(e){e&&void 0!==l&&(e.indeterminate=l)},onChange:function(e){s&&a?a(e.target.checked):i(e.target.checked)},onClick:function(e){return e.stopPropagation()}}):s?e.jsx("div",{className:"th-selection-checkbox-wrapper"}):e.jsx("input",{type:"radio",className:"th-selection-checkbox",checked:r,onChange:function(e){return i(e.target.checked)},onClick:function(e){return e.stopPropagation()}})}))}))}function h(n){var r=n.anchorRef,l=n.onSortAsc,i=n.onSortDesc,a=n.onFilter,s=n.onClearFilter,c=n.onPinLeft,u=n.onPinRight,d=n.onUnpin,f=n.onToggleVisibility,h=n.onGroupBy,g=n.isGrouped,m=void 0!==g&&g,p=n.onColumnSettings,v=n.onTotalsChange,x=n.totalsValue,y=void 0===x?"none":x,C=n.columnLabel,b=void 0===C?"Column":C;n.onDismiss;var w=n.onMouseEnter,k=n.onMouseLeave,S=n.sortable,R=void 0===S||S,I=n.filterable,j=void 0===I||I,M=n.hasFilter,P=void 0!==M&&M,N=n.pinned,E=void 0===N?null:N,D=n.visible,K=void 0===D||D,L=n.enableColumnVisibility,T=void 0!==L&&L;n.enableColumnReorder;var A=n.enableGroupBy,F=void 0!==A&&A,O=n.enableTotals,_=void 0!==O&&O,B=t.useRef(null),H=t.useState(null),z=H[0],V=H[1],U=t.useRef(null);if(t.useEffect(function(){return function(){U.current&&clearTimeout(U.current)}},[]),!r.current)return null;var W=r.current.getBoundingClientRect(),G=function(e){U.current&&clearTimeout(U.current),V(e)},q=function(){U.current=setTimeout(function(){V(null)},150)};return e.jsx(e.Fragment,{children:e.jsxs("div",o({ref:B,className:"th-callout",style:{top:W.bottom+6,left:W.left,position:"fixed"},onMouseEnter:w,onMouseLeave:k},{children:[R&&e.jsxs(e.Fragment,{children:[e.jsx("button",o({onClick:l,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Ascending"}))})),e.jsx("button",o({onClick:i,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Descending"}))}))]}),R&&j&&e.jsx("hr",{className:"th-callout-divider"}),j&&P&&s&&e.jsx("button",o({onClick:s,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Clear filter"}))})),j&&P&&s&&e.jsx("hr",{className:"th-callout-divider"}),j&&e.jsx("button",o({onClick:a,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Filter by"}))})),F&&h&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"th-callout-divider"}),e.jsxs("button",o({onClick:h,className:"th-callout-item ".concat(m?"th-callout-item-selected":"")},{children:[e.jsxs("span",o({className:"th-callout-text"},{children:["Group by ",b]})),m&&e.jsx("span",o({className:"th-callout-checkmark"},{children:"âœ“"}))]}))]}),(c||u||d||p||_)&&e.jsx("hr",{className:"th-callout-divider"}),p?e.jsxs("div",o({className:"th-callout-item th-callout-item-with-submenu",onMouseEnter:function(){return G("column-settings")},onMouseLeave:q},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"Column settings"})),e.jsx("span",o({className:"th-callout-arrow"},{children:"â€º"})),"column-settings"===z&&e.jsxs("div",o({className:"th-callout-submenu",onMouseEnter:function(){return G("column-settings")},onMouseLeave:q},{children:[null===E&&c&&e.jsx("button",o({onClick:c,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin left"}))})),null===E&&u&&e.jsx("button",o({onClick:u,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin right"}))})),null!==E&&d&&e.jsx("button",o({onClick:d,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Unpin"}))})),T&&f&&e.jsxs(e.Fragment,{children:[(c||u||d)&&e.jsx("hr",{className:"th-callout-divider"}),e.jsx("button",o({onClick:f,className:"th-callout-submenu-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:K?"Hide column":"Show column"}))}))]})]}))]})):e.jsxs(e.Fragment,{children:[null===E&&c&&e.jsx("button",o({onClick:c,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin left"}))})),null===E&&u&&e.jsx("button",o({onClick:u,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Pin right"}))})),null!==E&&d&&e.jsx("button",o({onClick:d,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:"Unpin"}))}))]}),_&&v&&e.jsxs("div",o({className:"th-callout-item th-callout-item-with-submenu",onMouseEnter:function(){return G("totals")},onMouseLeave:q},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"Totals"})),e.jsx("span",o({className:"th-callout-arrow"},{children:"â€º"})),"totals"===z&&e.jsxs("div",o({className:"th-callout-submenu",onMouseEnter:function(){return G("totals")},onMouseLeave:q},{children:[e.jsxs("button",o({onClick:function(){return v("none")},className:"th-callout-submenu-item ".concat("none"===y?"th-callout-item-selected":"")},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"None"})),"none"===y&&e.jsx("span",o({className:"th-callout-checkmark"},{children:"âœ“"}))]})),e.jsxs("button",o({onClick:function(){return v("count")},className:"th-callout-submenu-item ".concat("count"===y?"th-callout-item-selected":"")},{children:[e.jsx("span",o({className:"th-callout-text"},{children:"Count"})),"count"===y&&e.jsx("span",o({className:"th-callout-checkmark"},{children:"âœ“"}))]}))]}))]})),!p&&T&&f&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"th-callout-divider"}),e.jsx("button",o({onClick:f,className:"th-callout-item"},{children:e.jsx("span",o({className:"th-callout-text"},{children:K?"Hide column":"Show column"}))}))]})]}))})}function g(n){var t=n.column,r=n.columnIndex,l=n.resizedWidth,i=n.pinPosition,a=n.leftOffset,s=n.rightOffset,c=n.lastLeftPinnedColumnKey,u=n.firstRightPinnedColumnKey,d=n.stickyHeader,f=n.enableColumnReorder,g=n.isDragOver,m=n.sortKey,p=n.sortDir,v=n.hasFilter,x=n.anchorRef,y=n.anchorRefForCallout,C=n.calloutKey,b=n.resizingColumn,w=n.onRenderHeader,k=n.onColumnHeaderClick,S=n.onHeaderMouseEnter,R=n.onHeaderMouseLeave,I=n.onCalloutMouseEnter,j=n.onCalloutMouseLeave,M=n.onColumnDragStart,P=n.onColumnDragOver,N=n.onColumnDrop,E=n.onResizeStart,D=n.onSortAsc,K=n.onSortDesc,L=n.onFilter,T=n.onClearFilter,A=n.onPinLeft,F=n.onPinRight,O=n.onUnpin,_=n.onToggleVisibility,B=n.onGroupBy,H=n.isGrouped,z=n.enableColumnVisibility,V=n.enableGroupBy,U=n.enableTotals,W=n.onTotalsChange,G=n.totalsValue,q=n.onDismiss,X=n.enableCellSelection,Y=void 0!==X&&X,Z=n.isInRangeColumn,J=void 0!==Z&&Z,Q=n.isLeftColInRange,$=void 0!==Q&&Q,ee=n.isRightColInRange,ne=void 0!==ee&&ee,te=n.isCopied,oe=void 0!==te&&te,re=String(t.key),le=o(o(o(o({},t.style),{width:l?"".concat(l,"px"):t.width,minWidth:t.minWidth,maxWidth:t.maxWidth,textAlign:t.align,position:i?"sticky":"relative"}),"left"===i?{left:"".concat(a,"px"),zIndex:d?15:5}:{}),"right"===i?{right:"".concat(s,"px"),zIndex:d?15:5}:{}),ie=t.className?"th-header-cell ".concat(i?"th-header-pinned th-pinned-".concat(i):""," ").concat(t.className):i?"th-header-cell th-header-pinned th-pinned-".concat(i):"th-header-cell",ae=[g?"th-drag-over":"",i?"th-pinned-".concat(i):"","left"===i&&t.key===c?"th-pinned-last-left":"","right"===i&&t.key===u?"th-pinned-first-right":"",Y&&oe?"th-cell-copied":""].filter(Boolean).join(" ");return e.jsxs("th",o({style:le,draggable:f,onDragStart:function(){return M(t.key)},onDragOver:function(e){return P(e,t.key)},onDrop:function(){return N(t.key)},onDragLeave:function(){},className:ae,"data-in-range-column":Y&&J?"true":void 0,"data-left-col-in-range":Y&&$?"true":void 0,"data-right-col-in-range":Y&&ne?"true":void 0},{children:[w?w(t,r):e.jsxs("div",o({className:ie,ref:function(e){x(e)},onMouseEnter:function(){return S(re)},onMouseLeave:R,onClick:function(e){return null==k?void 0:k(t,e)}},{children:[e.jsxs("span",o({className:"th-header-label"},{children:[t.label,!1!==t.showCallout&&e.jsx("span",o({className:"th-header-chevron-icon",role:"presentation","aria-hidden":"true"},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"})}))}))]})),e.jsxs("div",o({className:"th-header-icons"},{children:[i&&e.jsx("span",o({className:"th-header-pin-icon",title:"Pinned ".concat(i)},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M1990 748q-33 33-64 60t-66 47-73 29-89 11q-34 0-65-6l-379 379q13 38 19 78t6 80q0 65-13 118t-37 100-60 89-79 87l-386-386-568 569-136 45 45-136 569-568-386-386q44-44 86-79t89-59 100-38 119-13q40 0 80 6t78 19l379-379q-6-31-6-65 0-49 10-88t30-74 46-65 61-65l690 690z"})}))})),v&&e.jsx("span",o({className:"th-header-filter-icon",title:"Filtered",role:"presentation","aria-hidden":"true"},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:e.jsx("path",{d:"M2048 128v219l-768 768v805H768v-805L0 347V128h2048z"})}))})),m===t.key&&e.jsx("span",o({className:"th-header-sort-icon"},{children:"asc"===p?e.jsx("span",o({className:"th-sort-arrow"},{children:"â†‘"})):e.jsx("span",o({className:"th-sort-arrow"},{children:"â†“"}))}))]})),e.jsx("span",o({className:"th-header-action"},{children:"â‹®"}))]})),!1!==t.resizable&&e.jsx("div",{className:"th-resize-handle",onMouseDown:function(e){return E(re,e)},style:{cursor:"col-resize",position:"absolute",right:0,top:0,bottom:0,width:"4px",zIndex:10,userSelect:"none"}}),C===re&&!b&&!1!==t.showCallout&&e.jsx(h,{anchorRef:y,onSortAsc:D,onSortDesc:K,onFilter:L,onClearFilter:T,onPinLeft:A,onPinRight:F,onUnpin:O,onToggleVisibility:_,onGroupBy:B,isGrouped:H,onColumnSettings:!(!O&&!z)||void 0,onTotalsChange:W,totalsValue:G,columnLabel:t.label,onDismiss:q,onMouseEnter:I,onMouseLeave:j,sortable:!1!==t.sortable,filterable:!1!==t.filterable,hasFilter:v,pinned:i,visible:!0,enableColumnVisibility:z,enableGroupBy:V,enableTotals:U})]}),re)}function m(n){var t=n.columns,r=n.selectionMode,l=n.isAllSelected,i=n.isIndeterminate,a=n.onSelectAll,s=n.columnWidths,c=n.pinnedColumns,u=n.lastLeftPinnedColumnKey,d=n.firstRightPinnedColumnKey,h=n.stickyHeader,m=n.enableColumnReorder,p=n.dragOverColumn,v=n.sortKey,x=n.sortDir,y=n.filters,C=n.anchorRefs,b=n.calloutKey,w=n.resizingColumn,k=n.onRenderHeader,S=n.onColumnHeaderClick,R=n.onHeaderMouseEnter,I=n.onHeaderMouseLeave,j=n.onCalloutMouseEnter,M=n.onCalloutMouseLeave,P=n.onColumnDragStart,N=n.onColumnDragOver,E=n.onColumnDrop,D=n.onResizeStart,K=n.onSortAsc,L=n.onSortDesc,T=n.onFilter,A=n.onClearFilter,F=n.onPinLeft,O=n.onPinRight,_=n.onUnpin,B=n.onToggleVisibility,H=n.onGroupBy,z=n.currentGroupBy,V=n.enableColumnVisibility,U=n.enableGroupBy,W=n.enableTotals,G=n.onTotalsChange,q=n.columnTotals,X=n.getLeftOffset,Y=n.getRightOffset,Z=n.dismissCallout,J=n.enableRowActions,Q=void 0!==J&&J,$=n.enableCellSelection,ee=void 0!==$&&$,ne=n.isRangeFromFirstRow,te=void 0!==ne&&ne;n.isColumnInRange;var oe=n.getColumnRangeInfo,re=n.isCopied,le=void 0!==re&&re;return e.jsx("thead",{children:e.jsxs("tr",{children:["none"!==r&&e.jsx(f,{selectionMode:r,checked:l,indeterminate:i,onChange:function(){},onSelectAll:a}),Q&&e.jsx("th",o({className:"th-row-actions-column"},{children:e.jsx("div",o({className:"th-header-cell"},{children:e.jsx("span",{className:"th-header-label"})}))})),t.map(function(n,t){var o=String(n.key),r=s[o],l=c[o]||n.pinned||null,i="left"===l?X(n,t):0,a="right"===l?Y(n,t):0,f=ee&&te&&oe?oe(o):{isInRange:!1,isLeftCol:!1,isRightCol:!1},J=ee&&te&&le&&f.isInRange,Q={get current(){return C.current[o]||null},set current(e){}};return e.jsx(g,{column:n,columnIndex:t,resizedWidth:r,pinPosition:l,leftOffset:i,rightOffset:a,lastLeftPinnedColumnKey:null!=u?u:void 0,firstRightPinnedColumnKey:null!=d?d:void 0,stickyHeader:h,enableColumnReorder:m,isDragOver:p===n.key,sortKey:v,sortDir:x,hasFilter:!!(y[o]&&y[o].length>0),anchorRef:function(e){e&&(C.current[o]=e)},anchorRefForCallout:Q,calloutKey:b===n.key?o:null,resizingColumn:w,onRenderHeader:k,onColumnHeaderClick:S,onHeaderMouseEnter:R,onHeaderMouseLeave:I,onCalloutMouseEnter:j,onCalloutMouseLeave:M,onColumnDragStart:P,onColumnDragOver:N,onColumnDrop:E,onResizeStart:D,enableCellSelection:ee,isInRangeColumn:f.isInRange,isLeftColInRange:f.isLeftCol,isRightColInRange:f.isRightCol,isCopied:J,onSortAsc:function(){!1!==n.sortable&&(K(n),Z())},onSortDesc:function(){!1!==n.sortable&&(L(n),Z())},onFilter:function(){!1!==n.filterable&&T(n)},onClearFilter:function(){!1!==n.filterable&&(A(n),Z())},onPinLeft:function(){F(n),Z()},onPinRight:function(){O(n),Z()},onUnpin:function(){_(n),Z()},onToggleVisibility:function(){V&&(B(n),Z())},onGroupBy:function(){H(n),Z()},isGrouped:z===n.key,enableColumnVisibility:V,enableGroupBy:U,enableTotals:W,onTotalsChange:function(e){G(n,e),Z()},totalsValue:q[o]||"none",onDismiss:Z},o)})]})})}function p(n){var t=n.groupKey,r=n.groupLabel,l=n.rowCount,i=n.isExpanded,a=n.onToggle,s=n.colSpan;return e.jsx("tr",o({className:"th-group-header"},{children:e.jsx("td",o({colSpan:s,className:"th-group-header-cell"},{children:e.jsxs("button",o({className:"th-group-toggle",onClick:a,"aria-expanded":i},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:i?"expanded":""},{children:e.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})),e.jsxs("span",o({className:"th-group-label"},{children:[r,": ",t]})),e.jsxs("span",o({className:"th-group-count"},{children:["(",l,")"]}))]}))}))}))}function v(n){var t=n.column,r=n.item,l=n.index,i=n.resizedWidth,a=n.pinPosition,s=n.leftOffset,c=n.rightOffset,u=n.lastLeftPinnedColumnKey,d=n.firstRightPinnedColumnKey,f=n.showTooltip,h=n.onDoubleClick,g=n.renderCell,m=n.getCellText,p=n.isSelected,v=void 0!==p&&p,x=n.isRangeStart,y=void 0!==x&&x,C=n.isRangeEnd,b=void 0!==C&&C,w=n.isInRange,k=void 0!==w&&w,S=n.isTopRow,R=void 0!==S&&S,I=n.isBottomRow,j=void 0!==I&&I,M=n.isLeftCol,P=void 0!==M&&M,N=n.isRightCol,E=void 0!==N&&N,D=n.isInRangeColumn,K=void 0!==D&&D,L=n.isLeftColInRange,T=void 0!==L&&L,A=n.isRightColInRange,F=void 0!==A&&A,O=n.isCopied,_=void 0!==O&&O,B=n.isFocused,H=void 0!==B&&B,z=n.rowIndex,V=n.colKey,U=n.onMouseDown,W=n.onMouseEnter,G=n.onMouseUp,q=n.enableCellSelection,X=void 0!==q&&q,Y=String(t.key),Z=o(o(o(o({},t.cellStyle),{textAlign:t.align,width:i?"".concat(i,"px"):t.width,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(s,"px"),zIndex:3}:{}),"right"===a?{right:"".concat(c,"px"),zIndex:3}:{}),J=[t.cellClassName,t.editable?"th-cell-editable":"",a?"th-cell-pinned th-pinned-".concat(a):"","left"===a&&t.key===u?"th-pinned-last-left":"","right"===a&&t.key===d?"th-pinned-first-right":"",X&&v?"th-cell-selected":"",X&&H?"th-cell-focused":"",X&&y?"th-cell-range-start":"",X&&b?"th-cell-range-end":"",X&&k?"th-cell-in-range":"",X&&R?"th-cell-range-top":"",X&&j?"th-cell-range-bottom":"",X&&P?"th-cell-range-left":"",X&&E?"th-cell-range-right":"",X&&_?"th-cell-copied":"",f?"th-cell-with-tooltip":"th-cell-no-tooltip"].filter(Boolean).join(" "),Q=f&&m?m(r,t):void 0;return e.jsx("td",o({style:Z,className:J,onDoubleClick:h,title:Q||void 0,onMouseDown:X?U:void 0,onMouseEnter:X?W:void 0,onMouseUp:X?G:void 0,"data-in-range-column":X&&K?"true":void 0,"data-left-col-in-range":X&&T?"true":void 0,"data-right-col-in-range":X&&F?"true":void 0,"data-row-index":X&&void 0!==z?z:void 0,"data-col-key":X&&V?V:void 0},{children:g(r,t,l)}),Y)}function x(n){var t=n.item,r=n.index,l=n.actions,i=n.onMenuToggle,a=n.isMenuOpen,s=n.buttonRef;return l&&0!==l.length?e.jsx("td",o({className:"th-row-actions-column"},{children:e.jsx("button",o({ref:s,type:"button",className:"th-row-actions-button ".concat(a?"th-row-actions-button-active":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),i(t,r)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},"aria-label":"Row actions","aria-haspopup":"true","aria-expanded":a},{children:e.jsxs("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"}},{children:[e.jsx("circle",{cx:"4",cy:"8",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"8",cy:"8",r:"1.5",fill:"currentColor"}),e.jsx("circle",{cx:"12",cy:"8",r:"1.5",fill:"currentColor"})]}))}))})):e.jsx("td",{className:"th-row-actions-column"})}function y(n){var r=n.anchorRef,l=n.actions,i=n.item,a=n.index,s=n.onDismiss,c=n.onMouseEnter,u=n.onMouseLeave,d=t.useRef(null);if(t.useEffect(function(){var e=function(e){d.current&&!d.current.contains(e.target)&&r.current&&!r.current.contains(e.target)&&s()},n=function(e){"Escape"===e.key&&s()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",n),function(){document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n)}},[s,r]),!r.current||0===l.length)return null;var f=r.current.getBoundingClientRect(),h=32*l.length+8,g=window.innerHeight-f.bottom,m=f.top,p=g<h&&m>g?f.top-h-4:f.bottom+4;return e.jsx("div",o({ref:d,className:"th-row-actions-menu",style:{position:"fixed",top:"".concat(p,"px"),left:"".concat(f.left,"px"),zIndex:1e3},onMouseEnter:c,onMouseLeave:u},{children:l.map(function(n){return e.jsxs("button",o({className:"th-row-actions-menu-item ".concat(n.disabled?"th-row-actions-menu-item-disabled":""),onClick:function(){return function(e){e.disabled||(e.onClick(i,a),s())}(n)},disabled:n.disabled},{children:[n.icon&&e.jsx("span",o({className:"th-row-actions-menu-icon"},{children:n.icon})),e.jsx("span",o({className:"th-row-actions-menu-text"},{children:n.label}))]}),n.key)})}))}function C(n){var r=n.item,l=n.index,i=n.itemKey,a=n.columns,s=n.selectionMode,c=n.isSelected,u=n.isActive,d=n.isFocused,h=void 0!==d&&d,g=n.isDragging,m=void 0!==g&&g,p=n.isDragOver,C=void 0!==p&&p,b=n.canDrag,w=n.columnWidths,k=n.pinnedColumns,S=n.lastLeftPinnedColumnKey,R=n.firstRightPinnedColumnKey,I=n.showTooltip,j=n.onItemClick,M=n.onItemContextMenu,P=n.onCheckboxChange,N=n.onCellEditStart,E=n.onDragStart,D=n.onDragOver,K=n.onDragLeave,L=n.onDrop,T=n.onDragEnd,A=n.renderCell,F=n.getCellText,O=n.getLeftOffset,_=n.getRightOffset,B=n.isDraggingState,H=n.rowActions,z=n.openMenuKey,V=n.onMenuToggle,U=n.onMenuDismiss,W=n.enableCellSelection,G=void 0!==W&&W,q=n.cellSelectionIndex,X=n.isCellSelected,Y=n.getCellRangeInfo,Z=n.isRowAboveRange,J=void 0!==Z&&Z;n.isColumnInRange;var Q=n.getColumnRangeInfo,$=n.onCellMouseDown,ee=n.onCellMouseEnter,ne=n.onCellMouseUp,te=[c?"th-row-selected":"",!G&&u?"th-row-active":"",!G&&h?"th-row-focused":"",b?"th-row-draggable":"",m?"th-row-dragging":"",C?"th-row-drag-over":"",G&&J?"th-row-above-range":""].filter(Boolean).join(" "),oe=H?H(r,l):[],re=z===t.useMemo(function(){return"".concat(String(i),"-").concat(l)},[i,l]),le=t.useRef(null);return e.jsxs(e.Fragment,{children:[e.jsxs("tr",o({className:te,draggable:b,onDragStart:function(e){return E(e,l)},onDragOver:function(e){return D(e,l)},onDragLeave:K,onDrop:function(e){return L(e,l)},onDragEnd:T,onClick:function(e){B||G||j(r,l,e)},onContextMenu:function(e){return null==M?void 0:M(r,l,e)}},{children:["none"!==s&&e.jsx(f,{selectionMode:s,checked:c,onChange:function(e){return P(r,l,e)}}),oe.length>0&&e.jsx(x,{item:r,index:l,actions:oe,onMenuToggle:V,isMenuOpen:re,buttonRef:le}),a.map(function(n,t){var o,i,s=String(n.key),c=w[s],u=k[s]||n.pinned||null,d=a.findIndex(function(e){return String(e.key)===s}),f="left"===u?O(n,d):0,h="right"===u?_(n,d):0,g=void 0!==q?q:l,m=!(!G||!X)&&X(g,s),p=G&&Y?Y(g,s):{isStart:!1,isEnd:!1,isInRange:!1,isTopRow:!1,isBottomRow:!1,isLeftCol:!1,isRightCol:!1,isCopied:!1,isFocused:!1},x=null!==(o=p.isCopied)&&void 0!==o&&o,y=null!==(i=p.isFocused)&&void 0!==i&&i,C=G&&J&&Q?Q(s):{isInRange:!1,isLeftCol:!1,isRightCol:!1},b=C.isInRange;return e.jsx(v,{column:n,item:r,index:l,resizedWidth:c,pinPosition:u,leftOffset:f,rightOffset:h,lastLeftPinnedColumnKey:S,firstRightPinnedColumnKey:R,showTooltip:I,onDoubleClick:function(){return N(r,n,l)},renderCell:A,getCellText:F,enableCellSelection:G,isSelected:m,isFocused:y,isRangeStart:p.isStart,isRangeEnd:p.isEnd,isInRange:p.isInRange,isTopRow:p.isTopRow,isBottomRow:p.isBottomRow,isLeftCol:p.isLeftCol,isRightCol:p.isRightCol,isInRangeColumn:b,isLeftColInRange:C.isLeftCol,isRightColInRange:C.isRightCol,isCopied:x,rowIndex:g,colKey:s,onMouseDown:G&&$?function(e){return $(g,s,e)}:void 0,onMouseEnter:G&&ee?function(e){return ee(g,s,e)}:void 0,onMouseUp:G&&ne?function(e){return ne(g,s,e)}:void 0},s)})]}),i),re&&oe.length>0&&e.jsx(y,{anchorRef:le,actions:oe,item:r,index:l,onDismiss:U})]})}function b(n){var o=n.data,r=n.columns,l=n.paginatedGroups,i=n.currentGroupBy,a=n.expandedGroups,s=n.selectionMode,c=n.selectedItems,u=n.activeItemIndex,d=n.focusedRowIndex,f=n.enableRowReorder,h=n.draggedRowIndex,g=n.dragOverRowIndex,m=n.isDragging,v=n.columnWidths,x=n.pinnedColumns,y=n.lastLeftPinnedColumnKey,b=n.firstRightPinnedColumnKey,w=n.showTooltip,k=n.onRenderRow,S=n.getItemKey,R=n.onItemClick,I=n.onItemContextMenu,j=n.onCheckboxChange,M=n.onCellEditStart,P=n.onRowDragStart,N=n.onRowDragOver,E=n.onRowDragLeave,D=n.onRowDrop,K=n.onRowDragEnd,L=n.renderCell,T=n.getCellText,A=n.getLeftOffset,F=n.getRightOffset,O=n.toggleGroup,_=n.filteredData,B=n.pagedData,H=n.rowActions,z=n.openMenuKey,V=n.onMenuToggle,U=n.onMenuDismiss,W=n.enableCellSelection,G=void 0!==W&&W,q=n.isCellSelected,X=n.getCellRangeInfo,Y=n.isRowAboveRange,Z=n.isColumnInRange,J=n.getColumnRangeInfo,Q=n.onCellMouseDown,$=n.onCellMouseEnter,ee=n.onCellMouseUp,ne=i?r.find(function(e){return e.key===i}):null,te=(null==ne?void 0:ne.label)||(i?String(i):"");return e.jsx("tbody",{children:i&&l?l.map(function(n){var l=n[0],d=n[1],W=a.has(l);return e.jsxs(t.Fragment,{children:[e.jsx(p,{groupKey:l,groupLabel:te,rowCount:d.length,isExpanded:W,onToggle:function(){return O(l)},colSpan:r.length+("none"!==s?1:0)+(H?1:0)}),W&&d.map(function(n,l){var a=o.findIndex(function(e){return e===n}),d=a>=0?a:_.findIndex(function(e){return e===n}),p=a>=0?a:d>=0?d:l,O=B.findIndex(function(e){return e===n}),W=O>=0?O:l,ne=S(n,p),te=c.has(ne),oe=a>=0&&u===a,re=_.findIndex(function(e){return e===n}),le=re>=0?re:p,ie=f&&!i;return k?e.jsx(t.Fragment,{children:k(n,p,r)},ne):e.jsx(C,{item:n,index:p,itemKey:ne,columns:r,selectionMode:s,isSelected:te,isActive:oe,isFocused:!1,isDragging:h===le,isDragOver:g===le,canDrag:ie,columnWidths:v,pinnedColumns:x,lastLeftPinnedColumnKey:y,firstRightPinnedColumnKey:b,showTooltip:w,onItemClick:R,onItemContextMenu:I,onCheckboxChange:j,onCellEditStart:M,onDragStart:P,onDragOver:N,onDragLeave:E,onDrop:D,onDragEnd:K,renderCell:L,getCellText:T,getLeftOffset:A,getRightOffset:F,isDraggingState:m,rowActions:H,openMenuKey:z,onMenuToggle:V,onMenuDismiss:U,enableCellSelection:G,cellSelectionIndex:W,isCellSelected:q,getCellRangeInfo:X,isRowAboveRange:!!Y&&Y(W),isColumnInRange:Z,getColumnRangeInfo:J,onCellMouseDown:Q,onCellMouseEnter:$,onCellMouseUp:ee},ne)})]},l)}):B.map(function(n,o){var l=S(n,o),a=c.has(l),p=u===o,O=_.findIndex(function(e){return e===n}),B=O>=0?O:o,W=f&&!i;return k?e.jsx(t.Fragment,{children:k(n,o,r)},l):e.jsx(C,{item:n,index:o,itemKey:l,columns:r,selectionMode:s,isSelected:a,isActive:p,isFocused:d===o,isDragging:h===B,isDragOver:g===B,canDrag:W,columnWidths:v,pinnedColumns:x,lastLeftPinnedColumnKey:y,firstRightPinnedColumnKey:b,showTooltip:w,onItemClick:R,onItemContextMenu:I,onCheckboxChange:j,onCellEditStart:M,onDragStart:P,onDragOver:N,onDragLeave:E,onDrop:D,onDragEnd:K,renderCell:L,getCellText:T,getLeftOffset:A,getRightOffset:F,isDraggingState:m,rowActions:H,openMenuKey:z,onMenuToggle:V,onMenuDismiss:U,enableCellSelection:G,cellSelectionIndex:o,isCellSelected:q,getCellRangeInfo:X,isRowAboveRange:!!Y&&Y(o),isColumnInRange:Z,getColumnRangeInfo:J,onCellMouseDown:Q,onCellMouseEnter:$,onCellMouseUp:ee},l)})})}function w(n){var t=n.columns,r=n.selectionMode,l=n.columnTotals,i=n.pinnedColumns,a=n.columnWidths,s=n.lastLeftPinnedColumnKey,c=n.firstRightPinnedColumnKey,u=n.totalCount,d=n.getLeftOffset,f=n.getRightOffset;return Object.values(l).some(function(e){return"count"===e})?e.jsx("tfoot",o({className:"th-totals-sticky"},{children:e.jsxs("tr",o({className:"th-totals-row"},{children:["none"!==r&&e.jsx("td",{className:"th-selection-column"}),t.map(function(n){var r=String(n.key),h=l[r]||"none",g=i[r]||n.pinned||null,m=t.findIndex(function(e){return String(e.key)===r}),p="left"===g?d(n,m):0,v="right"===g?f(n,m):0,x=a[r],y=o(o({textAlign:n.align,width:x?"".concat(x,"px"):n.width,position:g?"sticky":"relative"},"left"===g?{left:"".concat(p,"px"),zIndex:11}:{}),"right"===g?{right:"".concat(v,"px"),zIndex:11}:{}),C=[g?"th-cell-pinned th-pinned-".concat(g):"","left"===g&&n.key===s?"th-pinned-last-left":"","right"===g&&n.key===c?"th-pinned-first-right":""].filter(Boolean).join(" "),b="";return"count"===h&&(b="Count: ".concat(u.toLocaleString())),e.jsx("td",o({style:y,className:C},{children:b}),r)})]}))})):null}function k(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function S(e,n,t,o){void 0===o&&(o="export"),"csv"===e?function(e,n,t){void 0===t&&(t="export");var o=i([n.map(function(e){return e.label}).join(",")],e.map(function(e){return n.map(function(n){var t=e[n.key];if(null==t)return"";var o=String(t);return o.includes(",")||o.includes('"')||o.includes("\n")?'"'.concat(o.replace(/"/g,'""'),'"'):o}).join(",")}),!0).join("\n"),r=new Blob(["\ufeff"+o],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),a=URL.createObjectURL(r);l.setAttribute("href",a),l.setAttribute("download","".concat(t,".csv")),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}(n,t,o):function(e,n,t){void 0===t&&(t="export");var o=n.map(function(e){return e.label}),r=e.map(function(e){return n.map(function(n){var t=e[n.key];return null==t?"":t})}),l='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">\n';l+="<head>\n",l+='<meta charset="utf-8">\n',l+="\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Sheet1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e\n",l+="</head>\n",l+="<body>\n",l+="<table>\n",l+="<tr>\n",o.forEach(function(e){l+="<th>".concat(k(String(e)),"</th>\n")}),l+="</tr>\n",r.forEach(function(e){l+="<tr>\n",e.forEach(function(e){var n=null==e?"":String(e);l+="number"==typeof e?'<td style="mso-number-format:General">'.concat(n,"</td>\n"):"<td>".concat(k(n),"</td>\n")}),l+="</tr>\n"}),l+="</table>\n",l+="</body>\n",l+="</html>";var i=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a"),s=URL.createObjectURL(i);a.setAttribute("href",s),a.setAttribute("download","".concat(t,".xlsx")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}(n,t,o)}function R(n){var r=n.data,l=n.columns,i=n.format,a=n.filename,s=n.onBeforeExport,c=n.onAfterExport,u=t.useState(!1),d=u[0],f=u[1],h=t.useCallback(function(e){f(!0);try{var n=l.filter(function(e){return e.key&&e.label}).map(function(e){return{key:e.key,label:e.label}}),t=r;if(s){var o=s(r,l);if(o)S(e,t=o.data,o.columns.filter(function(e){return e.key&&e.label}).map(function(e){return{key:e.key,label:e.label}}),a);else S(e,t,n,a)}else S(e,t,n,a);null==c||c(e,a)}catch(e){console.error("Export failed:",e)}finally{f(!1)}},[r,l,a,s,c]);return"both"===i?e.jsxs("div",o({className:"th-export-buttons"},{children:[e.jsxs("button",o({className:"th-export-button",onClick:function(){return h("csv")},disabled:d,title:"Export to CSV"},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),e.jsx("span",{children:"CSV"})]})),e.jsxs("button",o({className:"th-export-button",onClick:function(){return h("excel")},disabled:d,title:"Export to Excel"},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),e.jsx("span",{children:"Excel"})]}))]})):e.jsxs("button",o({className:"th-export-button",onClick:function(){return h(i)},disabled:d,title:"Export to ".concat("csv"===i?"CSV":"Excel")},{children:[e.jsx("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:e.jsx("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),e.jsx("span",{children:"csv"===i?"CSV":"Excel"})]}))}var I={mode:"light",colors:{background:"#ffffff",surface:"#ffffff",headerBackground:"#faf9f8",rowBackground:"#ffffff",rowBackgroundAlternate:"#f9f9f9",selectedRowBackground:"#edebe9",hoverRowBackground:"#f3f2f1",groupHeaderBackground:"#f3f2f1",text:"#323130",textSecondary:"#605e5c",headerText:"#323130",rowText:"#323130",selectedRowText:"#323130",border:"#edebe9",borderLight:"#f1f1f1",rowBorder:"#f1f1f1",focus:"#107c10",focusBorder:"#107c10",hover:"#f3f2f1",active:"#edebe9",disabled:"#a19f9d",primary:"#107c10",success:"#107c10",warning:"#ffaa44",error:"#d13438"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.08)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.132), 0 0.6px 1.8px rgba(0, 0, 0, 0.108)",panel:"-2px 0 8px rgba(0, 0, 0, 0.15), -1px 0 2px rgba(0, 0, 0, 0.1)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}},j={mode:"dark",colors:{background:"#1a1a1a",surface:"#252526",headerBackground:"#2d2d30",rowBackground:"#252526",rowBackgroundAlternate:"#2d2d30",selectedRowBackground:"#3e3e42",hoverRowBackground:"#2d2d30",groupHeaderBackground:"#2d2d30",text:"#cccccc",textSecondary:"#858585",headerText:"#cccccc",rowText:"#cccccc",selectedRowText:"#ffffff",border:"#3e3e42",borderLight:"#2d2d30",rowBorder:"#3e3e42",focus:"#4ec9b0",focusBorder:"#4ec9b0",hover:"#2d2d30",active:"#3e3e42",disabled:"#858585",primary:"#4ec9b0",success:"#4ec9b0",warning:"#dcdcaa",error:"#f48771"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.3)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.4), 0 0.6px 1.8px rgba(0, 0, 0, 0.3)",panel:"-2px 0 8px rgba(0, 0, 0, 0.4), -1px 0 2px rgba(0, 0, 0, 0.3)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}};function M(e){if(!e)return I;if("string"==typeof e)return"dark"===e?j:I;var n="dark"===e.mode?j:I;return o(o(o({},n),e),{colors:o(o({},n.colors),e.colors),spacing:e.spacing?o(o({},n.spacing),e.spacing):n.spacing,typography:e.typography?o(o({},n.typography),e.typography):n.typography,borderRadius:e.borderRadius?o(o({},n.borderRadius),e.borderRadius):n.borderRadius,shadows:e.shadows?o(o({},n.shadows),e.shadows):n.shadows,transitions:e.transitions?o(o({},n.transitions),e.transitions):n.transitions})}function P(e){var n=e.colors,t=e.spacing,o=e.typography,r=e.borderRadius,l=e.shadows,i=e.transitions;return{"--th-color-background":n.background,"--th-color-surface":n.surface,"--th-color-header-background":n.headerBackground,"--th-color-row-background":n.rowBackground,"--th-color-row-background-alternate":n.rowBackgroundAlternate,"--th-color-selected-row-background":n.selectedRowBackground,"--th-color-hover-row-background":n.hoverRowBackground,"--th-color-group-header-background":n.groupHeaderBackground,"--th-color-text":n.text,"--th-color-text-secondary":n.textSecondary,"--th-color-header-text":n.headerText,"--th-color-row-text":n.rowText,"--th-color-selected-row-text":n.selectedRowText,"--th-color-border":n.border,"--th-color-border-light":n.borderLight,"--th-color-row-border":n.rowBorder,"--th-color-focus":n.focus,"--th-color-focus-border":n.focusBorder,"--th-color-hover":n.hover,"--th-color-active":n.active,"--th-color-disabled":n.disabled,"--th-color-primary":n.primary,"--th-color-success":n.success,"--th-color-warning":n.warning,"--th-color-error":n.error,"--th-spacing-cell-padding":null==t?void 0:t.cellPadding,"--th-spacing-header-padding":null==t?void 0:t.headerPadding,"--th-spacing-row-height":null==t?void 0:t.rowHeight,"--th-spacing-row-height-compact":null==t?void 0:t.rowHeightCompact,"--th-spacing-row-height-spacious":null==t?void 0:t.rowHeightSpacious,"--th-spacing-gap":null==t?void 0:t.gap,"--th-typography-font-family":null==o?void 0:o.fontFamily,"--th-typography-font-size":null==o?void 0:o.fontSize,"--th-typography-font-size-small":null==o?void 0:o.fontSizeSmall,"--th-typography-font-size-large":null==o?void 0:o.fontSizeLarge,"--th-typography-font-weight":null==o?void 0:o.fontWeight,"--th-typography-font-weight-bold":null==o?void 0:o.fontWeightBold,"--th-typography-line-height":null==o?void 0:o.lineHeight,"--th-border-radius-table":null==r?void 0:r.table,"--th-border-radius-cell":null==r?void 0:r.cell,"--th-border-radius-button":null==r?void 0:r.button,"--th-shadow-table":null==l?void 0:l.table,"--th-shadow-header":null==l?void 0:l.header,"--th-shadow-callout":null==l?void 0:l.callout,"--th-shadow-panel":null==l?void 0:l.panel,"--th-transition-duration":null==i?void 0:i.duration,"--th-transition-easing":null==i?void 0:i.easing}}exports.ReactTabletify=function(n){var f=n.columns,h=n.data,g=n.itemsPerPage,p=void 0===g?10:g,v=n.groupBy,x=n.onRenderCell,y=n.onRenderRow,C=n.onRenderHeader;n.onItemInvoked;var k=n.onColumnHeaderClick,S=n.getKey,I=n.onActiveItemChanged,j=n.onItemContextMenu,N=n.className,E=n.styles,D=n.selectionMode,K=void 0===D?"none":D,L=n.onSelectionChanged,T=n.showPagination,A=void 0===T||T,F=n.itemsPerPageOptions,O=n.onItemsPerPageChange,_=n.theme,B=n.maxHeight,H=n.onCellEdit,z=n.pinnedColumns,V=n.onColumnPin,U=n.showTooltip,W=void 0===U||U,G=n.loading,q=void 0!==G&&G,X=n.onRenderLoading,Y=n.emptyMessage,Z=n.onRenderEmpty,J=n.stickyHeader,Q=void 0!==J&&J,$=n.enableColumnVisibility,ee=n.onColumnVisibilityChange,ne=n.enableColumnReorder,te=n.onColumnReorder,oe=n.enableKeyboardNavigation,re=void 0===oe||oe,le=n.enableRowReorder,ie=void 0!==le&&le,ae=n.onRowReorder,se=n.enableExport,ce=void 0!==se&&se,ue=n.exportFormat,de=void 0===ue?"both":ue,fe=n.exportFileName,he=void 0===fe?"export":fe,ge=n.onBeforeExport,me=n.onAfterExport,pe=n.rowActions,ve=n.enableCellSelection,xe=void 0!==ve&&ve;!function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}}(n,["columns","data","itemsPerPage","groupBy","onRenderCell","onRenderRow","onRenderHeader","onItemInvoked","onColumnHeaderClick","getKey","onActiveItemChanged","onItemContextMenu","className","styles","selectionMode","onSelectionChanged","showPagination","itemsPerPageOptions","onItemsPerPageChange","theme","maxHeight","onCellEdit","pinnedColumns","onColumnPin","showTooltip","loading","onRenderLoading","emptyMessage","onRenderEmpty","stickyHeader","enableColumnVisibility","onColumnVisibilityChange","enableColumnReorder","onColumnReorder","enableKeyboardNavigation","enableRowReorder","onRowReorder","enableExport","exportFormat","exportFileName","onBeforeExport","onAfterExport","rowActions","enableCellSelection"]);var ye=t.useState(p),Ce=ye[0],be=ye[1],we=t.useState(h),ke=we[0],Se=we[1];t.useEffect(function(){Se(h)},[h]),t.useEffect(function(){be(p)},[p]);var Re=A?F||[10,25,50,100]:F,Ie=t.useCallback(function(e){be(e),null==O||O(e)},[O]),je=A?Ce:Number.MAX_SAFE_INTEGER,Me=H?h:ke,Pe=a(Me,je),Ne=t.useRef({}),Ee=t.useRef(null),De=t.useState({}),Ke=De[0],Le=De[1],Te=t.useState(null),Ae=Te[0],Fe=Te[1],Oe=t.useState(null),_e=Oe[0],Be=Oe[1],He=t.useState(v),ze=He[0],Ve=He[1];t.useEffect(function(){void 0!==v&&Ve(v)},[v]);var Ue=void 0!==v?v:ze,We=t.useState(new Set),Ge=We[0],qe=We[1],Xe=t.useMemo(function(){return{key:"__rowNumber__",label:"STT",width:"80px",align:"center",sortable:!1,filterable:!1,resizable:!1,editable:!1,pinned:"left",showCallout:!1,onRenderCell:function(e,n,t){return(Pe.currentPage-1)*Pe.itemsPerPage+t+1}}},[Pe.currentPage,Pe.itemsPerPage]),Ye=function(e,n,r,l,a,s,c){var u=t.useState(n||{}),d=u[0],f=u[1],h=t.useState(new Set(e.map(function(e){return e.key}))),g=h[0],m=h[1],p=t.useState(e.map(function(e){return e.key})),v=p[0],x=p[1],y=t.useState(null),C=y[0],b=y[1],w=t.useState(null),k=w[0],S=w[1];t.useEffect(function(){r&&l&&l(Array.from(g))},[g,r,l]),t.useEffect(function(){a&&s&&s(v)},[v,a,s]);var R=t.useCallback(function(e){m(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})},[]),I=t.useCallback(function(e,n){f(function(t){var r=o({},t);return null===n?delete r[String(e)]:r[String(e)]=n,r}),null==c||c(e,n)},[c]),j=t.useCallback(function(e){a&&b(e)},[a]),M=t.useCallback(function(e,n){a&&C&&C!==n&&(e.preventDefault(),S(n))},[a,C]),P=t.useCallback(function(e){a&&C&&C!==e&&(x(function(n){var t=i([],n,!0),o=t.indexOf(C),r=t.indexOf(e);return t.splice(o,1),t.splice(r,0,C),t}),b(null),S(null))},[a,C]),N=t.useMemo(function(){return r?e.filter(function(e){return g.has(e.key)}):e},[e,g,r]),E=t.useMemo(function(){if(!a)return N;var e=new Map(v.map(function(e,n){return[e,n]}));return i([],N,!0).sort(function(n,t){var o,r;return(null!==(o=e.get(n.key))&&void 0!==o?o:1/0)-(null!==(r=e.get(t.key))&&void 0!==r?r:1/0)})},[N,v,a]),D=t.useMemo(function(){var e=[],n=[],t=[];return E.forEach(function(o){var r=d[String(o.key)]||o.pinned||null;"left"===r?e.push(o):"right"===r?t.push(o):n.push(o)}),i(i(i([],e,!0),n,!0),t,!0)},[E,d]);return{internalPinnedColumns:d,visibleColumns:g,columnOrder:v,draggedColumn:C,dragOverColumn:k,sortedColumns:D,handleToggleColumnVisibility:R,handleColumnPin:I,handleColumnDragStart:j,handleColumnDragOver:M,handleColumnDrop:P}}(t.useMemo(function(){if(xe&&!f.some(function(e){return"__rowNumber__"===String(e.key)}))return i([Xe],f,!0);return f},[xe,f,Xe]),z,$,ee,ne,te,V),Ze=Ye.internalPinnedColumns,Je=Ye.dragOverColumn,Qe=Ye.sortedColumns,$e=Ye.handleToggleColumnVisibility,en=Ye.handleColumnPin,nn=Ye.handleColumnDragStart,tn=Ye.handleColumnDragOver,on=Ye.handleColumnDrop,rn=function(e,n,o,r,l){var a=t.useState(new Set),s=a[0],c=a[1],u=t.useState(void 0),d=u[0],f=u[1],h=t.useCallback(function(e,n){return l?l(e,n):void 0!==e.id?e.id:n},[l]),g=t.useCallback(function(t,l,i){var a=h(t,l);c(function(t){var r=new Set(t);if("single"===n?(r.clear(),i&&r.add(a)):"multiple"===n&&(i?r.add(a):r.delete(a)),o){var l=e.filter(function(e,n){return r.has(h(e,n))});o(l)}return r}),f(l),r&&r(t,l)},[n,h,o,r,e]),m=t.useCallback(function(t,l,i){if(!i.target.closest(".th-selection-checkbox")){if("none"!==n){var a=h(t,l);c(function(t){var r=new Set(t);if("single"===n?(r.clear(),r.add(a)):"multiple"===n&&(i.ctrlKey||i.metaKey?r.has(a)?r.delete(a):r.add(a):(r.clear(),r.add(a))),o){var l=e.filter(function(e,n){return r.has(h(e,n))});o(l)}return r})}f(l),r&&r(t,l)}},[n,h,o,r,e]),p=t.useCallback(function(t){"multiple"===n&&c(function(n){var r=t?new Set(e.map(function(e,n){return h(e,n)})):new Set;if(o){var l=t?i([],e,!0):[];o(l)}return r})},[n,e,h,o]),v=t.useMemo(function(){return"multiple"===n&&0!==e.length&&e.every(function(e,n){return s.has(h(e,n))})},[n,e,s,h]),x=t.useMemo(function(){if("multiple"!==n||0===e.length)return!1;var t=e.filter(function(e,n){return s.has(h(e,n))}).length;return t>0&&t<e.length},[n,e,s,h]),y=t.useCallback(function(e,n){return s.has(h(e,n))},[s,h]);return{selectedItems:s,activeItemIndex:d,isAllSelected:v,isIndeterminate:x,getItemKey:h,handleCheckboxChange:g,handleItemClick:m,handleSelectAll:p,isItemSelected:y,setSelectedItems:c}}(Me,K,L,I,S),ln=rn.selectedItems,an=rn.activeItemIndex,sn=rn.isAllSelected,cn=rn.isIndeterminate,un=rn.getItemKey,dn=rn.handleCheckboxChange,fn=rn.handleItemClick,hn=rn.handleSelectAll,gn=rn.setSelectedItems,mn=t.useCallback(function(e,n){var t=un(e,n),o="".concat(String(t),"-").concat(n);Be(function(e){return e===o?null:o})},[un]),pn=t.useCallback(function(){Be(null)},[]),vn=function(e,n){var r=t.useState({}),l=r[0],i=r[1],a=t.useState(null),s=a[0],c=a[1],u=t.useState(0);u[0];var d=u[1],f=t.useState(0);f[0];var h=f[1],g=t.useCallback(function(n,t){var r,l;t.preventDefault(),t.stopPropagation();var a=String(n),s=null===(l=null===(r=e.current)||void 0===r?void 0:r[a])||void 0===l?void 0:l.parentElement;if(s){var u=s.offsetWidth,f=t.clientX;c(a),document.body.style.cursor="col-resize",document.body.style.userSelect="none",d(f),h(u);var g=function(e){var n=e.clientX-f,t=Math.max(50,u+n);i(function(e){var n;return o(o({},e),((n={})[a]=t,n))})},m=function(){document.body.style.cursor="",document.body.style.userSelect="",c(null),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",m)}},[e,n]);return{columnWidths:l,resizingColumn:s,handleResizeStart:g}}(Ne),xn=vn.columnWidths,yn=vn.resizingColumn,Cn=vn.handleResizeStart,bn=function(e){var n=t.useState(null),o=n[0],r=n[1],l=t.useRef(null),i=t.useCallback(function(n){e||(l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(n)},150))},[e]),a=t.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(null)},200)},[]),s=t.useCallback(function(){l.current&&clearTimeout(l.current)},[]),c=t.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(null)},200)},[]),u=t.useCallback(function(){l.current&&clearTimeout(l.current),r(null)},[]);return t.useEffect(function(){return function(){l.current&&clearTimeout(l.current)}},[]),{calloutKey:o,setCalloutKey:r,handleHeaderMouseEnter:i,handleHeaderMouseLeave:a,handleCalloutMouseEnter:s,handleCalloutMouseLeave:c,dismissCallout:u}}(yn),wn=t.useCallback(function(e,n,t,r){H?H(e,n,t,r):Se(function(l){var a,s=i([],l,!0),c=s.findIndex(function(n){return n===e}),u=c>=0?c:r;return u>=0&&u<s.length&&(s[u]=o(o({},s[u]),((a={})[n]=t,a))),s})},[H]),kn=function(e){var n=t.useState(null),o=n[0],r=n[1],l=t.useState(""),i=l[0],a=l[1],s=t.useRef(null),c=t.useCallback(function(e,n,t){var o;!0===n.editable&&(r({rowIndex:t,columnKey:n.key}),a(String(null!==(o=e[n.key])&&void 0!==o?o:"")))},[]),u=t.useCallback(function(n,t,o){e&&e(n,t,i,o),r(null),a("")},[e,i]),d=t.useCallback(function(){r(null),a("")},[]);return t.useEffect(function(){o&&s.current&&setTimeout(function(){if(s.current){s.current.focus();var e=s.current.value.length;s.current.setSelectionRange(e,e)}},0)},[o]),{editingCell:o,editValue:i,editInputRef:s,setEditValue:a,handleCellEditStart:c,handleCellEditSave:u,handleCellEditCancel:d}}(wn),Sn=kn.editingCell,Rn=kn.editValue,In=kn.editInputRef,jn=kn.setEditValue,Mn=kn.handleCellEditStart,Pn=kn.handleCellEditSave,Nn=kn.handleCellEditCancel,En=t.useCallback(function(e,n,t){"__rowNumber__"!==String(n.key)&&Mn(e,n,t)},[Mn]),Dn=function(e,n,o,r,l){var a=t.useState(null),s=a[0],c=a[1],u=t.useState(null),d=u[0],f=u[1],h=t.useState(!1),g=h[0],m=h[1],p=t.useState(null),v=p[0],x=p[1],y=v||n;t.useEffect(function(){x(null)},[n]);var C=t.useCallback(function(n,t){e?(n.stopPropagation(),m(!0),c(t),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/plain",String(t)),n.currentTarget&&(n.currentTarget.style.opacity="0.5")):n.preventDefault()},[e]),b=t.useCallback(function(n,t){e&&null!==s&&(n.preventDefault(),n.dataTransfer.dropEffect="move",d!==t&&f(t))},[e,s,d]),w=t.useCallback(function(n){e&&(n.currentTarget===n.target||n.currentTarget.contains(n.relatedTarget)||f(null))},[e]),k=t.useCallback(function(n,t){if(!e||null===s||s===t)return c(null),void f(null);if(n.preventDefault(),n.stopPropagation(),r)return c(null),void f(null);var a=i([],y,!0),u=o[s],d=o[t],h=a.findIndex(function(e){return e===u}),g=a.findIndex(function(e){return e===d});if(-1===h||-1===g||h===g)return c(null),void f(null);var m=i([],a,!0),p=m[h];m.splice(h,1);var v=h<g?g-1:g;m.splice(v,0,p),x(m),l&&l(m,p,h,v),c(null),f(null)},[e,s,r,o,y,l]),S=t.useCallback(function(n){e&&(n.currentTarget&&(n.currentTarget.style.opacity="1"),m(!1),c(null),f(null),setTimeout(function(){m(!1)},100))},[e]);return{draggedRowIndex:s,dragOverRowIndex:d,isDragging:g,reorderedData:v,effectiveData:y,handleRowDragStart:C,handleRowDragOver:b,handleRowDragLeave:w,handleRowDrop:k,handleRowDragEnd:S}}(ie,Me,Pe.filtered,Ue,ae),Kn=Dn.draggedRowIndex,Ln=Dn.dragOverRowIndex,Tn=Dn.isDragging,An=Dn.handleRowDragStart,Fn=Dn.handleRowDragOver,On=Dn.handleRowDragLeave,_n=Dn.handleRowDrop,Bn=Dn.handleRowDragEnd,Hn=function(e,n,o){void 0===o&&(o=!0);var r=t.useState(new Set),l=r[0],i=r[1],a=t.useState(null),s=a[0],c=a[1],u=t.useState(!1),d=u[0],f=u[1],h=t.useState(null),g=h[0],m=h[1],p=t.useState(!1),v=p[0],x=p[1],y=t.useState(null),C=y[0],b=y[1],w=t.useCallback(function(e,n){return"".concat(e,"-").concat(n)},[]),k=t.useCallback(function(e,t){var o,r,l=Math.min(e.rowIndex,t.rowIndex),i=Math.max(e.rowIndex,t.rowIndex),a=n.findIndex(function(n){return String(n.key)===e.colKey}),s=n.findIndex(function(e){return String(e.key)===t.colKey}),c=a>=0?a:0,u=s>=0?s:n.length-1,d=Math.min(c,u),f=Math.max(c,u);return{start:{rowIndex:l,colKey:String((null===(o=n[Math.max(0,d)])||void 0===o?void 0:o.key)||e.colKey)},end:{rowIndex:i,colKey:String((null===(r=n[Math.min(n.length-1,f)])||void 0===r?void 0:r.key)||t.colKey)}}},[n]),S=t.useCallback(function(e){for(var t=[],o=Math.min(e.start.rowIndex,e.end.rowIndex),r=Math.max(e.start.rowIndex,e.end.rowIndex),l=n.findIndex(function(n){return String(n.key)===e.start.colKey}),i=n.findIndex(function(n){return String(n.key)===e.end.colKey}),a=l>=0?l:0,s=i>=0?i:n.length-1,c=Math.min(a,s),u=Math.max(a,s),d=o;d<=r;d++)for(var f=c;f<=u;f++)n[f]&&t.push({rowIndex:d,colKey:String(n[f].key)});return t},[n]),R=t.useCallback(function(e,n,t){if(o){var r={rowIndex:e,colKey:n};if(m(r),f(!0),t&&s){var l=k(s.start,r);c(l);var a=S(l);i(new Set(a.map(function(e){return w(e.rowIndex,e.colKey)})))}else c({start:r,end:r}),i(new Set([w(e,n)]))}},[o,s,k,S,w]),I=t.useCallback(function(e,n){if(o&&d&&g){var t=k(g,{rowIndex:e,colKey:n});c(t);var r=S(t);i(new Set(r.map(function(e){return w(e.rowIndex,e.colKey)})))}},[o,d,g,k,S,w]),j=t.useCallback(function(){f(!1),m(null)},[]),M=t.useCallback(function(){i(new Set),c(null),f(!1),m(null),x(!1)},[]),P=t.useCallback(function(){b(null)},[]),N=t.useCallback(function(e,n){o&&(b({rowIndex:e,colKey:n}),0===l.size&&R(e,n,!1))},[o,l.size,R]),E=t.useCallback(function(t,r){var l;if(void 0===r&&(r=!1),!o)return null;var a=C;if(!a&&s&&(a=s.end),!a){if(!(e.length>0&&n.length>0))return null;a={rowIndex:0,colKey:String(n[0].key)}}var u=a.rowIndex,d=n.findIndex(function(e){return String(e.key)===a.colKey});if(-1===d)return null;var f=u,h=d,m=e.length-1;switch(t){case"up":f=Math.max(0,u-1);break;case"down":f=Math.min(m,u+1);break;case"left":h=Math.max(0,d-1);break;case"right":h=Math.min(n.length-1,d+1)}var p=String(null===(l=n[h])||void 0===l?void 0:l.key);if(!p)return null;var v={rowIndex:f,colKey:p};if(b(v),r){var x=g||(null==s?void 0:s.start)||a,y=k(x,v);c(y);var I=S(y);i(new Set(I.map(function(e){return w(e.rowIndex,e.colKey)})))}else R(f,p,!1);return v},[o,C,s,g,e,n,k,S,w,R]),D=t.useCallback(function(e){x(e)},[]),K=t.useCallback(function(e,n){if(o){var t=k(e,n);c(t);var r=S(t);i(new Set(r.map(function(e){return w(e.rowIndex,e.colKey)}))),f(!1),m(null)}},[o,k,S,w]),L=t.useCallback(function(e,n){return l.has(w(e,n))},[l,w]),T=t.useCallback(function(){return s?S(s):Array.from(l).map(function(e){var n=e.split("-"),t=n[0],o=n[1];return{rowIndex:parseInt(t,10),colKey:o}})},[s,l,S]),A=t.useCallback(function(){return s},[s]);return{selectedCells:l,selectedRange:s,isSelecting:d,isCopied:v,focusedCell:C,startSelection:R,updateSelection:I,endSelection:j,clearSelection:M,clearFocus:P,setCopied:D,setFocusedCell:N,setSelectionRange:K,moveFocus:E,isCellSelected:L,getSelectedCells:T,getSelectedRange:A}}(Pe.paged,Qe,xe),zn=t.useRef(Pe.currentPage);t.useEffect(function(){xe&&zn.current!==Pe.currentPage&&(Hn.clearSelection(),Hn.clearFocus(),zn.current=Pe.currentPage)},[Pe.currentPage,xe,Hn.clearSelection,Hn.clearFocus]);var Vn=function(){var e=this,n=t.useState(null),o=n[0],a=n[1],s=t.useState(!1),c=s[0],u=s[1],d=t.useState([]),f=d[0],h=d[1],g=t.useCallback(function(e,n,t){if(0!==e.length){var o=i([],e,!0).sort(function(e,n){return e.rowIndex!==n.rowIndex?e.rowIndex-n.rowIndex:t.findIndex(function(n){return String(n.key)===e.colKey})-t.findIndex(function(e){return String(e.key)===n.colKey})}),r=new Map;o.forEach(function(e){r.has(e.rowIndex)||r.set(e.rowIndex,[]),r.get(e.rowIndex).push(e)});var l=[];r.forEach(function(e,o){var r=[];e.sort(function(e,n){return t.findIndex(function(n){return String(n.key)===e.colKey})-t.findIndex(function(e){return String(e.key)===n.colKey})}),e.forEach(function(e){var t=n[o];if(t){var l=t[e.colKey];r.push(null!=l?String(l):"")}else r.push("")}),l.push(r)}),a(l),u(!1),h([]);var s=l.map(function(e){return e.join("\t")}).join("\n");navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(s).catch(function(){var e=document.createElement("textarea");e.value=s,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})}},[]),m=t.useCallback(function(e,n,t){g(e,n,t),u(!0),h(e)},[g]),p=t.useCallback(function(e,n,t,r){if(o&&0!==o.length&&0!==e.length){if(1===o.length&&1===o[0].length){var l=o[0][0];e.forEach(function(e){var t=n[e.rowIndex];t&&r(t,e.colKey,l,e.rowIndex)})}else{var i=e[0];if(!i)return;var a=t.findIndex(function(e){return String(e.key)===i.colKey});if(-1===a)return;o.forEach(function(e,o){var l=i.rowIndex+o;if(!(l<0||l>=n.length)){var s=n[l];s&&e.forEach(function(e,n){var o=a+n;if(!(o<0||o>=t.length)){var i=t[o];if(i)try{r(s,i.key,e,l)}catch(e){}}})}})}c&&f.length>0&&(f.forEach(function(e){var t=n[e.rowIndex];t&&r(t,e.colKey,"",e.rowIndex)}),u(!1),h([]))}},[o,c,f]),v=t.useCallback(function(n,t,o,i){return r(e,void 0,void 0,function(){var e,r,a,s,c,u,d;return l(this,function(l){switch(l.label){case 0:if(0===n.length)return[2,!1];l.label=1;case 1:return l.trys.push([1,5,,6]),e="",navigator.clipboard&&navigator.clipboard.readText?[4,navigator.clipboard.readText()]:[3,3];case 2:return e=l.sent(),[3,4];case 3:return[2,!1];case 4:return e&&0!==e.trim().length?0===(r=e.split(/\r?\n/).filter(function(e){return e.trim().length>0})).length||0===(a=r.map(function(e){for(var n=[],t="",o=!1,r=0;r<e.length;r++){var l=e[r];'"'===l?o&&'"'===e[r+1]?(t+='"',r++):o=!o:"\t"!==l||o?t+=l:(n.push(t),t="")}return n.push(t),n})).length||0===a[0].length?[2,!1]:(n[0],1===a.length&&1===a[0].length?(s=a[0][0],n.forEach(function(e){var n=t[e.rowIndex];n&&i(n,e.colKey,s,e.rowIndex)}),[2,!0]):(c=!1,(u=n[0])?-1===(d=o.findIndex(function(e){return String(e.key)===u.colKey}))?[2,!1]:(a.forEach(function(e,n){var r=u.rowIndex+n;if(!(r<0||r>=t.length)){var l=t[r];l&&e.forEach(function(e,n){var t=d+n;if(!(t<0||t>=o.length)){var a=o[t];if(a)try{i(l,a.key,e,r),c=!0}catch(e){}}})}}),[2,c]):[2,!1])):[2,!1];case 5:return l.sent(),[2,!1];case 6:return[2]}})})},[]),x=t.useCallback(function(){return null!==o&&o.length>0},[o]),y=t.useCallback(function(){return o},[o]),C=t.useCallback(function(){a(null),u(!1),h([])},[]);return{copyCells:g,cutCells:m,pasteCells:p,pasteFromSystemClipboard:v,canPaste:x,getClipboardData:y,clearClipboard:C}}(),Un=t.useCallback(function(e,n,t){if(xe&&"__rowNumber__"!==n){t.stopPropagation();var o=t.shiftKey;Hn.startSelection(e,n,o),Hn.setFocusedCell(e,n),Hn.setCopied(!1)}},[xe,Hn]),Wn=t.useCallback(function(e,n,t){xe&&Hn.isSelecting&&"__rowNumber__"!==n&&Hn.updateSelection(e,n)},[xe,Hn]),Gn=t.useCallback(function(e,n,t){xe&&"__rowNumber__"!==n&&Hn.endSelection()},[xe,Hn]),qn=t.useCallback(function(e,n){var t,o;if(!xe)return{isStart:!1,isEnd:!1,isInRange:!1,isTopRow:!1,isBottomRow:!1,isLeftCol:!1,isRightCol:!1,isCopied:!1,isFocused:!1};var r=(null===(t=Hn.focusedCell)||void 0===t?void 0:t.rowIndex)===e&&(null===(o=Hn.focusedCell)||void 0===o?void 0:o.colKey)===n;if(!Hn.selectedRange)return{isStart:!1,isEnd:!1,isInRange:!1,isTopRow:!1,isBottomRow:!1,isLeftCol:!1,isRightCol:!1,isCopied:!1,isFocused:r};var l=Hn.selectedRange,i=Math.min(l.start.rowIndex,l.end.rowIndex),a=Math.max(l.start.rowIndex,l.end.rowIndex),s=Qe.findIndex(function(e){return String(e.key)===l.start.colKey}),c=Qe.findIndex(function(e){return String(e.key)===l.end.colKey}),u=Math.min(s>=0?s:0,c>=0?c:Qe.length-1),d=Math.max(s>=0?s:0,c>=0?c:Qe.length-1),f=Qe.findIndex(function(e){return String(e.key)===n});return{isStart:l.start.rowIndex===e&&l.start.colKey===n,isEnd:l.end.rowIndex===e&&l.end.colKey===n,isInRange:Hn.isCellSelected(e,n),isTopRow:e===i,isBottomRow:e===a,isLeftCol:f===u,isRightCol:f===d,isCopied:Hn.isCopied,isFocused:r}},[xe,Hn,Qe]),Xn=t.useCallback(function(e){if(!xe||!Hn.selectedRange)return!1;var n=Hn.selectedRange,t=Math.min(n.start.rowIndex,n.end.rowIndex);return t>0&&e===t-1},[xe,Hn]),Yn=t.useCallback(function(){if(!xe||!Hn.selectedRange)return!1;var e=Hn.selectedRange;return 0===Math.min(e.start.rowIndex,e.end.rowIndex)},[xe,Hn]),Zn=t.useCallback(function(e){if(!xe||!Hn.selectedRange)return!1;var n=Hn.selectedRange,t=Qe.findIndex(function(e){return String(e.key)===n.start.colKey}),o=Qe.findIndex(function(e){return String(e.key)===n.end.colKey}),r=Math.min(t>=0?t:0,o>=0?o:Qe.length-1),l=Math.max(t>=0?t:0,o>=0?o:Qe.length-1),i=Qe.findIndex(function(n){return String(n.key)===e});return i>=r&&i<=l},[xe,Hn,Qe]),Jn=t.useCallback(function(e){if(!xe||!Hn.selectedRange)return{isInRange:!1,isLeftCol:!1,isRightCol:!1};var n=Hn.selectedRange,t=Qe.findIndex(function(e){return String(e.key)===n.start.colKey}),o=Qe.findIndex(function(e){return String(e.key)===n.end.colKey}),r=Math.min(t>=0?t:0,o>=0?o:Qe.length-1),l=Math.max(t>=0?t:0,o>=0?o:Qe.length-1),i=Qe.findIndex(function(n){return String(n.key)===e});return{isInRange:i>=r&&i<=l,isLeftCol:i===r,isRightCol:i===l}},[xe,Hn,Qe]);t.useEffect(function(){if(xe){var e=function(e){if(Ee.current){var n=e.target;n&&!Ee.current.contains(n)&&(Hn.clearSelection(),Hn.clearFocus())}};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}},[xe,Hn]),t.useEffect(function(){if(xe&&Ee.current){var e=function(e){if(Ee.current){var n=e.relatedTarget;n&&!Ee.current.contains(n)&&(Hn.clearSelection(),Hn.clearFocus())}},n=Ee.current;return n.addEventListener("focusout",e),function(){n.removeEventListener("focusout",e)}}},[xe,Hn]),t.useEffect(function(){if(xe){var e=function(e){var n,t,o,r,l=document.activeElement;if(Ee.current&&l&&Ee.current.contains(l))if("INPUT"!==l.tagName&&"TEXTAREA"!==l.tagName&&"true"!==l.getAttribute("contenteditable"))if((e.ctrlKey||e.metaKey)&&"c"===e.key){if((j=(m=Hn.getSelectedCells()).filter(function(e){return"__rowNumber__"!==e.colKey})).length>0){e.preventDefault();var i=Ue?Pe.filtered:Pe.sorted,a=(Pe.currentPage-1)*Pe.itemsPerPage,s=j.map(function(e){var n=a+e.rowIndex,t=Pe.paged[e.rowIndex];if(t){var o=i.findIndex(function(e){return e===t||un(e,-1)===un(t,-1)});if(o>=0)return{rowIndex:o,colKey:e.colKey}}return{rowIndex:n,colKey:e.colKey}}),c=Qe.filter(function(e){return"__rowNumber__"!==String(e.key)}).map(function(e){return{key:e.key,label:e.label}});Vn.copyCells(s,i,c),Hn.setCopied(!0)}}else if((e.ctrlKey||e.metaKey)&&"x"===e.key){if((j=(m=Hn.getSelectedCells()).filter(function(e){return"__rowNumber__"!==e.colKey})).length>0){e.preventDefault();var u=Ue?Pe.filtered:Pe.sorted,d=(Pe.currentPage-1)*Pe.itemsPerPage;s=j.map(function(e){var n=d+e.rowIndex,t=Pe.paged[e.rowIndex];if(t){var o=u.findIndex(function(e){return e===t||un(e,-1)===un(t,-1)});if(o>=0)return{rowIndex:o,colKey:e.colKey}}return{rowIndex:n,colKey:e.colKey}}),c=Qe.filter(function(e){return"__rowNumber__"!==String(e.key)}).map(function(e){return{key:e.key,label:e.label}});Vn.cutCells(s,u,c)}}else if((e.ctrlKey||e.metaKey)&&"v"===e.key){var f=Hn.focusedCell,g=Hn.selectedRange,m=Hn.getSelectedCells(),p=null;if(f?p={rowIndex:f.rowIndex,colKey:f.colKey}:g?p={rowIndex:g.start.rowIndex,colKey:g.start.colKey}:m.length>0&&(p=m[0]),p){e.preventDefault();var v=Ue?Pe.filtered:Pe.sorted,x=Pe.paged[p.rowIndex],y=p.rowIndex;if(x){var C=v.findIndex(function(e){return e===x||un(e,-1)===un(x,-1)});if(C>=0)y=C;else{var b=(Pe.currentPage-1)*Pe.itemsPerPage;(y=b+p.rowIndex)>=v.length&&(y=v.length-1)}}else{b=(Pe.currentPage-1)*Pe.itemsPerPage;(y=b+p.rowIndex)>=v.length&&(y=v.length-1)}var w=function(e,n,t,o){var r=Me.find(function(n){return n===e||un(n,-1)===un(e,-1)});if(r){var l=Me.findIndex(function(e){return e===r});wn(r,n,t,l>=0?l:o)}else wn(e,n,t,o)},k=[{rowIndex:y,colKey:p.colKey}],S=p.colKey,R=function(e,n){var t=y,o=Math.min(y+e-1,v.length-1),r=Qe.findIndex(function(e){return String(e.key)===S}),l=Math.min(r+n-1,Qe.length-1);if(r>=0&&l>=0&&t>=0&&o>=0){var i=String(Qe[r].key),a=String(Qe[l].key),s=(Pe.currentPage-1)*Pe.itemsPerPage,c=t-s,u=o-s;c>=0&&u>=0&&c<Pe.paged.length&&u<Pe.paged.length&&requestAnimationFrame(function(){requestAnimationFrame(function(){Hn.setCopied(!1),Hn.setSelectionRange({rowIndex:c,colKey:i},{rowIndex:u,colKey:a}),Hn.setFocusedCell(c,i)})})}},I=Qe.filter(function(e){return"__rowNumber__"!==String(e.key)}).map(function(e){return{key:e.key,label:e.label}});Vn.pasteFromSystemClipboard(k,v,I,w).then(function(e){var n,t;if(e){var o=(null==(l=Vn.getClipboardData())?void 0:l.length)||1,r=(null===(n=null==l?void 0:l[0])||void 0===n?void 0:n.length)||1;requestAnimationFrame(function(){requestAnimationFrame(function(){R(o,r)})})}else if(Vn.canPaste()){var l,i=(null==(l=Vn.getClipboardData())?void 0:l.length)||1,a=(null===(t=null==l?void 0:l[0])||void 0===t?void 0:t.length)||1;Vn.pasteCells(k,v,I,w),requestAnimationFrame(function(){requestAnimationFrame(function(){R(i,a)})})}}).catch(function(){var e;if(Vn.canPaste()){var n=Vn.getClipboardData(),t=(null==n?void 0:n.length)||1,o=(null===(e=null==n?void 0:n[0])||void 0===e?void 0:e.length)||1;Vn.pasteCells(k,v,I,w),requestAnimationFrame(function(){requestAnimationFrame(function(){R(t,o)})})}})}}else if("Delete"===e.key||"Backspace"===e.key){var j;if((j=(m=Hn.getSelectedCells()).filter(function(e){return"__rowNumber__"!==e.colKey})).length>0){e.preventDefault();var M=Ue?Pe.filtered:Me;j.forEach(function(e){var n=M[e.rowIndex];if(n){var t=Me.findIndex(function(e){return e===n});wn(n,e.colKey,"",t>=0?t:e.rowIndex)}})}}else if("Escape"===e.key)Hn.clearSelection(),Hn.setCopied(!1);else if("ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key){if(!Sn){e.preventDefault();var P="ArrowUp"===e.key?"up":"ArrowDown"===e.key?"down":"ArrowLeft"===e.key?"left":"right",N=e.shiftKey;if((F=Hn.moveFocus(P,N))&&Ee.current)(O=Ee.current.querySelector('[data-row-index="'.concat(F.rowIndex,'"][data-col-key="').concat(F.colKey,'"]')))&&O.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}else if("Tab"!==e.key||Sn)if("Enter"!==e.key||Sn)if("Home"!==e.key&&"End"!==e.key||Sn){if((e.ctrlKey||e.metaKey)&&("ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key)&&!Sn){e.preventDefault();var E=Hn.focusedCell||(null===(o=Hn.selectedRange)||void 0===o?void 0:o.end);if(E){var D=Ue?Pe.filtered:h,K=E.rowIndex;A=Qe.findIndex(function(e){return String(e.key)===E.colKey});if("ArrowUp"===e.key?K=0:"ArrowDown"===e.key?K=D.length-1:"ArrowLeft"===e.key?A=0:"ArrowRight"===e.key&&(A=Qe.length-1),T=String(null===(r=Qe[A])||void 0===r?void 0:r.key))if(Hn.setFocusedCell(K,T),Hn.startSelection(K,T,e.shiftKey),Ee.current)(O=Ee.current.querySelector('[data-row-index="'.concat(K,'"][data-col-key="').concat(T,'"]')))&&O.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}}else{e.preventDefault();var L=Hn.focusedCell||(null===(n=Hn.selectedRange)||void 0===n?void 0:n.end);if(L)if(Qe.findIndex(function(e){return String(e.key)===L.colKey})>=0){var T,A="Home"===e.key?0:Qe.length-1;(T=String(null===(t=Qe[A])||void 0===t?void 0:t.key))&&(Hn.setFocusedCell(L.rowIndex,T),Hn.startSelection(L.rowIndex,T,e.shiftKey))}}else{e.preventDefault();P=e.shiftKey?"up":"down";if((F=Hn.moveFocus(P,!1))&&Ee.current)(O=Ee.current.querySelector('[data-row-index="'.concat(F.rowIndex,'"][data-col-key="').concat(F.colKey,'"]')))&&O.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}else{e.preventDefault();var F,O,P=e.shiftKey?"left":"right";if((F=Hn.moveFocus(P,!1))&&Ee.current)(O=Ee.current.querySelector('[data-row-index="'.concat(F.rowIndex,'"][data-col-key="').concat(F.colKey,'"]')))&&O.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}else(e.ctrlKey||e.metaKey)&&("c"===e.key||"x"===e.key||e.key)};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[xe,Hn,Vn,Pe.paged,Qe,H,Ue,h,Sn,Pe.filtered]);var Qn=t.useMemo(function(){return Ae?Array.from(new Set(h.map(function(e){return String(e[Ae])}))):[]},[Ae,h]);t.useEffect(function(){Ue&&Pe.setCurrentPage(1)},[Ue]);var $n=t.useMemo(function(){if(!Ue)return null;var e={};return(Pe.sortKey?i([],Pe.filtered,!0).sort(function(e,n){var t=e[Pe.sortKey],o=n[Pe.sortKey];if(null==t)return 1;if(null==o)return-1;if(t===o)return 0;var r=String(t).localeCompare(String(o),void 0,{numeric:!0,sensitivity:"base"});return"asc"===Pe.sortDir?r:-r}):Pe.filtered).forEach(function(n){var t=String(n[Ue]);e[t]||(e[t]=[]),e[t].push(n)}),e},[Pe.filtered,Pe.sortKey,Pe.sortDir,Ue]);t.useEffect(function(){if(Ue&&$n){var e=Object.keys($n).length,n=Math.ceil(e/Pe.itemsPerPage);Pe.currentPage>n&&n>0&&Pe.setCurrentPage(1)}},[$n,Ue,Pe.itemsPerPage,Pe.currentPage,Pe.setCurrentPage]);var et=t.useMemo(function(){if(!Ue||!$n)return null;var e=Object.entries($n);e.sort(function(e,n){var t=e[0],o=n[0];return t.localeCompare(o)});var n=(Pe.currentPage-1)*Pe.itemsPerPage,t=n+Pe.itemsPerPage;return e.slice(n,t)},[$n,Pe.currentPage,Pe.itemsPerPage,Ue]);t.useEffect(function(){Ue&&$n?qe(new Set(Object.keys($n))):Ue||qe(new Set)},[Ue,$n]);var nt=t.useCallback(function(e,n){var t,o,r;if(n.onRenderCell){var l=n.onRenderCell(e,n.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(t=e[n.key])&&void 0!==t?t:"")}if(x){l=x(e,n.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(o=e[n.key])&&void 0!==o?o:"")}return String(null!==(r=e[n.key])&&void 0!==r?r:"")},[x]),tt=t.useCallback(function(n,t,r){var l;return(null==Sn?void 0:Sn.rowIndex)===r&&(null==Sn?void 0:Sn.columnKey)===t.key&&t.editable?xe?e.jsx("input",{ref:In,type:"text",className:"th-cell-edit-input th-cell-edit-input-excel",value:Rn,onChange:function(e){return jn(e.target.value)},onBlur:function(){return Pn(n,t.key,r)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),Pn(n,t.key,r)):"Escape"===e.key&&(e.preventDefault(),Nn()),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Tab"!==e.key&&"Home"!==e.key&&"End"!==e.key||e.stopPropagation()},onClick:function(e){e.stopPropagation()},onFocus:function(e){var n=e.target;n&&setTimeout(function(){var e=n.value.length;n.setSelectionRange(e,e)},0)},onMouseDown:function(e){e.stopPropagation()}}):e.jsxs("div",o({className:"th-cell-edit-container"},{children:[e.jsx("input",{ref:In,type:"text",className:"th-cell-edit-input",value:Rn,onChange:function(e){return jn(e.target.value)},onKeyDown:function(e){"Enter"===e.key?(e.preventDefault(),Pn(n,t.key,r)):"Escape"===e.key&&(e.preventDefault(),Nn()),"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Tab"!==e.key&&"Home"!==e.key&&"End"!==e.key||e.stopPropagation()},onClick:function(e){e.stopPropagation()},onFocus:function(e){var n=e.target;n&&setTimeout(function(){var e=n.value.length;n.setSelectionRange(e,e)},0)},onMouseDown:function(e){e.stopPropagation()}}),e.jsxs("div",o({className:"th-cell-edit-buttons"},{children:[e.jsx("button",o({type:"button",className:"th-cell-edit-button th-cell-edit-save",onClick:function(e){e.stopPropagation(),e.preventDefault(),Pn(n,t.key,r)},onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},title:"Save"},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"12",height:"12"},{children:e.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})}))})),e.jsx("button",o({type:"button",className:"th-cell-edit-button th-cell-edit-cancel",onClick:function(e){e.stopPropagation(),e.preventDefault(),Nn()},onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},title:"Cancel"},{children:e.jsx("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"12",height:"12"},{children:e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}))}))]}))]})):t.onRenderCell?t.onRenderCell(n,t.key,r):x?x(n,t.key,r):String(null!==(l=n[t.key])&&void 0!==l?l:"")},[x,Sn,Rn,Pn,Nn]),ot=t.useMemo(function(){return M(_)},[_]),rt=t.useMemo(function(){return P(ot)},[ot]),lt=t.useMemo(function(){return Ue&&et?et.flatMap(function(e){return e[0],e[1]}):Pe.paged},[Ue,et,Pe.paged]),it=function(e,n,o,r,l,i,a){var s=t.useState(null),c=s[0],u=s[1];return t.useEffect(function(){if(n&&e.current&&!o){var t=function(e){if(!o&&0!==r.length){var n=document.activeElement;if(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName&&"true"!==n.getAttribute("contenteditable")){var t=null!=c?c:0;switch(e.key){case"ArrowDown":e.preventDefault(),t=Math.min(t+1,r.length-1),u(t);break;case"ArrowUp":e.preventDefault(),t=Math.max(t-1,0),u(t);break;case"Enter":case" ":if(e.preventDefault(),null!==c&&"none"!==l){var s=r[c],d=i(s,c);null==a||a(new Set([d]))}break;case"Escape":e.preventDefault(),u(null),null==a||a(new Set)}}}};return e.current.addEventListener("keydown",t),function(){var n;null===(n=e.current)||void 0===n||n.removeEventListener("keydown",t)}}},[n,o,c,l,r,i,a,e]),{focusedRowIndex:c,setFocusedRowIndex:u}}(Ee,re,q,lt,K,un,function(e){return gn(e)}).focusedRowIndex,at=Me.length>0,st=!q&&!at,ct=!q&&at,ut=t.useCallback(function(e,n){var t=String(e.key);if("left"!==(Ze[t]||e.pinned||null))return 0;var o=0;"none"!==K&&(o+=48);for(var r=0;r<n;r++){var l=Qe[r];if("left"===(Ze[String(l.key)]||l.pinned||null))o+=xn[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return o},[Qe,Ze,xn,K]),dt=t.useCallback(function(e,n){var t=String(e.key);if("right"!==(Ze[t]||e.pinned||null))return 0;for(var o=0,r=n+1;r<Qe.length;r++){var l=Qe[r];if("right"===(Ze[String(l.key)]||l.pinned||null))o+=xn[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return o},[Qe,Ze,xn]),ft=t.useMemo(function(){for(var e=null,n=0;n<Qe.length;n++){var t=Qe[n];if("left"===(Ze[String(t.key)]||t.pinned||null))e=t.key;else if(null!==e)break}return e},[Qe,Ze]),ht=t.useMemo(function(){for(var e=0;e<Qe.length;e++){var n=Qe[e];if("right"===(Ze[String(n.key)]||n.pinned||null))return n.key}return null},[Qe,Ze]);return e.jsxs("div",o({ref:Ee,className:"th-table ".concat(N||""," th-theme-").concat(ot.mode||"light"," ").concat(yn?"resizing":""," ").concat(Q?"th-sticky-header":""," ").concat(xe?"enable-cell-selection":""),style:o(o(o(o({},rt),E),B?{maxHeight:"number"==typeof B?"".concat(B,"px"):B,overflow:"auto"}:{}),yn?{cursor:"col-resize"}:{}),tabIndex:xe||re?0:void 0},{children:[ce&&e.jsx("div",o({className:"th-export-toolbar"},{children:e.jsx(R,{data:Pe.filtered,columns:Qe,format:de,filename:he,onBeforeExport:ge,onAfterExport:me})})),q&&e.jsx(u,{columns:Qe,itemsPerPage:p,selectionMode:K,onRenderLoading:X}),st&&e.jsx(d,{emptyMessage:Y,onRenderEmpty:Z}),ct&&e.jsx("div",o({style:o({overflowX:"auto",overflowY:Q&&!B?"auto":"visible",width:"100%"},Q&&!B?{maxHeight:"calc(100vh - 200px)"}:{})},{children:e.jsxs("table",{children:[e.jsx(m,{columns:Qe,selectionMode:K,isAllSelected:sn,isIndeterminate:cn,onSelectAll:hn,columnWidths:xn,pinnedColumns:Ze,lastLeftPinnedColumnKey:ft,firstRightPinnedColumnKey:ht,stickyHeader:Q,enableColumnReorder:ne||!1,dragOverColumn:Je,sortKey:Pe.sortKey,sortDir:Pe.sortDir,filters:Pe.filters,anchorRefs:Ne,calloutKey:bn.calloutKey,resizingColumn:yn,onRenderHeader:C,onColumnHeaderClick:k,onHeaderMouseEnter:function(e){if("__rowNumber__"!==e){var n=Qe.find(function(n){return String(n.key)===e});n&&!1===n.showCallout||bn.handleHeaderMouseEnter(e)}},onHeaderMouseLeave:bn.handleHeaderMouseLeave,onCalloutMouseEnter:bn.handleCalloutMouseEnter,onCalloutMouseLeave:bn.handleCalloutMouseLeave,onColumnDragStart:nn,onColumnDragOver:tn,onColumnDrop:on,onResizeStart:Cn,onSortAsc:function(e){"__rowNumber__"!==String(e.key)&&!1!==e.sortable&&Pe.handleSort(e.key,"asc")},onSortDesc:function(e){"__rowNumber__"!==String(e.key)&&!1!==e.sortable&&Pe.handleSort(e.key,"desc")},onFilter:function(e){var n;"__rowNumber__"!==String(e.key)&&(!1!==e.filterable&&(n=e.key,Fe(String(n)),bn.dismissCallout()))},onClearFilter:function(e){"__rowNumber__"!==String(e.key)&&!1!==e.filterable&&Pe.setFilter(String(e.key),[])},onPinLeft:function(e){"__rowNumber__"!==String(e.key)&&en(e.key,"left")},onPinRight:function(e){"__rowNumber__"!==String(e.key)&&en(e.key,"right")},onUnpin:function(e){"__rowNumber__"!==String(e.key)&&en(e.key,null)},onToggleVisibility:function(e){"__rowNumber__"!==String(e.key)&&$&&$e(e.key)},onGroupBy:function(e){"__rowNumber__"!==String(e.key)&&(Ue===e.key?Ve(void 0):Ve(e.key))},currentGroupBy:Ue,enableColumnVisibility:$||!1,enableGroupBy:!0,enableTotals:!0,onTotalsChange:function(e,n){Le(function(t){var r;return o(o({},t),((r={})[String(e.key)]=n,r))})},columnTotals:Ke,getLeftOffset:ut,getRightOffset:dt,dismissCallout:bn.dismissCallout,enableRowActions:!!pe,enableCellSelection:xe,isRangeFromFirstRow:Yn(),isColumnInRange:Zn,getColumnRangeInfo:Jn,isCopied:Hn.isCopied}),e.jsx(b,{data:Me,columns:Qe,paginatedGroups:et||void 0,currentGroupBy:Ue,expandedGroups:Ge,selectionMode:K,selectedItems:ln,activeItemIndex:an,focusedRowIndex:null!=it?it:void 0,enableRowReorder:ie,draggedRowIndex:Kn,dragOverRowIndex:Ln,isDragging:Tn,columnWidths:xn,pinnedColumns:Ze,lastLeftPinnedColumnKey:ft||void 0,firstRightPinnedColumnKey:ht||void 0,showTooltip:W,onRenderRow:y,getItemKey:un,onItemClick:fn,onItemContextMenu:j,onCheckboxChange:dn,onCellEditStart:En,onRowDragStart:An,onRowDragOver:Fn,onRowDragLeave:On,onRowDrop:_n,onRowDragEnd:Bn,renderCell:tt,getCellText:nt,getLeftOffset:ut,getRightOffset:dt,toggleGroup:function(e){qe(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})},filteredData:Pe.filtered,pagedData:Pe.paged,rowActions:pe,openMenuKey:_e,onMenuToggle:mn,onMenuDismiss:pn,enableCellSelection:xe,isCellSelected:Hn.isCellSelected,getCellRangeInfo:qn,isRowAboveRange:Xn,isColumnInRange:Zn,getColumnRangeInfo:Jn,onCellMouseDown:Un,onCellMouseEnter:Wn,onCellMouseUp:Gn}),e.jsx(w,{columns:Qe,selectionMode:K,columnTotals:Ke,pinnedColumns:Ze,columnWidths:xn,lastLeftPinnedColumnKey:ft||void 0,firstRightPinnedColumnKey:ht||void 0,totalCount:Pe.filtered.length,getLeftOffset:ut,getRightOffset:dt})]})})),ct&&A&&e.jsx(s,{totalItems:Ue&&$n?Object.keys($n).length:Pe.filtered.length,itemsPerPage:Pe.itemsPerPage,currentPage:Pe.currentPage,onPageChange:Pe.setCurrentPage,itemsPerPageOptions:Re,onItemsPerPageChange:function(e){Ie(e),Pe.setCurrentPage(1)}}),Ae&&e.jsx(c,{field:Ae,values:Qn,selected:Pe.filters[Ae]||[],onApply:function(e){Pe.setFilter(Ae,e),Fe(null)},onDismiss:function(){return Fe(null)}})]}))},exports.applyTheme=P,exports.defaultDarkTheme=j,exports.defaultLightTheme=I,exports.getTheme=M,exports.useTable=a;
