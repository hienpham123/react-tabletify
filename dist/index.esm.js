import{jsxs as e,jsx as n,Fragment as t}from"react/jsx-runtime";import*as o from"react";var r=function(){return r=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},r.apply(this,arguments)};function l(e,n,t,o){return new(t||(t=Promise))(function(r,l){function i(e){try{c(o.next(e))}catch(e){l(e)}}function a(e){try{c(o.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(i,a)}c((o=o.apply(e,n||[])).next())})}function i(e,n){var t,o,r,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},i=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(l=0)),l;)try{if(t=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){l.label=a[1];break}if(6===a[0]&&l.label<r[1]){l.label=r[1],r=a;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(a);break}r[2]&&l.ops.pop(),l.trys.pop();continue}a=n.call(e,l)}catch(e){a=[6,e],o=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function a(e,n,t){if(t||2===arguments.length)for(var o,r=0,l=n.length;r<l;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function c(e,n){void 0===n&&(n=10);var t=o.useState(""),l=t[0],i=t[1],c=o.useState(null),u=c[0],s=c[1],d=o.useState("asc"),f=d[0],h=d[1],g=o.useState(1),m=g[0],p=g[1],v=o.useState({}),C=v[0],y=v[1],b=function(e,n){y(function(t){var o=r({},t);return 0===n.length?delete o[e]:o[e]=n,o})},x=o.useMemo(function(){var n=e;if(Object.entries(C).forEach(function(e){var t=e[0],o=e[1];o.length>0&&(n=n.filter(function(e){return o.includes(String(e[t]))}))}),l.trim()){var t=l.toLowerCase();n=n.filter(function(e){return Object.values(e).some(function(e){return String(e).toLowerCase().includes(t)})})}return n},[e,l,C]),w=o.useMemo(function(){return u?a([],x,!0).sort(function(e,n){var t=e[u],o=n[u];if(null==t)return 1;if(null==o)return-1;if(t===o)return 0;var r=String(t).localeCompare(String(o),void 0,{numeric:!0,sensitivity:"base"});return"asc"===f?r:-r}):x},[x,u,f]),k=Math.ceil(w.length/n),S=o.useMemo(function(){var e=(m-1)*n;return w.slice(e,e+n)},[w,m,n]);o.useEffect(function(){p(1)},[l,u,f,C]);var R=o.useCallback(function(){i("")},[]),I=o.useCallback(function(){y({})},[]),M=o.useCallback(function(e){b(e,[])},[b]),E=o.useCallback(function(){s(null),h("asc")},[]),D=o.useCallback(function(){i(""),y({}),s(null),h("asc"),p(1)},[]),N=o.useCallback(function(){p(1)},[]),P=o.useCallback(function(){p(k)},[k]),L=o.useCallback(function(){p(function(e){return Math.min(e+1,k)})},[k]),K=o.useCallback(function(){p(function(e){return Math.max(e-1,1)})},[]);return{filtered:x,paged:S,currentPage:m,setCurrentPage:p,totalPages:k,itemsPerPage:n,goToFirstPage:N,goToLastPage:P,goToNextPage:L,goToPrevPage:K,search:l,setSearch:i,clearSearch:R,sortKey:u,sortDir:f,handleSort:function(e,n){n?(s(e),h(n)):u===e?h(function(e){return"asc"===e?"desc":"asc"}):(s(e),h("asc"))},resetSort:E,filters:C,setFilter:b,clearFilter:M,clearFilters:I,resetAll:D}}"function"==typeof SuppressedError&&SuppressedError;var u=function(o){var l=o.totalItems,i=o.itemsPerPage,a=o.currentPage,c=o.onPageChange,u=o.maxVisible,s=void 0===u?5:u,d=o.itemsPerPageOptions,f=o.onItemsPerPageChange,h=Math.ceil(l/i),g=Math.floor(s/2),m=Math.max(1,a-g),p=Math.min(h,m+s-1);p-m<s-1&&(m=Math.max(1,p-s+1));var v=Array.from({length:p-m+1},function(e,n){return m+n}),C=function(e){e<1||e>h||e===a||c(e)};return!(h<=0)||d&&f?e("div",r({className:"th-pagination"},{children:[n("button",r({onClick:function(){return C(a-1)},disabled:1===a,className:"th-pagination-btn th-pagination-arrow","aria-label":"Previous page"},{children:"<"})),m>1&&e(t,{children:[n("button",r({className:"th-pagination-btn",onClick:function(){return C(1)}},{children:"1"})),m>2&&n("span",r({className:"th-pagination-ellipsis"},{children:"..."}))]}),v.map(function(e){return n("button",r({onClick:function(){return C(e)},className:"th-pagination-btn ".concat(e===a?"th-page-active":"")},{children:e}),e)}),p<h&&e(t,{children:[p<h-1&&n("span",r({className:"th-pagination-ellipsis"},{children:"..."})),n("button",r({className:"th-pagination-btn",onClick:function(){return C(h)}},{children:h}))]}),n("button",r({onClick:function(){return C(a+1)},disabled:a===h,className:"th-pagination-btn th-pagination-arrow","aria-label":"Next page"},{children:">"})),d&&f&&e("div",r({className:"th-pagination-items-per-page"},{children:[n("label",r({htmlFor:"th-items-per-page-select",style:{marginRight:"8px"}},{children:"Rows per page:"})),n("select",r({id:"th-items-per-page-select",value:i,onChange:function(e){var n=Number(e.target.value);f(n),c(1)},className:"th-pagination-select"},{children:d.map(function(e){return n("option",r({value:e},{children:e}),e)})}))]}))]})):null};function s(t){var l=t.field,i=t.values,c=t.selected,u=t.onApply,s=t.onDismiss,d=o.useState(c),f=d[0],h=d[1],g=o.useState(""),m=g[0],p=g[1];o.useEffect(function(){h(c),p("")},[l]);var v=o.useMemo(function(){if(!m.trim())return i;var e=m.toLowerCase();return i.filter(function(n){return n.toLowerCase().includes(e)})},[i,m]);return e("div",r({className:"th-filter-panel open"},{children:[e("div",r({className:"th-filter-header"},{children:[e("strong",{children:["Filter by '",l,"'"]}),n("button",r({className:"th-filter-close",onClick:s,"aria-label":"Close"},{children:n("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:n("path",{d:"M12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8 7.29289L3.85355 3.14645C3.65829 2.95118 3.34171 2.95118 3.14645 3.14645C2.95118 3.34171 2.95118 3.65829 3.14645 3.85355L7.29289 8L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L8 8.70711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.70711 8L12.8536 3.85355Z",fill:"currentColor"})}))}))]})),e("div",r({className:"th-filter-content"},{children:[n("div",r({className:"th-filter-search"},{children:n("input",{type:"text",className:"th-filter-search-input",placeholder:"Select ".concat(l," to display..."),value:m,onChange:function(e){return p(e.target.value)}})})),n("div",r({className:"th-filter-options-list"},{children:v.length>0?v.map(function(t){return e("div",r({className:"th-filter-option"},{children:[n("input",{type:"checkbox",id:"filter-".concat(l,"-").concat(t),checked:f.includes(t),onChange:function(){return function(e){h(function(n){return n.includes(e)?n.filter(function(n){return n!==e}):a(a([],n,!0),[e],!1)})}(t)}}),n("label",r({htmlFor:"filter-".concat(l,"-").concat(t)},{children:t}))]}),t)}):n("div",r({className:"th-filter-no-results"},{children:"No results found"}))}))]})),e("div",r({className:"th-filter-footer"},{children:[n("button",r({className:"th-btn",onClick:function(){h([])}},{children:"Clear all"})),n("button",r({className:"th-btn primary",onClick:function(){return u(f)}},{children:"Apply"}))]}))]}))}function d(o){var l=o.columns,i=o.itemsPerPage,a=o.selectionMode,c=o.onRenderLoading;return c?n(t,{children:c()}):e("div",r({className:"th-loading-skeleton"},{children:[e("div",r({className:"th-skeleton-header"},{children:["none"!==a&&n("div",{className:"th-skeleton-cell",style:{width:"48px"}}),l.map(function(e,t){return n("div",{className:"th-skeleton-cell",style:{width:e.width||"150px"}},t)})]})),Array.from({length:i}).map(function(t,o){return e("div",r({className:"th-skeleton-row"},{children:["none"!==a&&n("div",{className:"th-skeleton-cell",style:{width:"48px"}}),l.map(function(e,t){return n("div",{className:"th-skeleton-cell",style:{width:e.width||"150px"}},t)})]}),o)})]}))}function f(o){var l=o.emptyMessage,i=o.onRenderEmpty;return i?n(t,{children:i()}):e("div",r({className:"th-empty-state"},{children:[n("div",r({className:"th-empty-icon"},{children:"ðŸ“‹"})),n("div",r({className:"th-empty-message"},{children:l||"No data available"}))]}))}function h(e){var t=e.selectionMode,o=e.checked,l=e.indeterminate,i=e.onChange,a=e.onSelectAll;if("none"===t)return null;var c=void 0!==a;return n("td",r({className:"th-selection-column"},{children:n("div",r({className:"th-selection-checkbox-wrapper"},{children:"multiple"===t?n("input",{type:"checkbox",className:"th-selection-checkbox",checked:o,ref:function(e){e&&void 0!==l&&(e.indeterminate=l)},onChange:function(e){c&&a?a(e.target.checked):i(e.target.checked)},onClick:function(e){return e.stopPropagation()}}):c?n("div",{className:"th-selection-checkbox-wrapper"}):n("input",{type:"radio",className:"th-selection-checkbox",checked:o,onChange:function(e){return i(e.target.checked)},onClick:function(e){return e.stopPropagation()}})}))}))}function g(l){var i=l.anchorRef,a=l.onSortAsc,c=l.onSortDesc,u=l.onFilter,s=l.onClearFilter,d=l.onPinLeft,f=l.onPinRight,h=l.onUnpin,g=l.onToggleVisibility,m=l.onGroupBy,p=l.isGrouped,v=void 0!==p&&p,C=l.onColumnSettings,y=l.onTotalsChange,b=l.totalsValue,x=void 0===b?"none":b,w=l.columnLabel,k=void 0===w?"Column":w;l.onDismiss;var S=l.onMouseEnter,R=l.onMouseLeave,I=l.sortable,M=void 0===I||I,E=l.filterable,D=void 0===E||E,N=l.hasFilter,P=void 0!==N&&N,L=l.pinned,K=void 0===L?null:L,T=l.visible,O=void 0===T||T,B=l.enableColumnVisibility,H=void 0!==B&&B;l.enableColumnReorder;var z=l.enableGroupBy,A=void 0!==z&&z,F=l.enableTotals,V=void 0!==F&&F,W=o.useRef(null),U=o.useState(null),G=U[0],j=U[1],q=o.useRef(null);if(o.useEffect(function(){return function(){q.current&&clearTimeout(q.current)}},[]),!i.current)return null;var J=i.current.getBoundingClientRect(),X=function(e){q.current&&clearTimeout(q.current),j(e)},_=function(){q.current=setTimeout(function(){j(null)},150)};return n(t,{children:e("div",r({ref:W,className:"th-callout",style:{top:J.bottom+6,left:J.left,position:"fixed"},onMouseEnter:S,onMouseLeave:R},{children:[M&&e(t,{children:[n("button",r({onClick:a,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:"Ascending"}))})),n("button",r({onClick:c,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:"Descending"}))}))]}),M&&D&&n("hr",{className:"th-callout-divider"}),D&&P&&s&&n("button",r({onClick:s,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:"Clear filter"}))})),D&&P&&s&&n("hr",{className:"th-callout-divider"}),D&&n("button",r({onClick:u,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:"Filter by"}))})),A&&m&&e(t,{children:[n("hr",{className:"th-callout-divider"}),e("button",r({onClick:m,className:"th-callout-item ".concat(v?"th-callout-item-selected":"")},{children:[e("span",r({className:"th-callout-text"},{children:["Group by ",k]})),v&&n("span",r({className:"th-callout-checkmark"},{children:"âœ“"}))]}))]}),(d||f||h||C||V)&&n("hr",{className:"th-callout-divider"}),C?e("div",r({className:"th-callout-item th-callout-item-with-submenu",onMouseEnter:function(){return X("column-settings")},onMouseLeave:_},{children:[n("span",r({className:"th-callout-text"},{children:"Column settings"})),n("span",r({className:"th-callout-arrow"},{children:"â€º"})),"column-settings"===G&&e("div",r({className:"th-callout-submenu",onMouseEnter:function(){return X("column-settings")},onMouseLeave:_},{children:[null===K&&d&&n("button",r({onClick:d,className:"th-callout-submenu-item"},{children:n("span",r({className:"th-callout-text"},{children:"Pin left"}))})),null===K&&f&&n("button",r({onClick:f,className:"th-callout-submenu-item"},{children:n("span",r({className:"th-callout-text"},{children:"Pin right"}))})),null!==K&&h&&n("button",r({onClick:h,className:"th-callout-submenu-item"},{children:n("span",r({className:"th-callout-text"},{children:"Unpin"}))})),H&&g&&e(t,{children:[(d||f||h)&&n("hr",{className:"th-callout-divider"}),n("button",r({onClick:g,className:"th-callout-submenu-item"},{children:n("span",r({className:"th-callout-text"},{children:O?"Hide column":"Show column"}))}))]})]}))]})):e(t,{children:[null===K&&d&&n("button",r({onClick:d,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:"Pin left"}))})),null===K&&f&&n("button",r({onClick:f,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:"Pin right"}))})),null!==K&&h&&n("button",r({onClick:h,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:"Unpin"}))}))]}),V&&y&&e("div",r({className:"th-callout-item th-callout-item-with-submenu",onMouseEnter:function(){return X("totals")},onMouseLeave:_},{children:[n("span",r({className:"th-callout-text"},{children:"Totals"})),n("span",r({className:"th-callout-arrow"},{children:"â€º"})),"totals"===G&&e("div",r({className:"th-callout-submenu",onMouseEnter:function(){return X("totals")},onMouseLeave:_},{children:[e("button",r({onClick:function(){return y("none")},className:"th-callout-submenu-item ".concat("none"===x?"th-callout-item-selected":"")},{children:[n("span",r({className:"th-callout-text"},{children:"None"})),"none"===x&&n("span",r({className:"th-callout-checkmark"},{children:"âœ“"}))]})),e("button",r({onClick:function(){return y("count")},className:"th-callout-submenu-item ".concat("count"===x?"th-callout-item-selected":"")},{children:[n("span",r({className:"th-callout-text"},{children:"Count"})),"count"===x&&n("span",r({className:"th-callout-checkmark"},{children:"âœ“"}))]}))]}))]})),!C&&H&&g&&e(t,{children:[n("hr",{className:"th-callout-divider"}),n("button",r({onClick:g,className:"th-callout-item"},{children:n("span",r({className:"th-callout-text"},{children:O?"Hide column":"Show column"}))}))]})]}))})}function m(t){var o=t.column,l=t.columnIndex,i=t.resizedWidth,a=t.pinPosition,c=t.leftOffset,u=t.rightOffset,s=t.lastLeftPinnedColumnKey,d=t.firstRightPinnedColumnKey,f=t.stickyHeader,h=t.enableColumnReorder,m=t.isDragOver,p=t.sortKey,v=t.sortDir,C=t.hasFilter,y=t.anchorRef,b=t.anchorRefForCallout,x=t.calloutKey,w=t.resizingColumn,k=t.onRenderHeader,S=t.onColumnHeaderClick,R=t.onHeaderMouseEnter,I=t.onHeaderMouseLeave,M=t.onCalloutMouseEnter,E=t.onCalloutMouseLeave,D=t.onColumnDragStart,N=t.onColumnDragOver,P=t.onColumnDrop,L=t.onResizeStart,K=t.onSortAsc,T=t.onSortDesc,O=t.onFilter,B=t.onClearFilter,H=t.onPinLeft,z=t.onPinRight,A=t.onUnpin,F=t.onToggleVisibility,V=t.onGroupBy,W=t.isGrouped,U=t.enableColumnVisibility,G=t.enableGroupBy,j=t.enableTotals,q=t.onTotalsChange,J=t.totalsValue,X=t.onDismiss,_=t.enableCellSelection,Y=void 0!==_&&_,Z=t.isInRangeColumn,Q=void 0!==Z&&Z,$=t.isLeftColInRange,ee=void 0!==$&&$,ne=t.isRightColInRange,te=void 0!==ne&&ne,oe=t.isCopied,re=void 0!==oe&&oe,le=String(o.key),ie=r(r(r(r({},o.style),{width:i?"".concat(i,"px"):o.width,minWidth:o.minWidth,maxWidth:o.maxWidth,textAlign:o.align,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(c,"px"),zIndex:f?15:5}:{}),"right"===a?{right:"".concat(u,"px"),zIndex:f?15:5}:{}),ae=o.className?"th-header-cell ".concat(a?"th-header-pinned th-pinned-".concat(a):""," ").concat(o.className):a?"th-header-cell th-header-pinned th-pinned-".concat(a):"th-header-cell",ce=[m?"th-drag-over":"",a?"th-pinned-".concat(a):"","left"===a&&o.key===s?"th-pinned-last-left":"","right"===a&&o.key===d?"th-pinned-first-right":"",Y&&re?"th-cell-copied":""].filter(Boolean).join(" ");return e("th",r({style:ie,draggable:h,onDragStart:function(){return D(o.key)},onDragOver:function(e){return N(e,o.key)},onDrop:function(){return P(o.key)},onDragLeave:function(){},className:ce,"data-in-range-column":Y&&Q?"true":void 0,"data-left-col-in-range":Y&&ee?"true":void 0,"data-right-col-in-range":Y&&te?"true":void 0},{children:[k?k(o,l):e("div",r({className:ae,ref:function(e){y(e)},onMouseEnter:function(){return R(le)},onMouseLeave:I,onClick:function(e){return null==S?void 0:S(o,e)}},{children:[e("span",r({className:"th-header-label"},{children:[o.label,n("span",r({className:"th-header-chevron-icon",role:"presentation","aria-hidden":"true"},{children:n("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:n("path",{d:"M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"})}))}))]})),e("div",r({className:"th-header-icons"},{children:[a&&n("span",r({className:"th-header-pin-icon",title:"Pinned ".concat(a)},{children:n("svg",r({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:n("path",{d:"M1990 748q-33 33-64 60t-66 47-73 29-89 11q-34 0-65-6l-379 379q13 38 19 78t6 80q0 65-13 118t-37 100-60 89-79 87l-386-386-568 569-136 45 45-136 569-568-386-386q44-44 86-79t89-59 100-38 119-13q40 0 80 6t78 19l379-379q-6-31-6-65 0-49 10-88t30-74 46-65 61-65l690 690z"})}))})),C&&n("span",r({className:"th-header-filter-icon",title:"Filtered",role:"presentation","aria-hidden":"true"},{children:n("svg",r({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:n("path",{d:"M2048 128v219l-768 768v805H768v-805L0 347V128h2048z"})}))})),p===o.key&&n("span",r({className:"th-header-sort-icon"},{children:n("span",r({className:"th-sort-arrow"},"asc"===v?{children:"â†‘"}:{children:"â†“"}))}))]})),n("span",r({className:"th-header-action"},{children:"â‹®"}))]})),!1!==o.resizable&&n("div",{className:"th-resize-handle",onMouseDown:function(e){return L(le,e)},style:{cursor:"col-resize",position:"absolute",right:0,top:0,bottom:0,width:"4px",zIndex:10,userSelect:"none"}}),x===le&&!w&&n(g,{anchorRef:b,onSortAsc:K,onSortDesc:T,onFilter:O,onClearFilter:B,onPinLeft:H,onPinRight:z,onUnpin:A,onToggleVisibility:F,onGroupBy:V,isGrouped:W,onColumnSettings:!(!A&&!U)||void 0,onTotalsChange:q,totalsValue:J,columnLabel:o.label,onDismiss:X,onMouseEnter:M,onMouseLeave:E,sortable:!1!==o.sortable,filterable:!1!==o.filterable,hasFilter:C,pinned:a,visible:!0,enableColumnVisibility:U,enableGroupBy:G,enableTotals:j})]}),le)}function p(t){var o=t.columns,l=t.selectionMode,i=t.isAllSelected,a=t.isIndeterminate,c=t.onSelectAll,u=t.columnWidths,s=t.pinnedColumns,d=t.lastLeftPinnedColumnKey,f=t.firstRightPinnedColumnKey,g=t.stickyHeader,p=t.enableColumnReorder,v=t.dragOverColumn,C=t.sortKey,y=t.sortDir,b=t.filters,x=t.anchorRefs,w=t.calloutKey,k=t.resizingColumn,S=t.onRenderHeader,R=t.onColumnHeaderClick,I=t.onHeaderMouseEnter,M=t.onHeaderMouseLeave,E=t.onCalloutMouseEnter,D=t.onCalloutMouseLeave,N=t.onColumnDragStart,P=t.onColumnDragOver,L=t.onColumnDrop,K=t.onResizeStart,T=t.onSortAsc,O=t.onSortDesc,B=t.onFilter,H=t.onClearFilter,z=t.onPinLeft,A=t.onPinRight,F=t.onUnpin,V=t.onToggleVisibility,W=t.onGroupBy,U=t.currentGroupBy,G=t.enableColumnVisibility,j=t.enableGroupBy,q=t.enableTotals,J=t.onTotalsChange,X=t.columnTotals,_=t.getLeftOffset,Y=t.getRightOffset,Z=t.dismissCallout,Q=t.enableRowActions,$=void 0!==Q&&Q,ee=t.enableCellSelection,ne=void 0!==ee&&ee,te=t.isRangeFromFirstRow,oe=void 0!==te&&te;t.isColumnInRange;var re=t.getColumnRangeInfo,le=t.isCopied,ie=void 0!==le&&le;return n("thead",{children:e("tr",{children:["none"!==l&&n(h,{selectionMode:l,checked:i,indeterminate:a,onChange:function(){},onSelectAll:c}),$&&n("th",r({className:"th-row-actions-column"},{children:n("div",r({className:"th-header-cell"},{children:n("span",{className:"th-header-label"})}))})),o.map(function(e,t){var o=String(e.key),r=u[o],l=s[o]||e.pinned||null,i="left"===l?_(e,t):0,a="right"===l?Y(e,t):0,c=ne&&oe&&re?re(o):{isInRange:!1,isLeftCol:!1,isRightCol:!1},h=ne&&oe&&ie&&c.isInRange,Q={get current(){return x.current[o]||null},set current(e){}};return n(m,{column:e,columnIndex:t,resizedWidth:r,pinPosition:l,leftOffset:i,rightOffset:a,lastLeftPinnedColumnKey:null!=d?d:void 0,firstRightPinnedColumnKey:null!=f?f:void 0,stickyHeader:g,enableColumnReorder:p,isDragOver:v===e.key,sortKey:C,sortDir:y,hasFilter:!!(b[o]&&b[o].length>0),anchorRef:function(e){e&&(x.current[o]=e)},anchorRefForCallout:Q,calloutKey:w===e.key?o:null,resizingColumn:k,onRenderHeader:S,onColumnHeaderClick:R,onHeaderMouseEnter:I,onHeaderMouseLeave:M,onCalloutMouseEnter:E,onCalloutMouseLeave:D,onColumnDragStart:N,onColumnDragOver:P,onColumnDrop:L,onResizeStart:K,enableCellSelection:ne,isInRangeColumn:c.isInRange,isLeftColInRange:c.isLeftCol,isRightColInRange:c.isRightCol,isCopied:h,onSortAsc:function(){!1!==e.sortable&&(T(e),Z())},onSortDesc:function(){!1!==e.sortable&&(O(e),Z())},onFilter:function(){!1!==e.filterable&&B(e)},onClearFilter:function(){!1!==e.filterable&&(H(e),Z())},onPinLeft:function(){z(e),Z()},onPinRight:function(){A(e),Z()},onUnpin:function(){F(e),Z()},onToggleVisibility:function(){G&&(V(e),Z())},onGroupBy:function(){W(e),Z()},isGrouped:U===e.key,enableColumnVisibility:G,enableGroupBy:j,enableTotals:q,onTotalsChange:function(n){J(e,n),Z()},totalsValue:X[o]||"none",onDismiss:Z},o)})]})})}function v(t){var o=t.groupKey,l=t.groupLabel,i=t.rowCount,a=t.isExpanded,c=t.onToggle,u=t.colSpan;return n("tr",r({className:"th-group-header"},{children:n("td",r({colSpan:u,className:"th-group-header-cell"},{children:e("button",r({className:"th-group-toggle",onClick:c,"aria-expanded":a},{children:[n("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a?"expanded":""},{children:n("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})),e("span",r({className:"th-group-label"},{children:[l,": ",o]})),e("span",r({className:"th-group-count"},{children:["(",i,")"]}))]}))}))}))}function C(e){var t=e.column,o=e.item,l=e.index,i=e.resizedWidth,a=e.pinPosition,c=e.leftOffset,u=e.rightOffset,s=e.lastLeftPinnedColumnKey,d=e.firstRightPinnedColumnKey,f=e.showTooltip,h=e.onDoubleClick,g=e.renderCell,m=e.getCellText,p=e.isSelected,v=void 0!==p&&p,C=e.isRangeStart,y=void 0!==C&&C,b=e.isRangeEnd,x=void 0!==b&&b,w=e.isInRange,k=void 0!==w&&w,S=e.isTopRow,R=void 0!==S&&S,I=e.isBottomRow,M=void 0!==I&&I,E=e.isLeftCol,D=void 0!==E&&E,N=e.isRightCol,P=void 0!==N&&N,L=e.isInRangeColumn,K=void 0!==L&&L,T=e.isLeftColInRange,O=void 0!==T&&T,B=e.isRightColInRange,H=void 0!==B&&B,z=e.isCopied,A=void 0!==z&&z,F=e.onMouseDown,V=e.onMouseEnter,W=e.onMouseUp,U=e.enableCellSelection,G=void 0!==U&&U,j=String(t.key),q=r(r(r(r({},t.cellStyle),{textAlign:t.align,width:i?"".concat(i,"px"):t.width,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(c,"px"),zIndex:3}:{}),"right"===a?{right:"".concat(u,"px"),zIndex:3}:{}),J=[t.cellClassName,t.editable?"th-cell-editable":"",a?"th-cell-pinned th-pinned-".concat(a):"","left"===a&&t.key===s?"th-pinned-last-left":"","right"===a&&t.key===d?"th-pinned-first-right":"",G&&v?"th-cell-selected":"",G&&y?"th-cell-range-start":"",G&&x?"th-cell-range-end":"",G&&k?"th-cell-in-range":"",G&&R?"th-cell-range-top":"",G&&M?"th-cell-range-bottom":"",G&&D?"th-cell-range-left":"",G&&P?"th-cell-range-right":"",G&&A?"th-cell-copied":""].filter(Boolean).join(" "),X=f&&m?m(o,t):void 0;return n("td",r({style:q,className:J,onDoubleClick:h,title:X||void 0,onMouseDown:G?F:void 0,onMouseEnter:G?V:void 0,onMouseUp:G?W:void 0,"data-in-range-column":G&&K?"true":void 0,"data-left-col-in-range":G&&O?"true":void 0,"data-right-col-in-range":G&&H?"true":void 0},{children:g(o,t,l)}),j)}function y(t){var o=t.item,l=t.index,i=t.actions,a=t.onMenuToggle,c=t.isMenuOpen,u=t.buttonRef;return i&&0!==i.length?n("td",r({className:"th-row-actions-column"},{children:n("button",r({ref:u,type:"button",className:"th-row-actions-button ".concat(c?"th-row-actions-button-active":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),a(o,l)},onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},"aria-label":"Row actions","aria-haspopup":"true","aria-expanded":c},{children:e("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"block"}},{children:[n("circle",{cx:"4",cy:"8",r:"1.5",fill:"currentColor"}),n("circle",{cx:"8",cy:"8",r:"1.5",fill:"currentColor"}),n("circle",{cx:"12",cy:"8",r:"1.5",fill:"currentColor"})]}))}))})):n("td",{className:"th-row-actions-column"})}function b(t){var l=t.anchorRef,i=t.actions,a=t.item,c=t.index,u=t.onDismiss,s=t.onMouseEnter,d=t.onMouseLeave,f=o.useRef(null);if(o.useEffect(function(){var e=function(e){f.current&&!f.current.contains(e.target)&&l.current&&!l.current.contains(e.target)&&u()},n=function(e){"Escape"===e.key&&u()};return document.addEventListener("mousedown",e),document.addEventListener("keydown",n),function(){document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n)}},[u,l]),!l.current||0===i.length)return null;var h=l.current.getBoundingClientRect(),g=32*i.length+8,m=window.innerHeight-h.bottom,p=h.top,v=m<g&&p>m?h.top-g-4:h.bottom+4;return n("div",r({ref:f,className:"th-row-actions-menu",style:{position:"fixed",top:"".concat(v,"px"),left:"".concat(h.left,"px"),zIndex:1e3},onMouseEnter:s,onMouseLeave:d},{children:i.map(function(t){return e("button",r({className:"th-row-actions-menu-item ".concat(t.disabled?"th-row-actions-menu-item-disabled":""),onClick:function(){return function(e){e.disabled||(e.onClick(a,c),u())}(t)},disabled:t.disabled},{children:[t.icon&&n("span",r({className:"th-row-actions-menu-icon"},{children:t.icon})),n("span",r({className:"th-row-actions-menu-text"},{children:t.label}))]}),t.key)})}))}function x(l){var i=l.item,a=l.index,c=l.itemKey,u=l.columns,s=l.selectionMode,d=l.isSelected,f=l.isActive,g=l.isFocused,m=void 0!==g&&g,p=l.isDragging,v=void 0!==p&&p,x=l.isDragOver,w=void 0!==x&&x,k=l.canDrag,S=l.columnWidths,R=l.pinnedColumns,I=l.lastLeftPinnedColumnKey,M=l.firstRightPinnedColumnKey,E=l.showTooltip,D=l.onItemClick,N=l.onItemContextMenu,P=l.onCheckboxChange,L=l.onCellEditStart,K=l.onDragStart,T=l.onDragOver,O=l.onDragLeave,B=l.onDrop,H=l.onDragEnd,z=l.renderCell,A=l.getCellText,F=l.getLeftOffset,V=l.getRightOffset,W=l.isDraggingState,U=l.rowActions,G=l.openMenuKey,j=l.onMenuToggle,q=l.onMenuDismiss,J=l.enableCellSelection,X=void 0!==J&&J,_=l.cellSelectionIndex,Y=l.isCellSelected,Z=l.getCellRangeInfo,Q=l.isRowAboveRange,$=void 0!==Q&&Q;l.isColumnInRange;var ee=l.getColumnRangeInfo,ne=l.onCellMouseDown,te=l.onCellMouseEnter,oe=l.onCellMouseUp,re=[d?"th-row-selected":"",!X&&f?"th-row-active":"",!X&&m?"th-row-focused":"",k?"th-row-draggable":"",v?"th-row-dragging":"",w?"th-row-drag-over":"",X&&$?"th-row-above-range":""].filter(Boolean).join(" "),le=U?U(i,a):[],ie=G===o.useMemo(function(){return"".concat(String(c),"-").concat(a)},[c,a]),ae=o.useRef(null);return e(t,{children:[e("tr",r({className:re,draggable:k,onDragStart:function(e){return K(e,a)},onDragOver:function(e){return T(e,a)},onDragLeave:O,onDrop:function(e){return B(e,a)},onDragEnd:H,onClick:function(e){W||X||D(i,a,e)},onContextMenu:function(e){return null==N?void 0:N(i,a,e)}},{children:["none"!==s&&n(h,{selectionMode:s,checked:d,onChange:function(e){return P(i,a,e)}}),le.length>0&&n(y,{item:i,index:a,actions:le,onMenuToggle:j,isMenuOpen:ie,buttonRef:ae}),u.map(function(e,t){var o,r=String(e.key),l=S[r],c=R[r]||e.pinned||null,s=u.findIndex(function(e){return String(e.key)===r}),d="left"===c?F(e,s):0,f="right"===c?V(e,s):0,h=void 0!==_?_:a,g=!(!X||!Y)&&Y(h,r),m=X&&Z?Z(h,r):{isStart:!1,isEnd:!1,isInRange:!1,isTopRow:!1,isBottomRow:!1,isLeftCol:!1,isRightCol:!1,isCopied:!1},p=null!==(o=m.isCopied)&&void 0!==o&&o,v=X&&$&&ee?ee(r):{isInRange:!1,isLeftCol:!1,isRightCol:!1},y=v.isInRange;return n(C,{column:e,item:i,index:a,resizedWidth:l,pinPosition:c,leftOffset:d,rightOffset:f,lastLeftPinnedColumnKey:I,firstRightPinnedColumnKey:M,showTooltip:E,onDoubleClick:function(){return L(i,e,a)},renderCell:z,getCellText:A,enableCellSelection:X,isSelected:g,isRangeStart:m.isStart,isRangeEnd:m.isEnd,isInRange:m.isInRange,isTopRow:m.isTopRow,isBottomRow:m.isBottomRow,isLeftCol:m.isLeftCol,isRightCol:m.isRightCol,isInRangeColumn:y,isLeftColInRange:v.isLeftCol,isRightColInRange:v.isRightCol,isCopied:p,onMouseDown:X&&ne?function(e){return ne(h,r,e)}:void 0,onMouseEnter:X&&te?function(e){return te(h,r,e)}:void 0,onMouseUp:X&&oe?function(e){return oe(h,r,e)}:void 0},r)})]}),c),ie&&le.length>0&&n(b,{anchorRef:ae,actions:le,item:i,index:a,onDismiss:q})]})}function w(t){var r=t.data,l=t.columns,i=t.paginatedGroups,a=t.currentGroupBy,c=t.expandedGroups,u=t.selectionMode,s=t.selectedItems,d=t.activeItemIndex,f=t.focusedRowIndex,h=t.enableRowReorder,g=t.draggedRowIndex,m=t.dragOverRowIndex,p=t.isDragging,C=t.columnWidths,y=t.pinnedColumns,b=t.lastLeftPinnedColumnKey,w=t.firstRightPinnedColumnKey,k=t.showTooltip,S=t.onRenderRow,R=t.getItemKey,I=t.onItemClick,M=t.onItemContextMenu,E=t.onCheckboxChange,D=t.onCellEditStart,N=t.onRowDragStart,P=t.onRowDragOver,L=t.onRowDragLeave,K=t.onRowDrop,T=t.onRowDragEnd,O=t.renderCell,B=t.getCellText,H=t.getLeftOffset,z=t.getRightOffset,A=t.toggleGroup,F=t.filteredData,V=t.pagedData,W=t.rowActions,U=t.openMenuKey,G=t.onMenuToggle,j=t.onMenuDismiss,q=t.enableCellSelection,J=void 0!==q&&q,X=t.isCellSelected,_=t.getCellRangeInfo,Y=t.isRowAboveRange,Z=t.isColumnInRange,Q=t.getColumnRangeInfo,$=t.onCellMouseDown,ee=t.onCellMouseEnter,ne=t.onCellMouseUp,te=a?l.find(function(e){return e.key===a}):null,oe=(null==te?void 0:te.label)||(a?String(a):"");return n("tbody",{children:a&&i?i.map(function(t){var i=t[0],f=t[1],q=c.has(i);return e(o.Fragment,{children:[n(v,{groupKey:i,groupLabel:oe,rowCount:f.length,isExpanded:q,onToggle:function(){return A(i)},colSpan:l.length+("none"!==u?1:0)+(W?1:0)}),q&&f.map(function(e,t){var i=r.findIndex(function(n){return n===e}),c=i>=0?i:F.findIndex(function(n){return n===e}),f=i>=0?i:c>=0?c:t,v=V.findIndex(function(n){return n===e}),A=v>=0?v:t,q=R(e,f),te=s.has(q),oe=i>=0&&d===i,re=F.findIndex(function(n){return n===e}),le=re>=0?re:f,ie=h&&!a;return S?n(o.Fragment,{children:S(e,f,l)},q):n(x,{item:e,index:f,itemKey:q,columns:l,selectionMode:u,isSelected:te,isActive:oe,isFocused:!1,isDragging:g===le,isDragOver:m===le,canDrag:ie,columnWidths:C,pinnedColumns:y,lastLeftPinnedColumnKey:b,firstRightPinnedColumnKey:w,showTooltip:k,onItemClick:I,onItemContextMenu:M,onCheckboxChange:E,onCellEditStart:D,onDragStart:N,onDragOver:P,onDragLeave:L,onDrop:K,onDragEnd:T,renderCell:O,getCellText:B,getLeftOffset:H,getRightOffset:z,isDraggingState:p,rowActions:W,openMenuKey:U,onMenuToggle:G,onMenuDismiss:j,enableCellSelection:J,cellSelectionIndex:A,isCellSelected:X,getCellRangeInfo:_,isRowAboveRange:!!Y&&Y(A),isColumnInRange:Z,getColumnRangeInfo:Q,onCellMouseDown:$,onCellMouseEnter:ee,onCellMouseUp:ne},q)})]},i)}):V.map(function(e,t){var r=R(e,t),i=s.has(r),c=d===t,v=F.findIndex(function(n){return n===e}),A=v>=0?v:t,V=h&&!a;return S?n(o.Fragment,{children:S(e,t,l)},r):n(x,{item:e,index:t,itemKey:r,columns:l,selectionMode:u,isSelected:i,isActive:c,isFocused:f===t,isDragging:g===A,isDragOver:m===A,canDrag:V,columnWidths:C,pinnedColumns:y,lastLeftPinnedColumnKey:b,firstRightPinnedColumnKey:w,showTooltip:k,onItemClick:I,onItemContextMenu:M,onCheckboxChange:E,onCellEditStart:D,onDragStart:N,onDragOver:P,onDragLeave:L,onDrop:K,onDragEnd:T,renderCell:O,getCellText:B,getLeftOffset:H,getRightOffset:z,isDraggingState:p,rowActions:W,openMenuKey:U,onMenuToggle:G,onMenuDismiss:j,enableCellSelection:J,cellSelectionIndex:t,isCellSelected:X,getCellRangeInfo:_,isRowAboveRange:!!Y&&Y(t),isColumnInRange:Z,getColumnRangeInfo:Q,onCellMouseDown:$,onCellMouseEnter:ee,onCellMouseUp:ne},r)})})}function k(t){var o=t.columns,l=t.selectionMode,i=t.columnTotals,a=t.pinnedColumns,c=t.columnWidths,u=t.lastLeftPinnedColumnKey,s=t.firstRightPinnedColumnKey,d=t.totalCount,f=t.getLeftOffset,h=t.getRightOffset;return Object.values(i).some(function(e){return"count"===e})?n("tfoot",r({className:"th-totals-sticky"},{children:e("tr",r({className:"th-totals-row"},{children:["none"!==l&&n("td",{className:"th-selection-column"}),o.map(function(e){var t=String(e.key),l=i[t]||"none",g=a[t]||e.pinned||null,m=o.findIndex(function(e){return String(e.key)===t}),p="left"===g?f(e,m):0,v="right"===g?h(e,m):0,C=c[t],y=r(r({textAlign:e.align,width:C?"".concat(C,"px"):e.width,position:g?"sticky":"relative"},"left"===g?{left:"".concat(p,"px"),zIndex:11}:{}),"right"===g?{right:"".concat(v,"px"),zIndex:11}:{}),b=[g?"th-cell-pinned th-pinned-".concat(g):"","left"===g&&e.key===u?"th-pinned-last-left":"","right"===g&&e.key===s?"th-pinned-first-right":""].filter(Boolean).join(" "),x="";return"count"===l&&(x="Count: ".concat(d.toLocaleString())),n("td",r({style:y,className:b},{children:x}),t)})]}))})):null}function S(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function R(e,n,t,o){void 0===o&&(o="export"),"csv"===e?function(e,n,t){void 0===t&&(t="export");var o=a([n.map(function(e){return e.label}).join(",")],e.map(function(e){return n.map(function(n){var t=e[n.key];if(null==t)return"";var o=String(t);return o.includes(",")||o.includes('"')||o.includes("\n")?'"'.concat(o.replace(/"/g,'""'),'"'):o}).join(",")}),!0).join("\n"),r=new Blob(["\ufeff"+o],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),i=URL.createObjectURL(r);l.setAttribute("href",i),l.setAttribute("download","".concat(t,".csv")),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(i)}(n,t,o):function(e,n,t){void 0===t&&(t="export");var o=n.map(function(e){return e.label}),r=e.map(function(e){return n.map(function(n){var t=e[n.key];return null==t?"":t})}),l='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">\n';l+="<head>\n",l+='<meta charset="utf-8">\n',l+="\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Sheet1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e\n",l+="</head>\n",l+="<body>\n",l+="<table>\n",l+="<tr>\n",o.forEach(function(e){l+="<th>".concat(S(String(e)),"</th>\n")}),l+="</tr>\n",r.forEach(function(e){l+="<tr>\n",e.forEach(function(e){var n=null==e?"":String(e);l+="number"==typeof e?'<td style="mso-number-format:General">'.concat(n,"</td>\n"):"<td>".concat(S(n),"</td>\n")}),l+="</tr>\n"}),l+="</table>\n",l+="</body>\n",l+="</html>";var i=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a"),c=URL.createObjectURL(i);a.setAttribute("href",c),a.setAttribute("download","".concat(t,".xlsx")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(c)}(n,t,o)}function I(t){var l=t.data,i=t.columns,a=t.format,c=t.filename,u=t.onBeforeExport,s=t.onAfterExport,d=o.useState(!1),f=d[0],h=d[1],g=o.useCallback(function(e){h(!0);try{var n=i.filter(function(e){return e.key&&e.label}).map(function(e){return{key:e.key,label:e.label}}),t=l;if(u){var o=u(l,i);if(o)R(e,t=o.data,o.columns.filter(function(e){return e.key&&e.label}).map(function(e){return{key:e.key,label:e.label}}),c);else R(e,t,n,c)}else R(e,t,n,c);null==s||s(e,c)}catch(e){console.error("Export failed:",e)}finally{h(!1)}},[l,i,c,u,s]);return"both"===a?e("div",r({className:"th-export-buttons"},{children:[e("button",r({className:"th-export-button",onClick:function(){return g("csv")},disabled:f,title:"Export to CSV"},{children:[n("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:n("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),n("span",{children:"CSV"})]})),e("button",r({className:"th-export-button",onClick:function(){return g("excel")},disabled:f,title:"Export to Excel"},{children:[n("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:n("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),n("span",{children:"Excel"})]}))]})):e("button",r({className:"th-export-button",onClick:function(){return g(a)},disabled:f,title:"Export to ".concat("csv"===a?"CSV":"Excel")},{children:[n("svg",r({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:n("path",{d:"M2 2h12v12H2V2zm1 1v10h10V3H3zm1 1h8v1H4V4zm0 2h8v1H4V6zm0 2h8v1H4V8zm0 2h5v1H4v-1z",fill:"currentColor"})})),n("span",{children:"csv"===a?"CSV":"Excel"})]}))}var M={mode:"light",colors:{background:"#ffffff",surface:"#ffffff",headerBackground:"#faf9f8",rowBackground:"#ffffff",rowBackgroundAlternate:"#f9f9f9",selectedRowBackground:"#edebe9",hoverRowBackground:"#f3f2f1",groupHeaderBackground:"#f3f2f1",text:"#323130",textSecondary:"#605e5c",headerText:"#323130",rowText:"#323130",selectedRowText:"#323130",border:"#edebe9",borderLight:"#f1f1f1",rowBorder:"#f1f1f1",focus:"#107c10",focusBorder:"#107c10",hover:"#f3f2f1",active:"#edebe9",disabled:"#a19f9d",primary:"#107c10",success:"#107c10",warning:"#ffaa44",error:"#d13438"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.08)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.132), 0 0.6px 1.8px rgba(0, 0, 0, 0.108)",panel:"-2px 0 8px rgba(0, 0, 0, 0.15), -1px 0 2px rgba(0, 0, 0, 0.1)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}},E={mode:"dark",colors:{background:"#1a1a1a",surface:"#252526",headerBackground:"#2d2d30",rowBackground:"#252526",rowBackgroundAlternate:"#2d2d30",selectedRowBackground:"#3e3e42",hoverRowBackground:"#2d2d30",groupHeaderBackground:"#2d2d30",text:"#cccccc",textSecondary:"#858585",headerText:"#cccccc",rowText:"#cccccc",selectedRowText:"#ffffff",border:"#3e3e42",borderLight:"#2d2d30",rowBorder:"#3e3e42",focus:"#4ec9b0",focusBorder:"#4ec9b0",hover:"#2d2d30",active:"#3e3e42",disabled:"#858585",primary:"#4ec9b0",success:"#4ec9b0",warning:"#dcdcaa",error:"#f48771"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.3)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.4), 0 0.6px 1.8px rgba(0, 0, 0, 0.3)",panel:"-2px 0 8px rgba(0, 0, 0, 0.4), -1px 0 2px rgba(0, 0, 0, 0.3)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}};function D(e){if(!e)return M;if("string"==typeof e)return"dark"===e?E:M;var n="dark"===e.mode?E:M;return r(r(r({},n),e),{colors:r(r({},n.colors),e.colors),spacing:e.spacing?r(r({},n.spacing),e.spacing):n.spacing,typography:e.typography?r(r({},n.typography),e.typography):n.typography,borderRadius:e.borderRadius?r(r({},n.borderRadius),e.borderRadius):n.borderRadius,shadows:e.shadows?r(r({},n.shadows),e.shadows):n.shadows,transitions:e.transitions?r(r({},n.transitions),e.transitions):n.transitions})}function N(e){var n=e.colors,t=e.spacing,o=e.typography,r=e.borderRadius,l=e.shadows,i=e.transitions;return{"--th-color-background":n.background,"--th-color-surface":n.surface,"--th-color-header-background":n.headerBackground,"--th-color-row-background":n.rowBackground,"--th-color-row-background-alternate":n.rowBackgroundAlternate,"--th-color-selected-row-background":n.selectedRowBackground,"--th-color-hover-row-background":n.hoverRowBackground,"--th-color-group-header-background":n.groupHeaderBackground,"--th-color-text":n.text,"--th-color-text-secondary":n.textSecondary,"--th-color-header-text":n.headerText,"--th-color-row-text":n.rowText,"--th-color-selected-row-text":n.selectedRowText,"--th-color-border":n.border,"--th-color-border-light":n.borderLight,"--th-color-row-border":n.rowBorder,"--th-color-focus":n.focus,"--th-color-focus-border":n.focusBorder,"--th-color-hover":n.hover,"--th-color-active":n.active,"--th-color-disabled":n.disabled,"--th-color-primary":n.primary,"--th-color-success":n.success,"--th-color-warning":n.warning,"--th-color-error":n.error,"--th-spacing-cell-padding":null==t?void 0:t.cellPadding,"--th-spacing-header-padding":null==t?void 0:t.headerPadding,"--th-spacing-row-height":null==t?void 0:t.rowHeight,"--th-spacing-row-height-compact":null==t?void 0:t.rowHeightCompact,"--th-spacing-row-height-spacious":null==t?void 0:t.rowHeightSpacious,"--th-spacing-gap":null==t?void 0:t.gap,"--th-typography-font-family":null==o?void 0:o.fontFamily,"--th-typography-font-size":null==o?void 0:o.fontSize,"--th-typography-font-size-small":null==o?void 0:o.fontSizeSmall,"--th-typography-font-size-large":null==o?void 0:o.fontSizeLarge,"--th-typography-font-weight":null==o?void 0:o.fontWeight,"--th-typography-font-weight-bold":null==o?void 0:o.fontWeightBold,"--th-typography-line-height":null==o?void 0:o.lineHeight,"--th-border-radius-table":null==r?void 0:r.table,"--th-border-radius-cell":null==r?void 0:r.cell,"--th-border-radius-button":null==r?void 0:r.button,"--th-shadow-table":null==l?void 0:l.table,"--th-shadow-header":null==l?void 0:l.header,"--th-shadow-callout":null==l?void 0:l.callout,"--th-shadow-panel":null==l?void 0:l.panel,"--th-transition-duration":null==i?void 0:i.duration,"--th-transition-easing":null==i?void 0:i.easing}}function P(t){var h=t.columns,g=t.data,m=t.itemsPerPage,v=void 0===m?10:m,C=t.groupBy,y=t.onRenderCell,b=t.onRenderRow,x=t.onRenderHeader;t.onItemInvoked;var S=t.onColumnHeaderClick,R=t.getKey,M=t.onActiveItemChanged,E=t.onItemContextMenu,P=t.className,L=t.styles,K=t.selectionMode,T=void 0===K?"none":K,O=t.onSelectionChanged,B=t.showPagination,H=void 0===B||B,z=t.itemsPerPageOptions,A=t.onItemsPerPageChange,F=t.theme,V=t.maxHeight,W=t.onCellEdit,U=t.pinnedColumns,G=t.onColumnPin,j=t.showTooltip,q=void 0===j||j,J=t.loading,X=void 0!==J&&J,_=t.onRenderLoading,Y=t.emptyMessage,Z=t.onRenderEmpty,Q=t.stickyHeader,$=void 0!==Q&&Q,ee=t.enableColumnVisibility,ne=t.onColumnVisibilityChange,te=t.enableColumnReorder,oe=t.onColumnReorder,re=t.enableKeyboardNavigation,le=void 0===re||re,ie=t.enableRowReorder,ae=void 0!==ie&&ie,ce=t.onRowReorder,ue=t.enableExport,se=void 0!==ue&&ue,de=t.exportFormat,fe=void 0===de?"both":de,he=t.exportFileName,ge=void 0===he?"export":he,me=t.onBeforeExport,pe=t.onAfterExport,ve=t.rowActions,Ce=t.enableCellSelection,ye=void 0!==Ce&&Ce;!function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}}(t,["columns","data","itemsPerPage","groupBy","onRenderCell","onRenderRow","onRenderHeader","onItemInvoked","onColumnHeaderClick","getKey","onActiveItemChanged","onItemContextMenu","className","styles","selectionMode","onSelectionChanged","showPagination","itemsPerPageOptions","onItemsPerPageChange","theme","maxHeight","onCellEdit","pinnedColumns","onColumnPin","showTooltip","loading","onRenderLoading","emptyMessage","onRenderEmpty","stickyHeader","enableColumnVisibility","onColumnVisibilityChange","enableColumnReorder","onColumnReorder","enableKeyboardNavigation","enableRowReorder","onRowReorder","enableExport","exportFormat","exportFileName","onBeforeExport","onAfterExport","rowActions","enableCellSelection"]);var be=o.useState(v),xe=be[0],we=be[1];o.useEffect(function(){we(v)},[v]);var ke=H?z||[10,25,50,100]:z,Se=o.useCallback(function(e){we(e),null==A||A(e)},[A]),Re=H?xe:Number.MAX_SAFE_INTEGER,Ie=c(g,Re),Me=o.useRef({}),Ee=o.useRef(null),De=o.useState({}),Ne=De[0],Pe=De[1],Le=o.useState(null),Ke=Le[0],Te=Le[1],Oe=o.useState(null),Be=Oe[0],He=Oe[1],ze=o.useState(C),Ae=ze[0],Fe=ze[1];o.useEffect(function(){void 0!==C&&Fe(C)},[C]);var Ve=void 0!==C?C:Ae,We=o.useState(new Set),Ue=We[0],Ge=We[1],je=function(e,n,t,l,i,c,u){var s=o.useState(n||{}),d=s[0],f=s[1],h=o.useState(new Set(e.map(function(e){return e.key}))),g=h[0],m=h[1],p=o.useState(e.map(function(e){return e.key})),v=p[0],C=p[1],y=o.useState(null),b=y[0],x=y[1],w=o.useState(null),k=w[0],S=w[1];o.useEffect(function(){t&&l&&l(Array.from(g))},[g,t,l]),o.useEffect(function(){i&&c&&c(v)},[v,i,c]);var R=o.useCallback(function(e){m(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})},[]),I=o.useCallback(function(e,n){f(function(t){var o=r({},t);return null===n?delete o[String(e)]:o[String(e)]=n,o}),null==u||u(e,n)},[u]),M=o.useCallback(function(e){i&&x(e)},[i]),E=o.useCallback(function(e,n){i&&b&&b!==n&&(e.preventDefault(),S(n))},[i,b]),D=o.useCallback(function(e){i&&b&&b!==e&&(C(function(n){var t=a([],n,!0),o=t.indexOf(b),r=t.indexOf(e);return t.splice(o,1),t.splice(r,0,b),t}),x(null),S(null))},[i,b]),N=o.useMemo(function(){return t?e.filter(function(e){return g.has(e.key)}):e},[e,g,t]),P=o.useMemo(function(){if(!i)return N;var e=new Map(v.map(function(e,n){return[e,n]}));return a([],N,!0).sort(function(n,t){var o,r;return(null!==(o=e.get(n.key))&&void 0!==o?o:1/0)-(null!==(r=e.get(t.key))&&void 0!==r?r:1/0)})},[N,v,i]),L=o.useMemo(function(){var e=[],n=[],t=[];return P.forEach(function(o){var r=d[String(o.key)]||o.pinned||null;"left"===r?e.push(o):"right"===r?t.push(o):n.push(o)}),a(a(a([],e,!0),n,!0),t,!0)},[P,d]);return{internalPinnedColumns:d,visibleColumns:g,columnOrder:v,draggedColumn:b,dragOverColumn:k,sortedColumns:L,handleToggleColumnVisibility:R,handleColumnPin:I,handleColumnDragStart:M,handleColumnDragOver:E,handleColumnDrop:D}}(h,U,ee,ne,te,oe,G),qe=je.internalPinnedColumns,Je=je.dragOverColumn,Xe=je.sortedColumns,_e=je.handleToggleColumnVisibility,Ye=je.handleColumnPin,Ze=je.handleColumnDragStart,Qe=je.handleColumnDragOver,$e=je.handleColumnDrop,en=function(e,n,t,r,l){var i=o.useState(new Set),c=i[0],u=i[1],s=o.useState(void 0),d=s[0],f=s[1],h=o.useCallback(function(e,n){return l?l(e,n):void 0!==e.id?e.id:n},[l]),g=o.useCallback(function(o,l,i){var a=h(o,l);u(function(o){var r=new Set(o);if("single"===n?(r.clear(),i&&r.add(a)):"multiple"===n&&(i?r.add(a):r.delete(a)),t){var l=e.filter(function(e,n){return r.has(h(e,n))});t(l)}return r}),f(l),r&&r(o,l)},[n,h,t,r,e]),m=o.useCallback(function(o,l,i){if(!i.target.closest(".th-selection-checkbox")){if("none"!==n){var a=h(o,l);u(function(o){var r=new Set(o);if("single"===n?(r.clear(),r.add(a)):"multiple"===n&&(i.ctrlKey||i.metaKey?r.has(a)?r.delete(a):r.add(a):(r.clear(),r.add(a))),t){var l=e.filter(function(e,n){return r.has(h(e,n))});t(l)}return r})}f(l),r&&r(o,l)}},[n,h,t,r,e]),p=o.useCallback(function(o){"multiple"===n&&u(function(n){var r=o?new Set(e.map(function(e,n){return h(e,n)})):new Set;if(t){var l=o?a([],e,!0):[];t(l)}return r})},[n,e,h,t]),v=o.useMemo(function(){return"multiple"===n&&0!==e.length&&e.every(function(e,n){return c.has(h(e,n))})},[n,e,c,h]),C=o.useMemo(function(){if("multiple"!==n||0===e.length)return!1;var t=e.filter(function(e,n){return c.has(h(e,n))}).length;return t>0&&t<e.length},[n,e,c,h]),y=o.useCallback(function(e,n){return c.has(h(e,n))},[c,h]);return{selectedItems:c,activeItemIndex:d,isAllSelected:v,isIndeterminate:C,getItemKey:h,handleCheckboxChange:g,handleItemClick:m,handleSelectAll:p,isItemSelected:y,setSelectedItems:u}}(g,T,O,M,R),nn=en.selectedItems,tn=en.activeItemIndex,on=en.isAllSelected,rn=en.isIndeterminate,ln=en.getItemKey,an=en.handleCheckboxChange,cn=en.handleItemClick,un=en.handleSelectAll,sn=en.setSelectedItems,dn=o.useCallback(function(e,n){var t=ln(e,n),o="".concat(String(t),"-").concat(n);He(function(e){return e===o?null:o})},[ln]),fn=o.useCallback(function(){He(null)},[]),hn=function(e,n){var t=o.useState({}),l=t[0],i=t[1],a=o.useState(null),c=a[0],u=a[1],s=o.useState(0);s[0];var d=s[1],f=o.useState(0);f[0];var h=f[1],g=o.useCallback(function(n,t){var o,l;t.preventDefault(),t.stopPropagation();var a=String(n),c=null===(l=null===(o=e.current)||void 0===o?void 0:o[a])||void 0===l?void 0:l.parentElement;if(c){var s=c.offsetWidth,f=t.clientX;u(a),document.body.style.cursor="col-resize",document.body.style.userSelect="none",d(f),h(s);var g=function(e){var n=e.clientX-f,t=Math.max(50,s+n);i(function(e){var n;return r(r({},e),((n={})[a]=t,n))})},m=function(){document.body.style.cursor="",document.body.style.userSelect="",u(null),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",m)}},[e,n]);return{columnWidths:l,resizingColumn:c,handleResizeStart:g}}(Me),gn=hn.columnWidths,mn=hn.resizingColumn,pn=hn.handleResizeStart,vn=function(e){var n=o.useState(null),t=n[0],r=n[1],l=o.useRef(null),i=o.useCallback(function(n){e||(l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(n)},150))},[e]),a=o.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(null)},200)},[]),c=o.useCallback(function(){l.current&&clearTimeout(l.current)},[]),u=o.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){r(null)},200)},[]),s=o.useCallback(function(){l.current&&clearTimeout(l.current),r(null)},[]);return o.useEffect(function(){return function(){l.current&&clearTimeout(l.current)}},[]),{calloutKey:t,setCalloutKey:r,handleHeaderMouseEnter:i,handleHeaderMouseLeave:a,handleCalloutMouseEnter:c,handleCalloutMouseLeave:u,dismissCallout:s}}(mn),Cn=function(e,n,t){void 0===t&&(t=!0);var r=o.useState(new Set),l=r[0],i=r[1],a=o.useState(null),c=a[0],u=a[1],s=o.useState(!1),d=s[0],f=s[1],h=o.useState(null),g=h[0],m=h[1],p=o.useState(!1),v=p[0],C=p[1],y=o.useCallback(function(e,n){return"".concat(e,"-").concat(n)},[]),b=o.useCallback(function(e,t){var o,r,l=Math.min(e.rowIndex,t.rowIndex),i=Math.max(e.rowIndex,t.rowIndex),a=n.findIndex(function(n){return String(n.key)===e.colKey}),c=n.findIndex(function(e){return String(e.key)===t.colKey}),u=a>=0?a:0,s=c>=0?c:n.length-1,d=Math.min(u,s),f=Math.max(u,s);return{start:{rowIndex:l,colKey:String((null===(o=n[Math.max(0,d)])||void 0===o?void 0:o.key)||e.colKey)},end:{rowIndex:i,colKey:String((null===(r=n[Math.min(n.length-1,f)])||void 0===r?void 0:r.key)||t.colKey)}}},[n]),x=o.useCallback(function(e){for(var t=[],o=Math.min(e.start.rowIndex,e.end.rowIndex),r=Math.max(e.start.rowIndex,e.end.rowIndex),l=n.findIndex(function(n){return String(n.key)===e.start.colKey}),i=n.findIndex(function(n){return String(n.key)===e.end.colKey}),a=l>=0?l:0,c=i>=0?i:n.length-1,u=Math.min(a,c),s=Math.max(a,c),d=o;d<=r;d++)for(var f=u;f<=s;f++)n[f]&&t.push({rowIndex:d,colKey:String(n[f].key)});return t},[n]),w=o.useCallback(function(e,n,o){if(t){var r={rowIndex:e,colKey:n};if(m(r),f(!0),o&&c){var l=b(c.start,r);u(l);var a=x(l);i(new Set(a.map(function(e){return y(e.rowIndex,e.colKey)})))}else u({start:r,end:r}),i(new Set([y(e,n)]))}},[t,c,b,x,y]),k=o.useCallback(function(e,n){if(t&&d&&g){var o=b(g,{rowIndex:e,colKey:n});u(o);var r=x(o);i(new Set(r.map(function(e){return y(e.rowIndex,e.colKey)})))}},[t,d,g,b,x,y]),S=o.useCallback(function(){f(!1),m(null)},[]),R=o.useCallback(function(){i(new Set),u(null),f(!1),m(null),C(!1)},[]),I=o.useCallback(function(e){C(e)},[]),M=o.useCallback(function(e,n){return l.has(y(e,n))},[l,y]),E=o.useCallback(function(){return c?x(c):Array.from(l).map(function(e){var n=e.split("-"),t=n[0],o=n[1];return{rowIndex:parseInt(t,10),colKey:o}})},[c,l,x]),D=o.useCallback(function(){return c},[c]);return{selectedCells:l,selectedRange:c,isSelecting:d,isCopied:v,startSelection:w,updateSelection:k,endSelection:S,clearSelection:R,setCopied:I,isCellSelected:M,getSelectedCells:E,getSelectedRange:D}}(Ie.paged,Xe,ye),yn=function(){var e=this,n=o.useState(null),t=n[0],r=n[1],c=o.useState(!1),u=c[0],s=c[1],d=o.useState([]),f=d[0],h=d[1],g=o.useCallback(function(e,n,t){if(0!==e.length){var o=a([],e,!0).sort(function(e,n){return e.rowIndex!==n.rowIndex?e.rowIndex-n.rowIndex:t.findIndex(function(n){return String(n.key)===e.colKey})-t.findIndex(function(e){return String(e.key)===n.colKey})}),l=new Map;o.forEach(function(e){l.has(e.rowIndex)||l.set(e.rowIndex,[]),l.get(e.rowIndex).push(e)});var i=[];l.forEach(function(e,o){var r=[];e.sort(function(e,n){return t.findIndex(function(n){return String(n.key)===e.colKey})-t.findIndex(function(e){return String(e.key)===n.colKey})}),e.forEach(function(e){var t=n[o];if(t){var l=t[e.colKey];r.push(null!=l?String(l):"")}else r.push("")}),i.push(r)}),r(i),s(!1),h([]);var c=i.map(function(e){return e.join("\t")}).join("\n");navigator.clipboard&&navigator.clipboard.writeText&&navigator.clipboard.writeText(c).catch(function(){var e=document.createElement("textarea");e.value=c,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)})}},[]),m=o.useCallback(function(e,n,t){g(e,n,t),s(!0),h(e)},[g]),p=o.useCallback(function(e,n,o,r){if(t&&0!==t.length&&0!==e.length){if(1===t.length&&1===t[0].length){var l=t[0][0];e.forEach(function(e){var t=n[e.rowIndex];t&&r(t,e.colKey,l,e.rowIndex)})}else{var i=e[0];t.forEach(function(e,t){var l=i.rowIndex+t;if(!(l>=n.length)){var a=n[l];if(a){var c=o.findIndex(function(e){return String(e.key)===i.colKey});-1!==c&&e.forEach(function(e,n){var t=c+n;if(!(t>=o.length)){var i=o[t];r(a,i.key,e,l)}})}}})}u&&f.length>0&&(f.forEach(function(e){var t=n[e.rowIndex];t&&r(t,e.colKey,"",e.rowIndex)}),s(!1),h([]))}},[t,u,f]),v=o.useCallback(function(n,t,o,r){return l(e,void 0,void 0,function(){var e,l,a,c,u,s,d;return i(this,function(i){switch(i.label){case 0:if(0===n.length)return[2,!1];i.label=1;case 1:return i.trys.push([1,5,,6]),e="",navigator.clipboard&&navigator.clipboard.readText?[4,navigator.clipboard.readText()]:[3,3];case 2:return e=i.sent(),[3,4];case 3:return[2,!1];case 4:return e&&0!==e.trim().length?0===(l=e.split(/\r?\n/).filter(function(e){return e.trim().length>0})).length||0===(a=l.map(function(e){for(var n=[],t="",o=!1,r=0;r<e.length;r++){var l=e[r];'"'===l?o&&'"'===e[r+1]?(t+='"',r++):o=!o:"\t"!==l||o?t+=l:(n.push(t),t="")}return n.push(t),n})).length||0===a[0].length?[2,!1]:(c=n[0],1===a.length&&1===a[0].length?(u=a[0][0],n.forEach(function(e){var n=t[e.rowIndex];n&&r(n,e.colKey,u,e.rowIndex)}),[2,!0]):(s=!1,a.forEach(function(e,n){var l=c.rowIndex+n;if(!(l>=t.length)){var i=t[l];if(i){var a=o.findIndex(function(e){return String(e.key)===c.colKey});-1!==a&&e.forEach(function(e,n){var t=a+n;if(!(t>=o.length)){var c=o[t];r(i,c.key,e,l),s=!0}})}}}),[2,s])):[2,!1];case 5:return d=i.sent(),console.warn("Failed to read from clipboard:",d),[2,!1];case 6:return[2]}})})},[]),C=o.useCallback(function(){return null!==t&&t.length>0},[t]),y=o.useCallback(function(){return t},[t]),b=o.useCallback(function(){r(null),s(!1),h([])},[]);return{copyCells:g,cutCells:m,pasteCells:p,pasteFromSystemClipboard:v,canPaste:C,getClipboardData:y,clearClipboard:b}}(),bn=function(e){var n=e.initialData,t=e.maxHistorySize,r=void 0===t?50:t,l=e.onDataChange,i=e.enabled,c=void 0===i||i,u=o.useState([{data:n,timestamp:Date.now()}]),s=u[0],d=u[1],f=o.useState(0),h=f[0],g=f[1],m=o.useMemo(function(){var e;return(null===(e=s[h])||void 0===e?void 0:e.data)||n},[s,h,n]),p=o.useCallback(function(e,n){if(c){if(JSON.stringify(e)!==JSON.stringify(m)){var t=s.slice(0,h+1),o={data:e,description:n,timestamp:Date.now()},i=a(a([],t,!0),[o],!1);i.length>r?(i.shift(),g(function(e){return Math.max(0,e-1)})):g(i.length-1),d(i),null==l||l(e)}}else null==l||l(e)},[c,s,h,r,l,m]),v=o.useCallback(function(){return!(!c||h<=0||(g(h-1),0))},[c,h]),C=o.useCallback(function(){return!(!c||h>=s.length-1||(g(h+1),0))},[c,s,h]),y=o.useCallback(function(){if(c){var e={data:m,timestamp:Date.now()};d([e]),g(0)}},[c,m]),b=o.useRef(null),x=o.useRef(!0);o.useEffect(function(){var e;if(x.current)return x.current=!1,void(b.current=h);if(c&&l&&h!==b.current){b.current=h;var t=(null===(e=s[h])||void 0===e?void 0:e.data)||n;l(t)}},[c,h,s,n,l]);var w=c&&h>0,k=c&&h<s.length-1;return{data:m,setData:p,undo:v,redo:C,canUndo:w,canRedo:k,historyIndex:h,historySize:s.length,clearHistory:y}}({initialData:g,maxHistorySize:50,enabled:ye,onDataChange:function(e){if(W&&ye){var n=g;e.forEach(function(e,t){var o=n[t];o&&Xe.forEach(function(n){var r=n.key,l=e[r],i=o[r];JSON.stringify(l)!==JSON.stringify(i)&&W(e,r,l,t)})})}}}),xn=ye?bn.data:g,wn=o.useCallback(function(e,n,t,o){var l;if(ye){var i=a([],xn,!0),c=i.findIndex(function(n){return n===e||void 0!==n.id&&void 0!==e.id&&n.id===e.id});c>=0&&(i[c]=r(r({},i[c]),((l={})[n]=t,l)),bn.setData(i,"Edit cell ".concat(String(n))))}null==W||W(e,n,t,o)},[ye,xn,bn,W]),kn=o.useCallback(function(e,n,t,o){ye&&bn.setData(e,"Reorder row from ".concat(t," to ").concat(o)),null==ce||ce(e,n,t,o)},[ye,bn,ce]);o.useEffect(function(){ye&&JSON.stringify(g)!==JSON.stringify(bn.data)&&bn.historyIndex===bn.historySize-1&&bn.setData(g,"External data update")},[g,ye,bn]);var Sn=function(e){var n=o.useState(null),t=n[0],r=n[1],l=o.useState(""),i=l[0],a=l[1],c=o.useRef(null),u=o.useCallback(function(e,n,t){var o;!0===n.editable&&(r({rowIndex:t,columnKey:n.key}),a(String(null!==(o=e[n.key])&&void 0!==o?o:"")))},[]),s=o.useCallback(function(n,t,o){e&&e(n,t,i,o),r(null),a("")},[e,i]),d=o.useCallback(function(){r(null),a("")},[]);return o.useEffect(function(){t&&c.current&&(c.current.focus(),c.current.select())},[t]),{editingCell:t,editValue:i,editInputRef:c,setEditValue:a,handleCellEditStart:u,handleCellEditSave:s,handleCellEditCancel:d}}(ye?wn:W),Rn=Sn.editingCell,In=Sn.editValue,Mn=Sn.editInputRef,En=Sn.setEditValue,Dn=Sn.handleCellEditStart,Nn=Sn.handleCellEditSave,Pn=Sn.handleCellEditCancel,Ln=function(e,n,t,r,l){var i=o.useState(null),c=i[0],u=i[1],s=o.useState(null),d=s[0],f=s[1],h=o.useState(!1),g=h[0],m=h[1],p=o.useState(null),v=p[0],C=p[1],y=v||n;o.useEffect(function(){C(null)},[n]);var b=o.useCallback(function(n,t){e?(n.stopPropagation(),m(!0),u(t),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text/plain",String(t)),n.currentTarget&&(n.currentTarget.style.opacity="0.5")):n.preventDefault()},[e]),x=o.useCallback(function(n,t){e&&null!==c&&(n.preventDefault(),n.dataTransfer.dropEffect="move",d!==t&&f(t))},[e,c,d]),w=o.useCallback(function(n){e&&(n.currentTarget===n.target||n.currentTarget.contains(n.relatedTarget)||f(null))},[e]),k=o.useCallback(function(n,o){if(!e||null===c||c===o)return u(null),void f(null);if(n.preventDefault(),n.stopPropagation(),r)return u(null),void f(null);var i=a([],y,!0),s=t[c],d=t[o],h=i.findIndex(function(e){return e===s}),g=i.findIndex(function(e){return e===d});if(-1===h||-1===g||h===g)return u(null),void f(null);var m=a([],i,!0),p=m[h];m.splice(h,1);var v=h<g?g-1:g;m.splice(v,0,p),C(m),l&&l(m,p,h,v),u(null),f(null)},[e,c,r,t,y,l]),S=o.useCallback(function(n){e&&(n.currentTarget&&(n.currentTarget.style.opacity="1"),m(!1),u(null),f(null),setTimeout(function(){m(!1)},100))},[e]);return{draggedRowIndex:c,dragOverRowIndex:d,isDragging:g,reorderedData:v,effectiveData:y,handleRowDragStart:b,handleRowDragOver:x,handleRowDragLeave:w,handleRowDrop:k,handleRowDragEnd:S}}(ae,ye?xn:g,Ie.filtered,Ve,ye?kn:ce),Kn=Ln.draggedRowIndex,Tn=Ln.dragOverRowIndex,On=Ln.isDragging,Bn=Ln.effectiveData,Hn=Ln.handleRowDragStart,zn=Ln.handleRowDragOver,An=Ln.handleRowDragLeave,Fn=Ln.handleRowDrop,Vn=Ln.handleRowDragEnd,Wn=o.useCallback(function(e,n,t){if(ye){t.stopPropagation();var o=t.shiftKey;Cn.startSelection(e,n,o),Cn.setCopied(!1)}},[ye,Cn]),Un=o.useCallback(function(e,n,t){ye&&Cn.isSelecting&&Cn.updateSelection(e,n)},[ye,Cn]),Gn=o.useCallback(function(e,n,t){ye&&Cn.endSelection()},[ye,Cn]),jn=o.useCallback(function(e,n){if(!ye||!Cn.selectedRange)return{isStart:!1,isEnd:!1,isInRange:!1,isTopRow:!1,isBottomRow:!1,isLeftCol:!1,isRightCol:!1,isCopied:!1};var t=Cn.selectedRange,o=Math.min(t.start.rowIndex,t.end.rowIndex),r=Math.max(t.start.rowIndex,t.end.rowIndex),l=Xe.findIndex(function(e){return String(e.key)===t.start.colKey}),i=Xe.findIndex(function(e){return String(e.key)===t.end.colKey}),a=Math.min(l>=0?l:0,i>=0?i:Xe.length-1),c=Math.max(l>=0?l:0,i>=0?i:Xe.length-1),u=Xe.findIndex(function(e){return String(e.key)===n});return{isStart:t.start.rowIndex===e&&t.start.colKey===n,isEnd:t.end.rowIndex===e&&t.end.colKey===n,isInRange:Cn.isCellSelected(e,n),isTopRow:e===o,isBottomRow:e===r,isLeftCol:u===a,isRightCol:u===c,isCopied:Cn.isCopied}},[ye,Cn,Xe]),qn=o.useCallback(function(e){if(!ye||!Cn.selectedRange)return!1;var n=Cn.selectedRange,t=Math.min(n.start.rowIndex,n.end.rowIndex);return t>0&&e===t-1},[ye,Cn]),Jn=o.useCallback(function(){if(!ye||!Cn.selectedRange)return!1;var e=Cn.selectedRange;return 0===Math.min(e.start.rowIndex,e.end.rowIndex)},[ye,Cn]),Xn=o.useCallback(function(e){if(!ye||!Cn.selectedRange)return!1;var n=Cn.selectedRange,t=Xe.findIndex(function(e){return String(e.key)===n.start.colKey}),o=Xe.findIndex(function(e){return String(e.key)===n.end.colKey}),r=Math.min(t>=0?t:0,o>=0?o:Xe.length-1),l=Math.max(t>=0?t:0,o>=0?o:Xe.length-1),i=Xe.findIndex(function(n){return String(n.key)===e});return i>=r&&i<=l},[ye,Cn,Xe]),_n=o.useCallback(function(e){if(!ye||!Cn.selectedRange)return{isInRange:!1,isLeftCol:!1,isRightCol:!1};var n=Cn.selectedRange,t=Xe.findIndex(function(e){return String(e.key)===n.start.colKey}),o=Xe.findIndex(function(e){return String(e.key)===n.end.colKey}),r=Math.min(t>=0?t:0,o>=0?o:Xe.length-1),l=Math.max(t>=0?t:0,o>=0?o:Xe.length-1),i=Xe.findIndex(function(n){return String(n.key)===e});return{isInRange:i>=r&&i<=l,isLeftCol:i===r,isRightCol:i===l}},[ye,Cn,Xe]);o.useEffect(function(){if(ye){var e=function(e){if(Ee.current){var n=e.target;n&&!Ee.current.contains(n)&&Cn.clearSelection()}};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}},[ye,Cn]),o.useEffect(function(){if(ye){var e=function(e){var n=document.activeElement;if(Ee.current&&n&&Ee.current.contains(n))if((e.ctrlKey||e.metaKey)&&"c"===e.key)(l=Cn.getSelectedCells()).length>0&&(e.preventDefault(),yn.copyCells(l,Ie.paged,Xe.map(function(e){return{key:e.key,label:e.label}})),Cn.setCopied(!0));else if((e.ctrlKey||e.metaKey)&&"x"===e.key){(l=Cn.getSelectedCells()).length>0&&(e.preventDefault(),yn.cutCells(l,Ie.paged,Xe.map(function(e){return{key:e.key,label:e.label}})))}else if((e.ctrlKey||e.metaKey)&&"v"===e.key){var t=Cn.getSelectedCells();if(t.length>0){e.preventDefault();var o=Ve?Ie.filtered:xn,r=ye?wn:W;r&&yn.pasteFromSystemClipboard(t,o,Xe.map(function(e){return{key:e.key,label:e.label}}),r).then(function(e){!e&&yn.canPaste()&&yn.pasteCells(t,o,Xe.map(function(e){return{key:e.key,label:e.label}}),r)}).catch(function(){yn.canPaste()&&yn.pasteCells(t,o,Xe.map(function(e){return{key:e.key,label:e.label}}),r)})}}else if("Delete"===e.key||"Backspace"===e.key){var l;if((l=Cn.getSelectedCells()).length>0){e.preventDefault();var i=Ve?Ie.filtered:xn,a=ye?wn:W;a&&l.forEach(function(e){var n=i[e.rowIndex];if(n){var t=xn.findIndex(function(e){return e===n});a(n,e.colKey,"",t>=0?t:e.rowIndex)}})}}else!e.ctrlKey&&!e.metaKey||"z"!==e.key||e.shiftKey?(e.ctrlKey||e.metaKey)&&("y"===e.key||"z"===e.key&&e.shiftKey)?(e.preventDefault(),bn.redo()):"Escape"===e.key&&(Cn.clearSelection(),Cn.setCopied(!1)):(e.preventDefault(),bn.undo())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[ye,Cn,yn,Ie.paged,Xe,W,Ve,xn,wn,bn]);var Yn=o.useMemo(function(){return Ke?Array.from(new Set(g.map(function(e){return String(e[Ke])}))):[]},[Ke,g]);o.useEffect(function(){Ve&&Ie.setCurrentPage(1)},[Ve]);var Zn=o.useMemo(function(){if(!Ve)return null;var e={};return(Ie.sortKey?a([],Ie.filtered,!0).sort(function(e,n){var t=e[Ie.sortKey],o=n[Ie.sortKey];if(null==t)return 1;if(null==o)return-1;if(t===o)return 0;var r=String(t).localeCompare(String(o),void 0,{numeric:!0,sensitivity:"base"});return"asc"===Ie.sortDir?r:-r}):Ie.filtered).forEach(function(n){var t=String(n[Ve]);e[t]||(e[t]=[]),e[t].push(n)}),e},[Ie.filtered,Ie.sortKey,Ie.sortDir,Ve]);o.useEffect(function(){if(Ve&&Zn){var e=Object.keys(Zn).length,n=Math.ceil(e/Ie.itemsPerPage);Ie.currentPage>n&&n>0&&Ie.setCurrentPage(1)}},[Zn,Ve,Ie.itemsPerPage,Ie.currentPage,Ie.setCurrentPage]);var Qn=o.useMemo(function(){if(!Ve||!Zn)return null;var e=Object.entries(Zn);e.sort(function(e,n){var t=e[0],o=n[0];return t.localeCompare(o)});var n=(Ie.currentPage-1)*Ie.itemsPerPage,t=n+Ie.itemsPerPage;return e.slice(n,t)},[Zn,Ie.currentPage,Ie.itemsPerPage,Ve]);o.useEffect(function(){Ve&&Zn?Ge(new Set(Object.keys(Zn))):Ve||Ge(new Set)},[Ve,Zn]);var $n=o.useCallback(function(e,n){var t,o,r;if(n.onRenderCell){var l=n.onRenderCell(e,n.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(t=e[n.key])&&void 0!==t?t:"")}if(y){l=y(e,n.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(o=e[n.key])&&void 0!==o?o:"")}return String(null!==(r=e[n.key])&&void 0!==r?r:"")},[y]),et=o.useCallback(function(e,t,o){var r;return(null==Rn?void 0:Rn.rowIndex)===o&&(null==Rn?void 0:Rn.columnKey)===t.key&&t.editable&&W?n("input",{ref:Mn,type:"text",className:"th-cell-edit-input",value:In,onChange:function(e){return En(e.target.value)},onBlur:function(){return Nn(e,t.key,o)},onKeyDown:function(n){"Enter"===n.key?Nn(e,t.key,o):"Escape"===n.key&&Pn()},onClick:function(e){return e.stopPropagation()}}):t.onRenderCell?t.onRenderCell(e,t.key,o):y?y(e,t.key,o):String(null!==(r=e[t.key])&&void 0!==r?r:"")},[y,Rn,In,Nn,Pn]),nt=o.useMemo(function(){return D(F)},[F]),tt=o.useMemo(function(){return N(nt)},[nt]),ot=o.useMemo(function(){return Ve&&Qn?Qn.flatMap(function(e){return e[0],e[1]}):Ie.paged},[Ve,Qn,Ie.paged]),rt=function(e,n,t,r,l,i,a){var c=o.useState(null),u=c[0],s=c[1];return o.useEffect(function(){if(n&&e.current&&!t){var o=function(e){if(!t&&0!==r.length){var n=null!=u?u:0;switch(e.key){case"ArrowDown":e.preventDefault(),n=Math.min(n+1,r.length-1),s(n);break;case"ArrowUp":e.preventDefault(),n=Math.max(n-1,0),s(n);break;case"Enter":case" ":if(e.preventDefault(),null!==u&&"none"!==l){var o=r[u],c=i(o,u);null==a||a(new Set([c]))}break;case"Escape":e.preventDefault(),s(null),null==a||a(new Set)}}};return e.current.addEventListener("keydown",o),function(){var n;null===(n=e.current)||void 0===n||n.removeEventListener("keydown",o)}}},[n,t,u,l,r,i,a,e]),{focusedRowIndex:u,setFocusedRowIndex:s}}(Ee,le,X,ot,T,ln,function(e){return sn(e)}),lt=rt.focusedRowIndex,it=g.length>0,at=!X&&!it,ct=!X&&it,ut=o.useCallback(function(e,n){var t=String(e.key);if("left"!==(qe[t]||e.pinned||null))return 0;var o=0;"none"!==T&&(o+=48);for(var r=0;r<n;r++){var l=Xe[r];if("left"===(qe[String(l.key)]||l.pinned||null))o+=gn[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return o},[Xe,qe,gn,T]),st=o.useCallback(function(e,n){var t=String(e.key);if("right"!==(qe[t]||e.pinned||null))return 0;for(var o=0,r=n+1;r<Xe.length;r++){var l=Xe[r];if("right"===(qe[String(l.key)]||l.pinned||null))o+=gn[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return o},[Xe,qe,gn]),dt=o.useMemo(function(){for(var e=null,n=0;n<Xe.length;n++){var t=Xe[n];if("left"===(qe[String(t.key)]||t.pinned||null))e=t.key;else if(null!==e)break}return e},[Xe,qe]),ft=o.useMemo(function(){for(var e=0;e<Xe.length;e++){var n=Xe[e];if("right"===(qe[String(n.key)]||n.pinned||null))return n.key}return null},[Xe,qe]);return e("div",r({ref:Ee,className:"th-table ".concat(P||""," th-theme-").concat(nt.mode||"light"," ").concat(mn?"resizing":""," ").concat($?"th-sticky-header":""," ").concat(ye?"enable-cell-selection":""),style:r(r(r(r({},tt),L),V?{maxHeight:"number"==typeof V?"".concat(V,"px"):V,overflow:"auto"}:{}),mn?{cursor:"col-resize"}:{}),tabIndex:ye||le?0:void 0},{children:[se&&n("div",r({className:"th-export-toolbar"},{children:n(I,{data:Ie.filtered,columns:Xe,format:fe,filename:ge,onBeforeExport:me,onAfterExport:pe})})),X&&n(d,{columns:Xe,itemsPerPage:v,selectionMode:T,onRenderLoading:_}),at&&n(f,{emptyMessage:Y,onRenderEmpty:Z}),ct&&n("div",r({style:r({overflowX:"auto",overflowY:$&&!V?"auto":"visible",width:"100%"},$&&!V?{maxHeight:"calc(100vh - 200px)"}:{})},{children:e("table",{children:[n(p,{columns:Xe,selectionMode:T,isAllSelected:on,isIndeterminate:rn,onSelectAll:un,columnWidths:gn,pinnedColumns:qe,lastLeftPinnedColumnKey:dt,firstRightPinnedColumnKey:ft,stickyHeader:$,enableColumnReorder:te||!1,dragOverColumn:Je,sortKey:Ie.sortKey,sortDir:Ie.sortDir,filters:Ie.filters,anchorRefs:Me,calloutKey:vn.calloutKey,resizingColumn:mn,onRenderHeader:x,onColumnHeaderClick:S,onHeaderMouseEnter:vn.handleHeaderMouseEnter,onHeaderMouseLeave:vn.handleHeaderMouseLeave,onCalloutMouseEnter:vn.handleCalloutMouseEnter,onCalloutMouseLeave:vn.handleCalloutMouseLeave,onColumnDragStart:Ze,onColumnDragOver:Qe,onColumnDrop:$e,onResizeStart:pn,onSortAsc:function(e){!1!==e.sortable&&Ie.handleSort(e.key,"asc")},onSortDesc:function(e){!1!==e.sortable&&Ie.handleSort(e.key,"desc")},onFilter:function(e){var n;!1!==e.filterable&&(n=e.key,Te(String(n)),vn.dismissCallout())},onClearFilter:function(e){!1!==e.filterable&&Ie.setFilter(String(e.key),[])},onPinLeft:function(e){return Ye(e.key,"left")},onPinRight:function(e){return Ye(e.key,"right")},onUnpin:function(e){return Ye(e.key,null)},onToggleVisibility:function(e){ee&&_e(e.key)},onGroupBy:function(e){Ve===e.key?Fe(void 0):Fe(e.key)},currentGroupBy:Ve,enableColumnVisibility:ee||!1,enableGroupBy:!0,enableTotals:!0,onTotalsChange:function(e,n){Pe(function(t){var o;return r(r({},t),((o={})[String(e.key)]=n,o))})},columnTotals:Ne,getLeftOffset:ut,getRightOffset:st,dismissCallout:vn.dismissCallout,enableRowActions:!!ve,enableCellSelection:ye,isRangeFromFirstRow:Jn(),isColumnInRange:Xn,getColumnRangeInfo:_n,isCopied:Cn.isCopied}),n(w,{data:ye?xn:ae?Bn:g,columns:Xe,paginatedGroups:Qn||void 0,currentGroupBy:Ve,expandedGroups:Ue,selectionMode:T,selectedItems:nn,activeItemIndex:tn,focusedRowIndex:null!=lt?lt:void 0,enableRowReorder:ae,draggedRowIndex:Kn,dragOverRowIndex:Tn,isDragging:On,columnWidths:gn,pinnedColumns:qe,lastLeftPinnedColumnKey:dt||void 0,firstRightPinnedColumnKey:ft||void 0,showTooltip:q,onRenderRow:b,getItemKey:ln,onItemClick:cn,onItemContextMenu:E,onCheckboxChange:an,onCellEditStart:Dn,onRowDragStart:Hn,onRowDragOver:zn,onRowDragLeave:An,onRowDrop:Fn,onRowDragEnd:Vn,renderCell:et,getCellText:$n,getLeftOffset:ut,getRightOffset:st,toggleGroup:function(e){Ge(function(n){var t=new Set(n);return t.has(e)?t.delete(e):t.add(e),t})},filteredData:Ie.filtered,pagedData:Ie.paged,rowActions:ve,openMenuKey:Be,onMenuToggle:dn,onMenuDismiss:fn,enableCellSelection:ye,isCellSelected:Cn.isCellSelected,getCellRangeInfo:jn,isRowAboveRange:qn,isColumnInRange:Xn,getColumnRangeInfo:_n,onCellMouseDown:Wn,onCellMouseEnter:Un,onCellMouseUp:Gn}),n(k,{columns:Xe,selectionMode:T,columnTotals:Ne,pinnedColumns:qe,columnWidths:gn,lastLeftPinnedColumnKey:dt||void 0,firstRightPinnedColumnKey:ft||void 0,totalCount:Ie.filtered.length,getLeftOffset:ut,getRightOffset:st})]})})),ct&&H&&n(u,{totalItems:Ve&&Zn?Object.keys(Zn).length:Ie.filtered.length,itemsPerPage:Ie.itemsPerPage,currentPage:Ie.currentPage,onPageChange:Ie.setCurrentPage,itemsPerPageOptions:ke,onItemsPerPageChange:function(e){Se(e),Ie.setCurrentPage(1)}}),Ke&&n(s,{field:Ke,values:Yn,selected:Ie.filters[Ke]||[],onApply:function(e){Ie.setFilter(Ke,e),Te(null)},onDismiss:function(){return Te(null)}})]}))}export{P as ReactTabletify,N as applyTheme,E as defaultDarkTheme,M as defaultLightTheme,D as getTheme,c as useTable};
