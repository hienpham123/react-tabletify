import{jsxs as e,jsx as t,Fragment as n}from"react/jsx-runtime";import*as r from"react";var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};function l(e,t,n){if(n||2===arguments.length)for(var r,o=0,l=t.length;o<l;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function i(e,t){void 0===t&&(t=10);var n=r.useState(""),i=n[0],a=n[1],c=r.useState(null),u=c[0],s=c[1],d=r.useState("asc"),h=d[0],f=d[1],g=r.useState(1),p=g[0],m=g[1],v=r.useState({}),y=v[0],b=v[1],k=r.useMemo(function(){var t=e;if(Object.entries(y).forEach(function(e){var n=e[0],r=e[1];r.length>0&&(t=t.filter(function(e){return r.includes(String(e[n]))}))}),i.trim()){var n=i.toLowerCase();t=t.filter(function(e){return Object.values(e).some(function(e){return String(e).toLowerCase().includes(n)})})}return t},[e,i,y]),C=r.useMemo(function(){return u?l([],k,!0).sort(function(e,t){var n=e[u],r=t[u];if(null==n)return 1;if(null==r)return-1;if(n===r)return 0;var o=String(n).localeCompare(String(r),void 0,{numeric:!0,sensitivity:"base"});return"asc"===h?o:-o}):k},[k,u,h]),w=Math.ceil(C.length/t),x=r.useMemo(function(){var e=(p-1)*t;return C.slice(e,e+t)},[C,p,t]);return r.useEffect(function(){m(1)},[i,u,h,y]),{filtered:k,paged:x,currentPage:p,setCurrentPage:m,totalPages:w,itemsPerPage:t,search:i,setSearch:a,sortKey:u,sortDir:h,handleSort:function(e,t){t?(s(e),f(t)):u===e?f(function(e){return"asc"===e?"desc":"asc"}):(s(e),f("asc"))},filters:y,setFilter:function(e,t){b(function(n){var r=o({},n);return 0===t.length?delete r[e]:r[e]=t,r})}}}"function"==typeof SuppressedError&&SuppressedError;var a=function(r){var l=r.totalItems,i=r.itemsPerPage,a=r.currentPage,c=r.onPageChange,u=r.maxVisible,s=void 0===u?5:u,d=Math.ceil(l/i);if(d<=1)return null;var h=Math.floor(s/2),f=Math.max(1,a-h),g=Math.min(d,f+s-1);g-f<s-1&&(f=Math.max(1,g-s+1));var p=Array.from({length:g-f+1},function(e,t){return f+t}),m=function(e){e<1||e>d||e===a||c(e)};return e("div",o({className:"th-pagination"},{children:[t("button",o({onClick:function(){return m(a-1)},disabled:1===a,className:"th-pagination-btn"},{children:"Prev"})),f>1&&e(n,{children:[t("button",o({className:"th-pagination-btn",onClick:function(){return m(1)}},{children:"1"})),f>2&&t("span",o({className:"th-pagination-ellipsis"},{children:"..."}))]}),p.map(function(e){return t("button",o({onClick:function(){return m(e)},className:"th-pagination-btn ".concat(e===a?"th-page-active":"")},{children:e}),e)}),g<d&&e(n,{children:[g<d-1&&t("span",o({className:"th-pagination-ellipsis"},{children:"..."})),t("button",o({className:"th-pagination-btn",onClick:function(){return m(d)}},{children:d}))]}),t("button",o({onClick:function(){return m(a+1)},disabled:a===d,className:"th-pagination-btn"},{children:"Next"}))]}))};function c(l){var i=l.anchorRef,a=l.onSortAsc,c=l.onSortDesc,u=l.onFilter,s=l.onClearFilter,d=l.onPinLeft,h=l.onPinRight,f=l.onUnpin,g=l.onToggleVisibility;l.onDismiss;var p=l.onMouseEnter,m=l.onMouseLeave,v=l.sortable,y=void 0===v||v,b=l.filterable,k=void 0===b||b,C=l.hasFilter,w=void 0!==C&&C,x=l.pinned,S=void 0===x?null:x,N=l.visible,P=void 0===N||N,R=l.enableColumnVisibility,M=void 0!==R&&R;l.enableColumnReorder;var I=r.useRef(null);if(!i.current)return null;var E=i.current.getBoundingClientRect();return e("div",o({ref:I,className:"th-callout",style:{top:E.bottom+6,left:E.left,position:"fixed"},onMouseEnter:p,onMouseLeave:m},{children:[y&&e(n,{children:[e("button",o({onClick:a,className:"th-callout-item"},{children:[t("span",o({className:"th-callout-icon"},{children:"â†‘"})),t("span",o({className:"th-callout-text"},{children:"A to Z"}))]})),e("button",o({onClick:c,className:"th-callout-item"},{children:[t("span",o({className:"th-callout-icon"},{children:"â†“"})),t("span",o({className:"th-callout-text"},{children:"Z to A"}))]}))]}),y&&k&&t("hr",{className:"th-callout-divider"}),k&&w&&s&&t("button",o({onClick:s,className:"th-callout-item"},{children:t("span",o({className:"th-callout-text"},{children:"Clear filter"}))})),k&&w&&s&&t("hr",{className:"th-callout-divider"}),k&&t("button",o({onClick:u,className:"th-callout-item"},{children:t("span",o({className:"th-callout-text"},{children:"Filter by"}))})),(d||h||f)&&t("hr",{className:"th-callout-divider"}),null===S&&d&&t("button",o({onClick:d,className:"th-callout-item"},{children:t("span",o({className:"th-callout-text"},{children:"Pin left"}))})),null===S&&h&&t("button",o({onClick:h,className:"th-callout-item"},{children:t("span",o({className:"th-callout-text"},{children:"Pin right"}))})),null!==S&&f&&t("button",o({onClick:f,className:"th-callout-item"},{children:t("span",o({className:"th-callout-text"},{children:"Unpin"}))})),M&&g&&e(n,{children:[t("hr",{className:"th-callout-divider"}),t("button",o({onClick:g,className:"th-callout-item"},{children:t("span",o({className:"th-callout-text"},{children:P?"Hide column":"Show column"}))}))]})]}))}function u(n){var i=n.field,a=n.values,c=n.selected,u=n.onApply,s=n.onDismiss,d=r.useState(c),h=d[0],f=d[1],g=r.useState(""),p=g[0],m=g[1];r.useEffect(function(){f(c),m("")},[i]);var v=r.useMemo(function(){if(!p.trim())return a;var e=p.toLowerCase();return a.filter(function(t){return t.toLowerCase().includes(e)})},[a,p]);return e("div",o({className:"th-filter-panel open"},{children:[e("div",o({className:"th-filter-header"},{children:[e("strong",{children:["Filter by '",i,"'"]}),t("button",o({className:"th-filter-close",onClick:s,"aria-label":"Close"},{children:t("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:t("path",{d:"M12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8 7.29289L3.85355 3.14645C3.65829 2.95118 3.34171 2.95118 3.14645 3.14645C2.95118 3.34171 2.95118 3.65829 3.14645 3.85355L7.29289 8L3.14645 12.1464C2.95118 12.3417 2.95118 12.6583 3.14645 12.8536C3.34171 13.0488 3.65829 13.0488 3.85355 12.8536L8 8.70711L12.1464 12.8536C12.3417 13.0488 12.6583 13.0488 12.8536 12.8536C13.0488 12.6583 13.0488 12.3417 12.8536 12.1464L8.70711 8L12.8536 3.85355Z",fill:"currentColor"})}))}))]})),e("div",o({className:"th-filter-content"},{children:[t("div",o({className:"th-filter-search"},{children:t("input",{type:"text",className:"th-filter-search-input",placeholder:"Select ".concat(i," to display..."),value:p,onChange:function(e){return m(e.target.value)}})})),t("div",o({className:"th-filter-options-list"},{children:v.length>0?v.map(function(n){return e("div",o({className:"th-filter-option"},{children:[t("input",{type:"checkbox",id:"filter-".concat(i,"-").concat(n),checked:h.includes(n),onChange:function(){return function(e){f(function(t){return t.includes(e)?t.filter(function(t){return t!==e}):l(l([],t,!0),[e],!1)})}(n)}}),t("label",o({htmlFor:"filter-".concat(i,"-").concat(n)},{children:n}))]}),n)}):t("div",o({className:"th-filter-no-results"},{children:"No results found"}))}))]})),e("div",o({className:"th-filter-footer"},{children:[t("button",o({className:"th-btn",onClick:function(){f([])}},{children:"Clear all"})),t("button",o({className:"th-btn primary",onClick:function(){return u(h)}},{children:"Apply"}))]}))]}))}function s(r){var l=r.columns,i=r.itemsPerPage,a=r.selectionMode,c=r.onRenderLoading;return c?t(n,{children:c()}):e("div",o({className:"th-loading-skeleton"},{children:[e("div",o({className:"th-skeleton-header"},{children:["none"!==a&&t("div",{className:"th-skeleton-cell",style:{width:"48px"}}),l.map(function(e,n){return t("div",{className:"th-skeleton-cell",style:{width:e.width||"150px"}},n)})]})),Array.from({length:i}).map(function(n,r){return e("div",o({className:"th-skeleton-row"},{children:["none"!==a&&t("div",{className:"th-skeleton-cell",style:{width:"48px"}}),l.map(function(e,n){return t("div",{className:"th-skeleton-cell",style:{width:e.width||"150px"}},n)})]}),r)})]}))}function d(r){var l=r.emptyMessage,i=r.onRenderEmpty;return i?t(n,{children:i()}):e("div",o({className:"th-empty-state"},{children:[t("div",o({className:"th-empty-icon"},{children:"ðŸ“‹"})),t("div",o({className:"th-empty-message"},{children:l||"No data available"}))]}))}var h={mode:"light",colors:{background:"#ffffff",surface:"#ffffff",headerBackground:"#faf9f8",rowBackground:"#ffffff",rowBackgroundAlternate:"#f9f9f9",selectedRowBackground:"#edebe9",hoverRowBackground:"#f3f2f1",groupHeaderBackground:"#f3f2f1",text:"#323130",textSecondary:"#605e5c",headerText:"#323130",rowText:"#323130",selectedRowText:"#323130",border:"#edebe9",borderLight:"#f1f1f1",rowBorder:"#f1f1f1",focus:"#107c10",focusBorder:"#107c10",hover:"#f3f2f1",active:"#edebe9",disabled:"#a19f9d",primary:"#107c10",success:"#107c10",warning:"#ffaa44",error:"#d13438"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.08)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.132), 0 0.6px 1.8px rgba(0, 0, 0, 0.108)",panel:"-2px 0 8px rgba(0, 0, 0, 0.15), -1px 0 2px rgba(0, 0, 0, 0.1)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}},f={mode:"dark",colors:{background:"#1a1a1a",surface:"#252526",headerBackground:"#2d2d30",rowBackground:"#252526",rowBackgroundAlternate:"#2d2d30",selectedRowBackground:"#3e3e42",hoverRowBackground:"#2d2d30",groupHeaderBackground:"#2d2d30",text:"#cccccc",textSecondary:"#858585",headerText:"#cccccc",rowText:"#cccccc",selectedRowText:"#ffffff",border:"#3e3e42",borderLight:"#2d2d30",rowBorder:"#3e3e42",focus:"#4ec9b0",focusBorder:"#4ec9b0",hover:"#2d2d30",active:"#3e3e42",disabled:"#858585",primary:"#4ec9b0",success:"#4ec9b0",warning:"#dcdcaa",error:"#f48771"},spacing:{cellPadding:"10px 12px",headerPadding:"10px 12px",rowHeight:"auto",rowHeightCompact:"32px",rowHeightSpacious:"56px",gap:"8px"},typography:{fontFamily:'"Segoe UI", "Segoe UI Web (West European)", "Segoe UI", -apple-system, BlinkMacSystemFont, "Roboto", "Helvetica Neue", sans-serif',fontSize:"14px",fontSizeSmall:"12px",fontSizeLarge:"16px",fontWeight:"400",fontWeightBold:"600",lineHeight:"20px"},borderRadius:{table:"8px",cell:"0",button:"2px"},shadows:{table:"0 2px 8px rgba(0,0,0,0.3)",header:"none",callout:"0 3.2px 7.2px rgba(0, 0, 0, 0.4), 0 0.6px 1.8px rgba(0, 0, 0, 0.3)",panel:"-2px 0 8px rgba(0, 0, 0, 0.4), -1px 0 2px rgba(0, 0, 0, 0.3)"},transitions:{duration:"0.1s",easing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}};function g(e){if(!e)return h;if("string"==typeof e)return"dark"===e?f:h;var t="dark"===e.mode?f:h;return o(o(o({},t),e),{colors:o(o({},t.colors),e.colors),spacing:e.spacing?o(o({},t.spacing),e.spacing):t.spacing,typography:e.typography?o(o({},t.typography),e.typography):t.typography,borderRadius:e.borderRadius?o(o({},t.borderRadius),e.borderRadius):t.borderRadius,shadows:e.shadows?o(o({},t.shadows),e.shadows):t.shadows,transitions:e.transitions?o(o({},t.transitions),e.transitions):t.transitions})}function p(e){var t=e.colors,n=e.spacing,r=e.typography,o=e.borderRadius,l=e.shadows,i=e.transitions;return{"--th-color-background":t.background,"--th-color-surface":t.surface,"--th-color-header-background":t.headerBackground,"--th-color-row-background":t.rowBackground,"--th-color-row-background-alternate":t.rowBackgroundAlternate,"--th-color-selected-row-background":t.selectedRowBackground,"--th-color-hover-row-background":t.hoverRowBackground,"--th-color-group-header-background":t.groupHeaderBackground,"--th-color-text":t.text,"--th-color-text-secondary":t.textSecondary,"--th-color-header-text":t.headerText,"--th-color-row-text":t.rowText,"--th-color-selected-row-text":t.selectedRowText,"--th-color-border":t.border,"--th-color-border-light":t.borderLight,"--th-color-row-border":t.rowBorder,"--th-color-focus":t.focus,"--th-color-focus-border":t.focusBorder,"--th-color-hover":t.hover,"--th-color-active":t.active,"--th-color-disabled":t.disabled,"--th-color-primary":t.primary,"--th-color-success":t.success,"--th-color-warning":t.warning,"--th-color-error":t.error,"--th-spacing-cell-padding":null==n?void 0:n.cellPadding,"--th-spacing-header-padding":null==n?void 0:n.headerPadding,"--th-spacing-row-height":null==n?void 0:n.rowHeight,"--th-spacing-row-height-compact":null==n?void 0:n.rowHeightCompact,"--th-spacing-row-height-spacious":null==n?void 0:n.rowHeightSpacious,"--th-spacing-gap":null==n?void 0:n.gap,"--th-typography-font-family":null==r?void 0:r.fontFamily,"--th-typography-font-size":null==r?void 0:r.fontSize,"--th-typography-font-size-small":null==r?void 0:r.fontSizeSmall,"--th-typography-font-size-large":null==r?void 0:r.fontSizeLarge,"--th-typography-font-weight":null==r?void 0:r.fontWeight,"--th-typography-font-weight-bold":null==r?void 0:r.fontWeightBold,"--th-typography-line-height":null==r?void 0:r.lineHeight,"--th-border-radius-table":null==o?void 0:o.table,"--th-border-radius-cell":null==o?void 0:o.cell,"--th-border-radius-button":null==o?void 0:o.button,"--th-shadow-table":null==l?void 0:l.table,"--th-shadow-header":null==l?void 0:l.header,"--th-shadow-callout":null==l?void 0:l.callout,"--th-shadow-panel":null==l?void 0:l.panel,"--th-transition-duration":null==i?void 0:i.duration,"--th-transition-easing":null==i?void 0:i.easing}}function m(n){var h=n.columns,f=n.data,m=n.itemsPerPage,v=void 0===m?10:m,y=n.groupBy,b=n.onRenderCell,k=n.onRenderRow,C=n.onRenderHeader;n.onItemInvoked;var w=n.onColumnHeaderClick,x=n.getKey,S=n.onActiveItemChanged,N=n.onItemContextMenu,P=n.className,R=n.styles,M=n.selectionMode,I=void 0===M?"none":M,E=n.onSelectionChanged,L=n.showPagination,B=void 0===L||L,z=n.theme,H=n.maxHeight,D=n.onCellEdit,A=n.pinnedColumns,F=n.onColumnPin,O=n.showTooltip,T=void 0===O||O,K=n.loading,W=void 0!==K&&K,V=n.onRenderLoading,j=n.emptyMessage,U=n.onRenderEmpty,q=n.stickyHeader,X=void 0!==q&&q,Z=n.enableColumnVisibility,G=n.onColumnVisibilityChange,J=n.enableColumnReorder,Q=n.onColumnReorder,Y=n.enableKeyboardNavigation,$=void 0===Y||Y;!function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}}(n,["columns","data","itemsPerPage","groupBy","onRenderCell","onRenderRow","onRenderHeader","onItemInvoked","onColumnHeaderClick","getKey","onActiveItemChanged","onItemContextMenu","className","styles","selectionMode","onSelectionChanged","showPagination","theme","maxHeight","onCellEdit","pinnedColumns","onColumnPin","showTooltip","loading","onRenderLoading","emptyMessage","onRenderEmpty","stickyHeader","enableColumnVisibility","onColumnVisibilityChange","enableColumnReorder","onColumnReorder","enableKeyboardNavigation"]);var _=i(f,v),ee=r.useRef({}),te=r.useRef(null),ne=r.useState(null),re=ne[0],oe=ne[1],le=r.useState(new Set),ie=le[0],ae=le[1],ce=function(e,t,n,i,a,c,u){var s=r.useState(t||{}),d=s[0],h=s[1],f=r.useState(new Set(e.map(function(e){return e.key}))),g=f[0],p=f[1],m=r.useState(e.map(function(e){return e.key})),v=m[0],y=m[1],b=r.useState(null),k=b[0],C=b[1],w=r.useState(null),x=w[0],S=w[1];r.useEffect(function(){n&&i&&i(Array.from(g))},[g,n,i]),r.useEffect(function(){a&&c&&c(v)},[v,a,c]);var N=r.useCallback(function(e){p(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),P=r.useCallback(function(e,t){h(function(n){var r=o({},n);return null===t?delete r[String(e)]:r[String(e)]=t,r}),null==u||u(e,t)},[u]),R=r.useCallback(function(e){a&&C(e)},[a]),M=r.useCallback(function(e,t){a&&k&&k!==t&&(e.preventDefault(),S(t))},[a,k]),I=r.useCallback(function(e){a&&k&&k!==e&&(y(function(t){var n=l([],t,!0),r=n.indexOf(k),o=n.indexOf(e);return n.splice(r,1),n.splice(o,0,k),n}),C(null),S(null))},[a,k]),E=r.useMemo(function(){return n?e.filter(function(e){return g.has(e.key)}):e},[e,g,n]),L=r.useMemo(function(){if(!a)return E;var e=new Map(v.map(function(e,t){return[e,t]}));return l([],E,!0).sort(function(t,n){var r,o;return(null!==(r=e.get(t.key))&&void 0!==r?r:1/0)-(null!==(o=e.get(n.key))&&void 0!==o?o:1/0)})},[E,v,a]),B=r.useMemo(function(){var e=[],t=[],n=[];return L.forEach(function(r){var o=d[String(r.key)]||r.pinned||null;"left"===o?e.push(r):"right"===o?n.push(r):t.push(r)}),l(l(l([],e,!0),t,!0),n,!0)},[L,d]);return{internalPinnedColumns:d,visibleColumns:g,columnOrder:v,draggedColumn:k,dragOverColumn:x,sortedColumns:B,handleToggleColumnVisibility:N,handleColumnPin:P,handleColumnDragStart:R,handleColumnDragOver:M,handleColumnDrop:I}}(h,A,Z,G,J,Q,F),ue=ce.internalPinnedColumns,se=ce.visibleColumns,de=ce.dragOverColumn,he=ce.sortedColumns,fe=ce.handleToggleColumnVisibility,ge=ce.handleColumnPin,pe=ce.handleColumnDragStart,me=ce.handleColumnDragOver,ve=ce.handleColumnDrop,ye=function(e,t,n,o,i){var a=r.useState(new Set),c=a[0],u=a[1],s=r.useState(void 0),d=s[0],h=s[1],f=r.useCallback(function(e,t){return i?i(e,t):void 0!==e.id?e.id:t},[i]),g=r.useCallback(function(r,l,i){var a=f(r,l);u(function(r){var o=new Set(r);if("single"===t?(o.clear(),i&&o.add(a)):"multiple"===t&&(i?o.add(a):o.delete(a)),n){var l=e.filter(function(e,t){return o.has(f(e,t))});n(l)}return o}),h(l),o&&o(r,l)},[t,f,n,o,e]),p=r.useCallback(function(r,l,i){if(!i.target.closest(".th-selection-checkbox")){if("none"!==t){var a=f(r,l);u(function(r){var o=new Set(r);if("single"===t?(o.clear(),o.add(a)):"multiple"===t&&(i.ctrlKey||i.metaKey?o.has(a)?o.delete(a):o.add(a):(o.clear(),o.add(a))),n){var l=e.filter(function(e,t){return o.has(f(e,t))});n(l)}return o})}h(l),o&&o(r,l)}},[t,f,n,o,e]),m=r.useCallback(function(r){"multiple"===t&&u(function(t){var o=r?new Set(e.map(function(e,t){return f(e,t)})):new Set;if(n){var i=r?l([],e,!0):[];n(i)}return o})},[t,e,f,n]),v=r.useMemo(function(){return"multiple"===t&&0!==e.length&&e.every(function(e,t){return c.has(f(e,t))})},[t,e,c,f]),y=r.useMemo(function(){if("multiple"!==t||0===e.length)return!1;var n=e.filter(function(e,t){return c.has(f(e,t))}).length;return n>0&&n<e.length},[t,e,c,f]),b=r.useCallback(function(e,t){return c.has(f(e,t))},[c,f]);return{selectedItems:c,activeItemIndex:d,isAllSelected:v,isIndeterminate:y,getItemKey:f,handleCheckboxChange:g,handleItemClick:p,handleSelectAll:m,isItemSelected:b,setSelectedItems:u}}(f,I,E,S,x),be=ye.selectedItems,ke=ye.activeItemIndex,Ce=ye.isAllSelected,we=ye.isIndeterminate,xe=ye.getItemKey,Se=ye.handleCheckboxChange,Ne=ye.handleItemClick,Pe=ye.handleSelectAll,Re=ye.setSelectedItems,Me=function(e,t){var n=r.useState({}),l=n[0],i=n[1],a=r.useState(null),c=a[0],u=a[1],s=r.useState(0);s[0];var d=s[1],h=r.useState(0);h[0];var f=h[1],g=r.useCallback(function(t,n){var r,l;n.preventDefault(),n.stopPropagation();var a=String(t),c=null===(l=null===(r=e.current)||void 0===r?void 0:r[a])||void 0===l?void 0:l.parentElement;if(c){var s=c.offsetWidth,h=n.clientX;u(a),document.body.style.cursor="col-resize",document.body.style.userSelect="none",d(h),f(s);var g=function(e){var t=e.clientX-h,n=Math.max(50,s+t);i(function(e){var t;return o(o({},e),((t={})[a]=n,t))})},p=function(){document.body.style.cursor="",document.body.style.userSelect="",u(null),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",p)}},[e,t]);return{columnWidths:l,resizingColumn:c,handleResizeStart:g}}(ee),Ie=Me.columnWidths,Ee=Me.resizingColumn,Le=Me.handleResizeStart,Be=function(e){var t=r.useState(null),n=t[0],o=t[1],l=r.useRef(null),i=r.useCallback(function(t){e||(l.current&&clearTimeout(l.current),l.current=setTimeout(function(){o(t)},150))},[e]),a=r.useCallback(function(){l.current&&clearTimeout(l.current),l.current=setTimeout(function(){o(null)},200)},[]),c=r.useCallback(function(){l.current&&clearTimeout(l.current),o(null)},[]);return r.useEffect(function(){return function(){l.current&&clearTimeout(l.current)}},[]),{calloutKey:n,setCalloutKey:o,handleHeaderMouseEnter:i,handleHeaderMouseLeave:a,dismissCallout:c}}(Ee),ze=function(e){var t=r.useState(null),n=t[0],o=t[1],l=r.useState(""),i=l[0],a=l[1],c=r.useRef(null),u=r.useCallback(function(e,t,n){var r;!0===t.editable&&(o({rowIndex:n,columnKey:t.key}),a(String(null!==(r=e[t.key])&&void 0!==r?r:"")))},[]),s=r.useCallback(function(t,n,r){e&&e(t,n,i,r),o(null),a("")},[e,i]),d=r.useCallback(function(){o(null),a("")},[]);return r.useEffect(function(){n&&c.current&&(c.current.focus(),c.current.select())},[n]),{editingCell:n,editValue:i,editInputRef:c,setEditValue:a,handleCellEditStart:u,handleCellEditSave:s,handleCellEditCancel:d}}(D),He=ze.editingCell,De=ze.editValue,Ae=ze.editInputRef,Fe=ze.setEditValue,Oe=ze.handleCellEditStart,Te=ze.handleCellEditSave,Ke=ze.handleCellEditCancel,We=r.useMemo(function(){return re?Array.from(new Set(f.map(function(e){return String(e[re])}))):[]},[re,f]);r.useEffect(function(){y&&_.setCurrentPage(1)},[y]);var Ve=r.useMemo(function(){if(!y)return null;var e={};return(_.sortKey?l([],_.filtered,!0).sort(function(e,t){var n=e[_.sortKey],r=t[_.sortKey];if(null==n)return 1;if(null==r)return-1;if(n===r)return 0;var o=String(n).localeCompare(String(r),void 0,{numeric:!0,sensitivity:"base"});return"asc"===_.sortDir?o:-o}):_.filtered).forEach(function(t){var n=String(t[y]);e[n]||(e[n]=[]),e[n].push(t)}),e},[_.filtered,_.sortKey,_.sortDir,y]);r.useEffect(function(){if(y&&Ve){var e=Object.keys(Ve).length,t=Math.ceil(e/_.itemsPerPage);_.currentPage>t&&t>0&&_.setCurrentPage(1)}},[Ve,y,_.itemsPerPage,_.currentPage,_.setCurrentPage]);var je=r.useMemo(function(){if(!y||!Ve)return null;var e=Object.entries(Ve);e.sort(function(e,t){var n=e[0],r=t[0];return n.localeCompare(r)});var t=(_.currentPage-1)*_.itemsPerPage,n=t+_.itemsPerPage;return e.slice(t,n)},[Ve,_.currentPage,_.itemsPerPage,y]),Ue=r.useCallback(function(e,t){var n,r,o;if(t.onRenderCell){var l=t.onRenderCell(e,t.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(n=e[t.key])&&void 0!==n?n:"")}if(b){l=b(e,t.key,0);return String("string"==typeof l||"number"==typeof l?l:null!==(r=e[t.key])&&void 0!==r?r:"")}return String(null!==(o=e[t.key])&&void 0!==o?o:"")},[b]),qe=r.useCallback(function(e,n,r){var o;return(null==He?void 0:He.rowIndex)===r&&(null==He?void 0:He.columnKey)===n.key&&n.editable&&D?t("input",{ref:Ae,type:"text",className:"th-cell-edit-input",value:De,onChange:function(e){return Fe(e.target.value)},onBlur:function(){return Te(e,n.key,r)},onKeyDown:function(t){"Enter"===t.key?Te(e,n.key,r):"Escape"===t.key&&Ke()},onClick:function(e){return e.stopPropagation()}}):n.onRenderCell?n.onRenderCell(e,n.key,r):b?b(e,n.key,r):String(null!==(o=e[n.key])&&void 0!==o?o:"")},[b,He,De,Te,Ke]),Xe=r.useMemo(function(){return g(z)},[z]),Ze=r.useMemo(function(){return p(Xe)},[Xe]),Ge=r.useMemo(function(){return y&&je?je.flatMap(function(e){return e[0],e[1]}):_.paged},[y,je,_.paged]),Je=function(e,t,n,o,l,i,a){var c=r.useState(null),u=c[0],s=c[1];return r.useEffect(function(){if(t&&e.current&&!n){var r=function(e){if(!n&&0!==o.length){var t=null!=u?u:0;switch(e.key){case"ArrowDown":e.preventDefault(),t=Math.min(t+1,o.length-1),s(t);break;case"ArrowUp":e.preventDefault(),t=Math.max(t-1,0),s(t);break;case"Enter":case" ":if(e.preventDefault(),null!==u&&"none"!==l){var r=o[u],c=i(r,u);null==a||a(new Set([c]))}break;case"Escape":e.preventDefault(),s(null),null==a||a(new Set)}}};return e.current.addEventListener("keydown",r),function(){var t;null===(t=e.current)||void 0===t||t.removeEventListener("keydown",r)}}},[t,n,u,l,o,i,a,e]),{focusedRowIndex:u,setFocusedRowIndex:s}}(te,$,W,Ge,I,xe,function(e){return Re(e)}),Qe=Je.focusedRowIndex,Ye=f.length>0,$e=!W&&!Ye,_e=!W&&Ye,et=r.useCallback(function(e,t){var n=String(e.key);if("left"!==(ue[n]||e.pinned||null))return 0;var r=0;"none"!==I&&(r+=48);for(var o=0;o<t;o++){var l=he[o];if("left"===(ue[String(l.key)]||l.pinned||null))r+=Ie[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return r},[he,ue,Ie,I]),tt=r.useCallback(function(e,t){var n=String(e.key);if("right"!==(ue[n]||e.pinned||null))return 0;for(var r=0,o=t+1;o<he.length;o++){var l=he[o];if("right"===(ue[String(l.key)]||l.pinned||null))r+=Ie[String(l.key)]||("number"==typeof l.width?l.width:parseFloat(l.width||"0"))||("string"==typeof l.width&&l.width.includes("px")?parseFloat(l.width):100)}return r},[he,ue,Ie]);return e("div",o({ref:te,className:"th-table ".concat(P||""," th-theme-").concat(Xe.mode||"light"," ").concat(Ee?"resizing":""," ").concat(X?"th-sticky-header":""),style:o(o(o(o({},Ze),R),H?{maxHeight:"number"==typeof H?"".concat(H,"px"):H,overflow:"auto"}:{}),Ee?{cursor:"col-resize"}:{}),tabIndex:$?0:void 0},{children:[W&&t(s,{columns:he,itemsPerPage:v,selectionMode:I,onRenderLoading:V}),$e&&t(d,{emptyMessage:j,onRenderEmpty:U}),_e&&t("div",o({style:{overflowX:"auto",width:"100%"}},{children:e("table",{children:[t("thead",{children:e("tr",{children:["none"!==I&&t("th",o({className:"th-selection-column"},{children:t("div","multiple"===I?o({className:"th-selection-checkbox-wrapper"},{children:t("input",{type:"checkbox",className:"th-selection-checkbox",checked:Ce,ref:function(e){e&&(e.indeterminate=we)},onChange:function(e){return Pe(e.target.checked)},onClick:function(e){return e.stopPropagation()}})}):{className:"th-selection-checkbox-wrapper"})})),he.map(function(n,r){var l=String(n.key),i=Ie[l],a=ue[String(n.key)]||n.pinned||null,u="left"===a?et(n,r):0,s="right"===a?tt(n,r):0,d=o(o(o(o({},n.style),{width:i?"".concat(i,"px"):n.width,minWidth:n.minWidth,maxWidth:n.maxWidth,textAlign:n.align,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(u,"px"),zIndex:5}:{}),"right"===a?{right:"".concat(s,"px"),zIndex:5}:{}),h=n.className?"th-header-cell ".concat(a?"th-header-pinned":""," ").concat(n.className):a?"th-header-cell th-header-pinned":"th-header-cell";return e("th",o({style:d,draggable:J,onDragStart:function(){return pe(n.key)},onDragOver:function(e){return me(e,n.key)},onDrop:function(){return ve(n.key)},onDragLeave:function(){},className:de===n.key?"th-drag-over":""},{children:[C?C(n,r):e("div",o({className:h,ref:function(e){e&&(ee.current[String(n.key)]=e)},onMouseEnter:function(){return Be.handleHeaderMouseEnter(String(n.key))},onMouseLeave:Be.handleHeaderMouseLeave,onClick:function(e){return null==w?void 0:w(n,e)}},{children:[e("span",o({className:"th-header-label"},{children:[n.label,t("span",o({className:"th-header-chevron-icon",role:"presentation","aria-hidden":"true"},{children:t("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:t("path",{d:"M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"})}))}))]})),e("div",o({className:"th-header-icons"},{children:[a&&t("span",o({className:"th-header-pin-icon",title:"Pinned ".concat(a)},{children:t("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:t("path",{d:"M1990 748q-33 33-64 60t-66 47-73 29-89 11q-34 0-65-6l-379 379q13 38 19 78t6 80q0 65-13 118t-37 100-60 89-79 87l-386-386-568 569-136 45 45-136 569-568-386-386q44-44 86-79t89-59 100-38 119-13q40 0 80 6t78 19l379-379q-6-31-6-65 0-49 10-88t30-74 46-65 61-65l690 690z"})}))})),_.filters[String(n.key)]&&_.filters[String(n.key)].length>0&&t("span",o({className:"th-header-filter-icon",title:"Filtered",role:"presentation","aria-hidden":"true"},{children:t("svg",o({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 2048 2048",fill:"currentColor"},{children:t("path",{d:"M2048 128v219l-768 768v805H768v-805L0 347V128h2048z"})}))})),_.sortKey===n.key&&t("span",o({className:"th-header-sort-icon"},{children:"asc"===_.sortDir?t("span",o({className:"th-sort-arrow"},{children:"â†‘"})):t("span",o({className:"th-sort-arrow"},{children:"â†“"}))}))]})),t("span",o({className:"th-header-action"},{children:"â‹®"}))]})),!1!==n.resizable&&t("div",{className:"th-resize-handle",onMouseDown:function(e){return Le(String(n.key),e)},style:{cursor:"col-resize",position:"absolute",right:0,top:0,bottom:0,width:"4px",zIndex:10,userSelect:"none"}}),Be.calloutKey===n.key&&!Ee&&t(c,{anchorRef:{current:ee.current[String(n.key)]},onSortAsc:function(){!1!==n.sortable&&(_.handleSort(n.key,"asc"),Be.dismissCallout())},onSortDesc:function(){!1!==n.sortable&&(_.handleSort(n.key,"desc"),Be.dismissCallout())},onFilter:function(){var e;!1!==n.filterable&&(e=n.key,oe(String(e)),Be.dismissCallout())},onClearFilter:function(){!1!==n.filterable&&(_.setFilter(String(n.key),[]),Be.dismissCallout())},onPinLeft:function(){ge(n.key,"left"),Be.dismissCallout()},onPinRight:function(){ge(n.key,"right"),Be.dismissCallout()},onUnpin:function(){ge(n.key,null),Be.dismissCallout()},onToggleVisibility:function(){Z&&(fe(n.key),Be.dismissCallout())},onDismiss:function(){return Be.dismissCallout()},onMouseEnter:function(){return Be.handleHeaderMouseEnter(String(n.key))},onMouseLeave:Be.handleHeaderMouseLeave,sortable:!1!==n.sortable,filterable:!1!==n.filterable,hasFilter:_.filters[String(n.key)]&&_.filters[String(n.key)].length>0,pinned:ue[String(n.key)]||n.pinned||null,visible:se.has(n.key),enableColumnVisibility:Z,enableColumnReorder:J})]}),l)})]})}),t("tbody",{children:y&&je?je.map(function(n){var l=n[0],i=n[1],a=ie.has(l);return e(r.Fragment,{children:[t("tr",o({className:"th-group-header"},{children:t("td",o({colSpan:he.length+("none"!==I?1:0),className:"th-group-header-cell"},{children:e("button",o({className:"th-group-toggle",onClick:function(){return function(e){ae(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})}(l)},"aria-expanded":a},{children:[t("svg",o({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:a?"expanded":""},{children:t("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})),e("span",o({className:"th-group-label"},{children:[String(y),": ",l]})),e("span",o({className:"th-group-count"},{children:["(",i.length,")"]}))]}))}))})),a&&i.map(function(n,l){var i=f.findIndex(function(e){return e===n}),a=i>=0?i:_.filtered.findIndex(function(e){return e===n}),c=i>=0?i:a>=0?a:l,u=xe(n,c),s=be.has(u),d=i>=0&&ke===i;return k?t(r.Fragment,{children:k(n,c,h)},u):e("tr",o({className:"th-group-row ".concat(s?"th-row-selected":""," ").concat(d?"th-row-active":""),onClick:function(e){return Ne(n,c,e)},onContextMenu:function(e){return null==N?void 0:N(n,c,e)}},{children:["none"!==I&&t("td",o({className:"th-selection-column"},{children:t("div",o({className:"th-selection-checkbox-wrapper"},{children:t("input",{type:"single"===I?"radio":"checkbox",className:"th-selection-checkbox",checked:s,onChange:function(e){return Se(n,c,e.target.checked)},onClick:function(e){return e.stopPropagation()}})}))})),he.map(function(e){var r=String(e.key),l=Ie[r],i=ue[String(e.key)]||e.pinned||null,a=he.findIndex(function(e){return String(e.key)===r}),u="left"===i?et(e,a):0,s="right"===i?tt(e,a):0,d=o(o(o(o({},e.cellStyle),{textAlign:e.align,width:l?"".concat(l,"px"):e.width,position:i?"sticky":"relative"}),"left"===i?{left:"".concat(u,"px"),zIndex:3}:{}),"right"===i?{right:"".concat(s,"px"),zIndex:3}:{}),h=e.cellClassName?"".concat(e.cellClassName," ").concat(e.editable?"th-cell-editable":""," ").concat(i?"th-cell-pinned":""):"".concat(e.editable?"th-cell-editable":""," ").concat(i?"th-cell-pinned":"").trim(),f=T?Ue(n,e):void 0;return t("td",o({style:d,className:h,onDoubleClick:function(){return Oe(n,e,c)},title:f||void 0},{children:qe(n,e,c)}),r)})]}),u)})]},l)}):_.paged.map(function(n,l){var i=xe(n,l),a=be.has(i),c=ke===l;return k?t(r.Fragment,{children:k(n,l,h)},i):e("tr",o({className:"".concat(a?"th-row-selected":""," ").concat(c?"th-row-active":""," ").concat(Qe===l?"th-row-focused":""),onClick:function(e){return Ne(n,l,e)},onContextMenu:function(e){return null==N?void 0:N(n,l,e)}},{children:["none"!==I&&t("td",o({className:"th-selection-column"},{children:t("div",o({className:"th-selection-checkbox-wrapper"},{children:t("input",{type:"single"===I?"radio":"checkbox",className:"th-selection-checkbox",checked:a,onChange:function(e){return Se(n,l,e.target.checked)},onClick:function(e){return e.stopPropagation()}})}))})),he.map(function(e){var r=String(e.key),i=Ie[r],a=ue[String(e.key)]||e.pinned||null,c=he.findIndex(function(e){return String(e.key)===r}),u="left"===a?et(e,c):0,s="right"===a?tt(e,c):0,d=o(o(o(o({},e.cellStyle),{textAlign:e.align,width:i?"".concat(i,"px"):e.width,position:a?"sticky":"relative"}),"left"===a?{left:"".concat(u,"px"),zIndex:3}:{}),"right"===a?{right:"".concat(s,"px"),zIndex:3}:{}),h=e.cellClassName?"".concat(e.cellClassName," ").concat(e.editable?"th-cell-editable":""," ").concat(a?"th-cell-pinned":""):"".concat(e.editable?"th-cell-editable":""," ").concat(a?"th-cell-pinned":"").trim(),f=T?Ue(n,e):void 0;return t("td",o({style:d,className:h,onDoubleClick:function(){return Oe(n,e,l)},title:f||void 0},{children:qe(n,e,l)}),r)})]}),i)})})]})})),_e&&B&&t(a,{totalItems:y&&Ve?Object.keys(Ve).length:_.filtered.length,itemsPerPage:_.itemsPerPage,currentPage:_.currentPage,onPageChange:_.setCurrentPage}),re&&t(u,{field:re,values:We,selected:_.filters[re]||[],onApply:function(e){_.setFilter(re,e),oe(null)},onDismiss:function(){return oe(null)}})]}))}export{m as ReactTabletify,p as applyTheme,f as defaultDarkTheme,h as defaultLightTheme,g as getTheme,i as useTable};
//# sourceMappingURL=index.esm.js.map
